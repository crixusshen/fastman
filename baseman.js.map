{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6**************************","webpack:///./src/component/base.js?c398*"],"names":["_private","cache","tpl","str","data","env","fn","test","get","document","getElementById","innerHTML","i","variable","value","push","Function","code","apply","replace","split","join","adaptObject","element","defaults","option","template","plugin","pluginName","$this","context","$","extend","$container","container","undefined","isFromTpl","isArray","length","nodeName","toLowerCase","appendTo","selector","outerHTML","each","el"],"mappings":"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","file":"baseman.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fastman\"] = factory();\n\telse\n\t\troot[\"fastman\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","/**\n * Created by linyiqing on 2017/3/23.\n */\nlet _private = {};\n_private.cache = {};\n\nconst tpl = (str, data, env) => {\n    // 判断str参数，如str为script标签的id，则取该标签的innerHTML，再递归调用自身\n    // 如str为HTML文本，则分析文本并构造渲染函数\n    var fn = !/[^\\w\\-\\.:]/.test(str)\n        ? _private.cache[str] = _private.cache[str] || this.get(document.getElementById(str).innerHTML)\n        : function (data, env) {\n            var i, variable = [], value = []; // variable数组存放变量名，对应data结构的成员变量；value数组存放各变量的值\n            for (i in data) {\n                variable.push(i);\n                value.push(data[i]);\n            }\n            return (new Function(variable, fn.code))\n                .apply(env || data, value); // 此处的new Function是由下面fn.code产生的渲染函数；执行后即返回渲染结果HTML\n        };\n\n    fn.code = fn.code || \"var $parts=[]; $parts.push('\"\n        + str\n            .replace(/\\\\/g, '\\\\\\\\') // 处理模板中的\\转义\n            .replace(/[\\r\\t\\n]/g, \" \") // 去掉换行符和tab符，将模板合并为一行\n            .split(\"<%\").join(\"\\t\") // 将模板左标签<%替换为tab，起到分割作用\n            .replace(/(^|%>)[^\\t]*/g, function(str) { return str.replace(/'/g, \"\\\\'\"); }) // 将模板中文本部分的单引号替换为\\'\n            .replace(/\\t=(.*?)%>/g, \"',$1,'\") // 将模板中<%= %>的直接数据引用（无逻辑代码）与两侧的文本用'和,隔开，同时去掉了左标签产生的tab符\n            .split(\"\\t\").join(\"');\") // 将tab符（上面替换左标签产生）替换为'); 由于上一步已经把<%=产生的tab符去掉，因此这里实际替换的只有逻辑代码的左标签\n            .split(\"%>\").join(\"$parts.push('\") // 把剩下的右标签%>（逻辑代码的）替换为\"$parts.push('\"\n        + \"'); return $parts.join('');\"; // 最后得到的就是一段JS代码，保留模板中的逻辑，并依次把模板中的常量和变量压入$parts数组\n\n    return data ? fn(data, env) : fn; // 如果传入了数据，则直接返回渲染结果HTML文本，否则返回一个渲染函数\n};\n\nconst adaptObject = (element, defaults, option,template,plugin,pluginName) => {\n    var $this= element;\n\n    if (typeof option != 'string'){\n\n        // 获得配置信息\n        var context=$.extend({}, defaults,  typeof option == 'object' && option);\n\n        var $container = context.container == undefined ? 'body': context.container;\n\n        var isFromTpl=false;\n        // 如果传入script标签的选择器\n        if($.isArray($this) && $this.length && $($this)[0].nodeName.toLowerCase()==\"script\"){\n            // 根据模板获得对象并插入到body中\n            $this=$(tpl($this[0].innerHTML,context)).appendTo($($container));\n            isFromTpl=true;\n        }\n        // 如果传入模板字符串\n        else if($.isArray($this) && $this.length && $this.selector== \"\"){\n            // 根据模板获得对象并插入到body中\n            $this=$(tpl($this[0].outerHTML,context)).appendTo($($container));\n            isFromTpl=true;\n        }\n        // 如果通过$.dialog()的方式调用\n        else if(!$.isArray($this)){\n            // 根据模板获得对象并插入到body中\n            $this=$(tpl(template,context)).appendTo($($container));\n            isFromTpl=true;\n        }\n    }\n\n    return $this.each(function () {\n        var el = $(this);\n        // 读取对象缓存\n        var data  = el.data('fz.'+pluginName);\n\n        if (!data) el.data('fz.'+pluginName,\n            (data = new plugin(this,$.extend({}, defaults,  typeof option == 'object' && option),isFromTpl)\n\n            ));\n\n        if (typeof option == 'string') data[option]();\n    })\n};\n\nexport {tpl,adaptObject}\n\n\n// WEBPACK FOOTER //\n// ./src/component/base.js"],"sourceRoot":""}