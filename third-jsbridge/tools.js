/*!
 * /*!
 *  * ============================================================
 *  *
 *  * Orientsec fastman By ShenZhiWei - http://www.dfzq.com.cn/
 *  *
 *  * ============================================================
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.fastman=e():t.fastman=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}({11:function(t,e,n){"use strict";function i(t){for(var e=document.scripts,n=e.length;n>0;n--)if(e[n-1].src.indexOf(t)>-1)return e[n-1].src;return""}function o(t,e){for(var n=t.split("?"),i=n[1].split("&"),o=0;o<i.length;o++){var a=i[o].split("=");if(a[0]==e)return a[1]}return""}var a=document.createElement("div"),s={0:{domain:"",path:"/message/transport",ver:"3.5.0",channel:"3"},1:{domain:"http://itest.dfzq.com.cn",path:"/message/transport",ver:"3.5.0",channel:"3"}};$.extend({dialog:function(t){t=$.extend({},{title:"提示",text:"",onClick:function(){}},t);a.innerHTML='<div id="dialog" class="js_dialog" style="display: none;">\n        <div class="weui-mask"></div>\n        <div class="weui-dialog">\n            <div class="weui-dialog__hd"><strong class="weui-dialog__title"></strong></div>\n            <div class="weui-dialog__bd"></div>\n            <div class="weui-dialog__ft">\n                <a id="certain" href="javascript:;" class="weui-dialog__btn weui-dialog__btn_default">确定</a>\n            </div>\n        </div>\n    </div>';var e=$(a).children();e.find(".weui-dialog__title").text(t.title),e.find(".weui-dialog__bd").text(t.text),$("body").append(e[0]),$(e[0]).fadeIn("fast"),$(e[0]).on("click",".weui-dialog__btn",function(){t.onClick&&"function"==typeof t.onClick&&t.onClick(),$(this).parents(".js_dialog").fadeOut("fast",function(){$(this).remove()})})},actionSheet:function(t){function e(){$("#iosActionsheet").removeClass("weui-actionsheet_toggle"),$("#iosMask").fadeOut("fast",function(){$(this).remove(),$("#iosActionsheet").remove(),$(document).off()})}if(t=$.extend({},{actions:[],title:""},t),0!=t.actions.length){var n='<div class="weui-actionsheet" id="iosActionsheet">\n            <div class="weui-actionsheet__title">\n                <p class="weui-actionsheet__title-text">'+t.title+'</p>\n            </div>\n            <div class="weui-actionsheet__menu">\n            </div>\n            <div class="weui-actionsheet__action">\n                <div class="weui-actionsheet__cell" id="iosActionsheetCancel">取消</div>\n            </div>\n        </div>';a.innerHTML=n;var i=$(a).children();t.title||i.find(".weui-actionsheet__title").remove(),i.find(".weui-actionsheet__menu").empty().append(t.actions.map(function(t,n){var i='<div class="weui-actionsheet__cell actionsheet__menuitem'+n+'">'+t.text+"</div>";return $(document).on("touchstart",".actionsheet__menuitem"+n,function(){"function"==typeof t.onClick&&(t.onClick(t.value),e())}),$(i)[0]})),$("body").append(i[0]);var o=$('<div class="weui-mask" id="iosMask" style="display: none;"></div>');o.on("click",e),$("#iosActionsheetCancel").on("click",e),$("body").append(o[0]),$(i[0]).addClass("weui-actionsheet_toggle"),o.fadeIn("fast")}},loadingToast:function(t){t=$.extend({},{showStatus:"show",text:"数据加载中"},t);var e='<div id="loadingToast">\n        <div class="weui-mask_transparent"></div>\n        <div class="weui-toast">\n            <i class="weui-loading weui-icon_toast"></i>\n            <p class="weui-toast__content">'+t.text+"</p>\n        </div>\n    </div>",n=$(e);0==$("body").find("#loadingToast").length&&"show"==t.showStatus?($("body").append(n),n.fadeIn("fast")):($("body").find("#loadingToast").fadeOut("fast"),$("body").find("#loadingToast").remove())},http:function(t){if(t=$.extend({},{scene:"sit",funcNo:"",params:{},success:function(){},error:function(){}},t),!t.funcNo)return void alert("请定义功能号");var e=i("tools.js"),n=o(e,"env"),a=s[n];$.ajax(a.domain+a.path,{type:"POST",crossDomain:!0,contentType:"application/json",data:JSON.stringify({target:"http://itest.dfzq.com.cn/api/gateway?func="+t.funcNo+"&scene="+t.scene,header:{funcNo:t.funcNo,ver:a.ver,channel:a.channel,token:window.token,vtDeviceId:window.vtDeviceId},payload:t.params}),success:t.success,error:t.error})},checkLoginState:function(t){return!(t>=3e3&&t<=3019||3030===t||10026===t||5200===t||3111===t)||(fastman?(fastman.onLogin({success:function(t){window.token=t.token,window.vtDeviceId=t.vtDeviceId}}),!1):void 0)},oauth:function(t){t=$.extend({},{success:function(){},error:function(){}},t),fastman?fastman.oauth({success:function(t){window.token=t.token,window.vtDeviceId=t.vtDeviceId},fail:function(t){alert(t.info)}}):t.success()}})}})});