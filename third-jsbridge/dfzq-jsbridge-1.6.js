/*!
 * /*!
 *  * ============================================================
 *  *
 *  * Orientsec fastman By ShenZhiWei - http://www.dfzq.com.cn/
 *  *
 *  * ============================================================
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.fastman=t():e.fastman=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t=document.createElement("a");t.setAttribute("href",e);var n=t.href;return t=null,n},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(e){return!(null!=e&&(e.length||e.length>0))};t.getAbsoluteUrl=i,t._extends=o,t.isEmpty=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onApiRequest=t.pageWillAppear=t.onRequest=t.onDynamicLink=t.subscribeNotify=t.onNotify=t.onPushView=t.onNavigationBar=t.onRefresh=t.onBack=t.ready=t.wrapNotOkPayload=t.wrapOkPayload=void 0;var i=n(0),o=n(2),a=navigator.userAgent,r=a.match(/(Android);?[\s\/]+([\d.]+)?/),s=a.match(/(iPad).*OS\s([\d_]+)/),c=a.match(/(iPod)(.*OS\s([\d_]+))?/),l=!s&&a.match(/(iPhone\sOS)\s([\d_]+)/),u=!!a.toLowerCase().match(/DFYJ/i),d=function(e){return e.init(function(e,t){t&&t(data)}),e},f=function(e){var t=function(t){(0,o.log)("ready end"),e(t)};if(u)if(s||l||c){if(window.WebViewJavascriptBridge)return(0,o.log)("ready sync start"),t(WebViewJavascriptBridge);if((0,o.log)("ready async start(push)"),window.WVJBCallbacks)return window.WVJBCallbacks.push(t);(0,o.log)("ready async start(iframe)"),window.WVJBCallbacks=[t];var n=document.createElement("iframe");n.style.display="none",n.src="https://__bridge_loaded__",document.documentElement.appendChild(n),setTimeout(function(){document.documentElement.removeChild(n)},0)}else r?window.WebViewJavascriptBridge?((0,o.log)("ready sync start"),t(d(WebViewJavascriptBridge))):((0,o.log)("ready async start"),document.addEventListener("WebViewJavascriptBridgeReady",function(){t(d(WebViewJavascriptBridge))},!1)):((0,o.log)("other platform ready sync start"),t());else(0,o.log)("non app ready sync start"),t()},p=function(){},g=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},y=function(){return{code:arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,info:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error"}},v=function(e){var t={complete:p};t=(0,i._extends)({},t,e),(0,o.log)("onBack->"+JSON.stringify(t)),WebViewJavascriptBridge.callHandler("back",t,function(e){(0,o.log)("onBack<-"+JSON.stringify(e)),t.complete(e)})},m=function(e){var t={complete:p};t=(0,i._extends)({},t,e),(0,o.log)("onRefresh->"+JSON.stringify(t)),WebViewJavascriptBridge.callHandler("refresh",t,function(e){(0,o.log)("onRefresh<-"+JSON.stringify(e)),t.complete(e)})},h=function(e){var t={complete:p};t=(0,i._extends)({},t,e),(0,o.log)("onNavigationBar->"+JSON.stringify(t)),WebViewJavascriptBridge.callHandler("navigationBar",t,function(e){(0,o.log)("onNavigationBar<-"+JSON.stringify(e)),t.complete(e)})},b=function(e){var t={title:""};t=(0,i._extends)({},t,e),t.uri&&(-1!=t.uri.indexOf("http")||-1!=t.uri.indexOf("https")||(t.uri=(0,i.getAbsoluteUrl)(t.uri))),(0,o.log)("onPushView->"+JSON.stringify(t)),WebViewJavascriptBridge.callHandler("pushView",t,function(e){(0,o.log)("onPushView<-"+JSON.stringify(e))})},w=function(e){"function"==typeof e&&WebViewJavascriptBridge.registerHandler("pageWillAppear",e)},O=function(e){var t={type:"javascriptNotify"};t=(0,i._extends)({},t,e),(0,o.log)("onNotify->"+JSON.stringify(t)),WebViewJavascriptBridge.callHandler("notify",t,function(e){(0,o.log)("onNotify<-"+JSON.stringify(e))})},N={},J=function(e,t){if("function"==typeof t){N[e]=t;var n=e;"sae_video"==n&&(n="notify"),(0,o.log)("subscribeNotify->"+e),WebViewJavascriptBridge.registerHandler(n,function(e){(0,o.log)("subscribeNotify<-"+JSON.stringify(e)),N[n]&&N[n](e)})}},B=function(e){var t={url:""};t=(0,i._extends)({},t,e),(0,o.log)("onDynamicLink->"+JSON.stringify(t)),WebViewJavascriptBridge.callHandler("dynamicLink",t,function(e){(0,o.log)("onDynamicLink<-"+JSON.stringify(e))})},_={},k=!1,x=function(e,t,n,i){var a={type:e||"1",payload:t||{}};_[e+"-ok"]="function"==typeof n?n:p,_[e+"-notok"]="function"==typeof i?i:p,(0,o.log)("onRequest->"+JSON.stringify(a)),WebViewJavascriptBridge.callHandler("request",a,function(t){"string"==typeof t&&(t=JSON.parse(t)),(0,o.log)("onRequest<-"+JSON.stringify(t)),t.error||"true"===t.error?"function"==typeof i&&_[e+"-notok"](y(-1,t.info)):"function"==typeof n&&(s||l||c||t.payload)&&_[e+"-ok"](g(t.payload))}),k||(WebViewJavascriptBridge.registerHandler("request",function(t){"string"==typeof t&&(t=JSON.parse(t)),t.error||"true"===t.error?"function"==typeof _[e+"-notok"]&&_[e+"-notok"](y(-1,t.info)):"function"==typeof _[e+"-ok"]&&_[e+"-ok"](g(t.payload))}),k=!0)},S=function(e,t,n,a){if((0,i.isEmpty)(e))throw new Error("functionNo is required ...");var r={funcId:e,payload:t||{}};(0,o.log)("onApiRequest->"+JSON.stringify(r)),WebViewJavascriptBridge.callHandler("apiRequest",r,function(e){if((0,o.log)("onApiRequest<-"+JSON.stringify(e)),"string"==typeof e&&(e=JSON.parse(e)),s||l||c){if(e.error||"true"===e.error)e.payload?"function"==typeof a&&a(y(e.payload.code,e.payload.info)):"function"==typeof a&&a(y(-1,e.info));else if("function"==typeof n){var t={};e.payload&&(t="string"==typeof e.payload.data?JSON.parse(e.payload.data):e.payload.data),n(g(t))}}else if(e.error||"true"===e.error)"function"==typeof a&&a(y(-1,e.info));else{var i={};i="string"==typeof e.payload.data?JSON.parse(e.payload.data):e.payload.data?e.payload.data:{},"0"!=e.payload.code?"function"==typeof a&&a(y(e.payload.code,e.payload.info)):"function"==typeof n&&n(g(i))}})};t.wrapOkPayload=g,t.wrapNotOkPayload=y,t.ready=f,t.onBack=v,t.onRefresh=m,t.onNavigationBar=h,t.onPushView=b,t.onNotify=O,t.subscribeNotify=J,t.onDynamicLink=B,t.onRequest=x,t.pageWillAppear=w,t.onApiRequest=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){new Date};t.log=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){for(var n=e.split(".").length;n<t;)e+=".0",n++;return e},o=function(e){var t=navigator.userAgent.toLowerCase().match(/DFYJ\/([\d.]+)/i);return t?t[1]:void 0},a=function(e,t){var n=e.split("."),o=t.split("."),a=Math.max(n.length,o.length);e=i(e,a),t=i(t,a);var r=e.split("."),s=t.split(".");if(e===t)return 0;for(var c=0;c<r.length;c++){var l=parseInt(r[c]);if(!s[c])return 1;var u=parseInt(s[c]);if(l<u)return-1;if(l>u)return 1}return-1},r=function(e){var t=o();return t?a(t,e):1};t.getVersion=o,t.compareVersion=r,t._compareVersion=a},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onLoginEnhance=t.onViewWillAppear=t.onWxPay=t.onNavigateBar=t.onNavigateNativeTo=t.onReq=t.onNavigateBack=t.onNavigateTo=t.onShare=t.onLogin=t.oauth=t.ready=t.isFromAndroid=t.isFromIOS=t.isFromWeiXin=t.isFromApp=void 0;var i=n(0),o=n(1),a=n(3),r=n(2),s=!1,c=function(){},l=navigator.userAgent,u=l.match(/(Android);?[\s\/]+([\d.]+)?/),d=l.match(/(iPad).*OS\s([\d_]+)/),f=l.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&l.match(/(iPhone\sOS)\s([\d_]+)/),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"请在东方赢家财富版客户端打开链接",t=document.createElement("div");t.style.cssText="display:table;position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;background:white;z-index:99999;",t.innerHTML='<div style="display:table-cell;vertical-align: middle;text-align: center;">'+e+"</div>",document.body.appendChild(t)},y=function(){return!!navigator.userAgent.toLowerCase().match(/DFYJ/i)},v=function(){return!!navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},m=function(){return!!(d||p||f)},h=function(){return!!u},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;(0,o.ready)(e)},w=function(e){var t={success:c,fail:c};e=(0,i._extends)({},t,e),y()?s||(s=!0,WebViewJavascriptBridge&&((0,r.log)("oauth start"),WebViewJavascriptBridge.callHandler("refreshToken",{},function(t){if("string"==typeof t&&(t=JSON.parse(t)),"0"==t.code){(0,r.log)("oauth successful:"+JSON.stringify(t));var n={};if(n.token=t.token,n.vtDeviceId=t.vtDeviceId,"function"==typeof e.success){var i=(0,o.wrapOkPayload)(n);e.success(i)}}else if((0,r.log)("oauth failure:"+JSON.stringify(t)),"function"==typeof e.fail){var a=(0,o.wrapNotOkPayload)(-1,"桥接程序建立失败");e.fail(a)}s=!1,(0,r.log)("oauth end")}))):g()},O=function(e){var t={success:c,fail:c};e=(0,i._extends)({},t,e),y()?(0,o.onRequest)("2","",e.success,e.fail):g()},N=function(e){var t={success:c,fail:c};e=(0,i._extends)({},t,e),e.type="1",y()?(0,o.onRequest)("1",e,e.success,e.fail):g()},J=function(e){var t={channel:"1",title:"",description:"",thumbImageUrl:"http://wxs.dfzq.com.cn/fileRes/new_download/images/new_pic.jpg",link:"",ext:"",success:c,fail:c};e=(0,i._extends)({},t,e),y()?("3"==e.channel&&(d||p||f)&&(e.thumbImageUrl=t.thumbImageUrl),(0,o.onRequest)("4",{channel:e.channel,title:e.title,description:e.description,thumbImageUrl:e.thumbImageUrl,link:e.link,ext:e.ext},e.success,e.fail)):g()},B=function(e){var t={title:"",uri:"",success:c,fail:c};e=(0,i._extends)({},t,e),y()?(0,o.onPushView)(e):g()},_=function(e){var t={title:"",uri:"",success:c,fail:c};e=(0,i._extends)({},t,e),y()?(e.complete=e.success,(0,o.onBack)(e)):g()},k=function(e,t){var n={success:c,fail:c};t=(0,i._extends)({},n,t),y()?(0,o.onApiRequest)(e,t,t.success,t.fail):g()},x=function(e){var t={url:"",success:c,fail:c};e=(0,i._extends)({},t,e),(0,a.compareVersion)("3.2.6")>=0&&""!=e.url&&(e.url=e.url.replace("dfyj://dl","dfyj20170811://dl")),y()?(0,o.onDynamicLink)(e):g()},S=function(e){var t={title:"",type:"0",rightButtonTitle:"",onRightButtonPress:c,isShowBackButton:!0,success:c,fail:c};e=(0,i._extends)({},t,e),y()?(e.onRightButtonPress!=c&&WebViewJavascriptBridge&&WebViewJavascriptBridge.registerHandler("onRightButtonPress",e.onRightButtonPress),(0,o.onNavigationBar)(e)):g()},W=function(e){var t={appId:"",partnerId:"",prePayId:"",noncestr:"",timestamp:"",package:"Sign=WXPay",sign:""};e=(0,i._extends)({},t,e),y()?(0,o.onRequest)("5",{appId:e.appId,partnerId:e.partnerId,prePayId:e.prePayId,noncestr:e.noncestr,timestamp:e.timestamp,package:e.package,sign:e.sign},e.success,e.fail):g()},V=function(e){"function"==typeof e&&(y()?((0,r.log)("pageWillAppear->{}"),(0,o.pageWillAppear)(function(){"l"!==document.readyState[0]?((0,r.log)("pageWillAppear<-{DOMContentReady:yes}"),e()):document.addEventListener("DOMContentLoaded",function(){(0,r.log)("pageWillAppear<-{DOMContentLoaded:yes}"),e()})})):g())};t.isFromApp=y,t.isFromWeiXin=v,t.isFromIOS=m,t.isFromAndroid=h,t.ready=b,t.oauth=w,t.onLogin=O,t.onShare=J,t.onNavigateTo=B,t.onNavigateBack=_,t.onReq=k,t.onNavigateNativeTo=x,t.onNavigateBar=S,t.onWxPay=W,t.onViewWillAppear=V,t.onLoginEnhance=N}])});