{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6******","webpack:///webpack/bootstrap 777558ddeb735e95237b?0c98******","webpack:///./src/jsBridge/util.js?3ad6******","webpack:///./src/jsBridge/core.js?d1b6******","webpack:///./src/jsBridge/log.js?60a9******"],"names":["getAbsoluteUrl","url","link","document","createElement","setAttribute","absoluteUrl","href","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","isEmpty","str","ua","navigator","userAgent","android","match","ipad","ipod","iphone","isFromApp","toLowerCase","init","bridge","message","responseCallback","data","ready","callback","__cb___","__bridge___","window","WebViewJavascriptBridge","WVJBCallbacks","push","WVJBIframe","style","display","src","documentElement","appendChild","setTimeout","removeChild","addEventListener","noop","wrapOkPayload","payload","wrapNotOkPayload","code","info","onBack","options","_options","complete","JSON","stringify","callHandler","response","onRefresh","onNavigationBar","onPushView","title","uri","indexOf","pageWillAppear","registerHandler","onNotify","type","notifyQueue","subscribeNotify","_type","onDynamicLink","requestHandlerMap","requestHandlerRegisterFlag","onRequest","operationType","payloadOptions","okCallBack","notOkCallBack","parse","error","onApiRequest","functionNo","Error","funcId","re","log","_d","Date","console","toLocaleTimeString","getMilliseconds"],"mappings":"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","file":"jsbridgeman.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fastman\"] = factory();\n\telse\n\t\troot[\"fastman\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 777558ddeb735e95237b","/**\n * Created by dfzq on 2017/4/13.\n */\n/**\n * 获取绝对路径\n * @param url\n */\nlet getAbsoluteUrl = function (url) {\n    var link = document.createElement('a');\n    link.setAttribute('href', url);\n    var absoluteUrl = link.href;\n    link = null;\n    return absoluteUrl;\n}\n\n/**\n * 属性继承\n * @type {*}\n * @private\n */\nvar _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) {\n                // 源对象中是否存在对象键值\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    }\n\n/**\n * 判断是否为空\n * @param str {string} 需要判断的值\n * @returns {boolean}\n */\nconst isEmpty = (str) => {\n    return !(str != null && (!!str.length ? true : str.length > 0));\n}\n\nexport {\n    getAbsoluteUrl,\n    _extends,\n    isEmpty,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/jsBridge/util.js","/**\n * Created by dfzq on 2017/4/13.\n */\nimport {\n  getAbsoluteUrl,\n  _extends,\n  isEmpty\n} from './util'\nimport {\n  log,\n} from './log'\n\n// 区分设备系统\nvar ua = navigator.userAgent;\nvar android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\nvar ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\nvar ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\nvar iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\nvar isFromApp = !!ua.toLowerCase().match(/DFYJ/i);\n\n// 初始化桥接对象\nvar init = function (bridge) {\n  bridge.init(function (message, responseCallback) {\n    if (responseCallback)\n      responseCallback(data)\n  })\n\n  return bridge\n}\n\n/**\n * 初始化桥接对象\n * connectWebViewJavascriptBridge\n * @param callback\n */\nvar ready = function (callback) {\n  let __cb___ = function(__bridge___) {\n    log('ready end')\n    callback(__bridge___)\n  }\n\n  if (isFromApp) {\n    if (ipad || iphone || ipod) {\n      // 新版本兼容IOS\n      if (window.WebViewJavascriptBridge) {\n        log('ready sync start')\n        return __cb___(WebViewJavascriptBridge);\n      }\n      log('ready async start(push)')\n      if (window.WVJBCallbacks) {\n        return window.WVJBCallbacks.push(__cb___);\n      }\n      log('ready async start(iframe)')\n      window.WVJBCallbacks = [__cb___];\n      var WVJBIframe = document.createElement('iframe');\n      WVJBIframe.style.display = 'none';\n      WVJBIframe.src = 'https://__bridge_loaded__';\n      document.documentElement.appendChild(WVJBIframe);\n      setTimeout(function () {\n        document.documentElement.removeChild(WVJBIframe)\n      }, 0)\n    } else if (android) {\n      // 旧版本兼容Android\n      if (window.WebViewJavascriptBridge) {\n        log('ready sync start')\n        __cb___(init(WebViewJavascriptBridge))\n      } else {\n        log('ready async start')\n        document.addEventListener('WebViewJavascriptBridgeReady', function () {\n          // 以异步形式加载\n          __cb___(init(WebViewJavascriptBridge))\n        }, false)\n      }\n    } else {\n      log('other platform ready sync start')\n      __cb___()\n    }\n  } else {\n    log('non app ready sync start')\n    __cb___()\n  }\n}\n\n// 空函数\nvar noop = function () {}\n\n/**\n * 成功消息体的包装\n * @param payload 成功对象\n */\n// const wrapOkPayload = (payload = {}) => ({\n//     error: false,\n//     info: 'ok',\n//     payload: payload,\n// })\nconst wrapOkPayload = (payload = {}) => (payload)\n\n/**\n * 失败消息体的包装\n * @param info 错误描述\n */\nconst wrapNotOkPayload = (code = -1, info = 'error') => ({\n  // error: true,\n  code: code,\n  info: info,\n})\n\n/**\n * APP WebView后退，后退到栈的最外层\n * @param options\n */\nvar onBack = function (options) {\n  // 默认配置\n  var _options = {\n    complete: noop\n  };\n  // 复制\n  _options = _extends({}, _options, options);\n\n  log('onBack->' + JSON.stringify(_options))\n  WebViewJavascriptBridge.callHandler('back', _options, function (response) {\n    log('onBack<-' + JSON.stringify(response))\n    _options.complete(response);\n  });\n}\n\n/**\n * APP WebView刷新\n * @param options\n */\nvar onRefresh = function (options) {\n  var _options = {\n    complete: noop\n  };\n  _options = _extends({}, _options, options);\n\n  log('onRefresh->' + JSON.stringify(_options))\n  WebViewJavascriptBridge.callHandler('refresh', _options, function (response) {\n    log('onRefresh<-' + JSON.stringify(response))\n    _options.complete(response);\n  });\n}\n\n/**\n * 设置原生导航条\n * @param options\n * {\n *    \"title\": \"xxxxx\",\n *    \"type\": \"0\"       // 0-默认 1-切换类\n * }\n */\nvar onNavigationBar = function (options) {\n  var _options = {\n    complete: noop\n  };\n  _options = _extends({}, _options, options);\n\n  log('onNavigationBar->' + JSON.stringify(_options))\n  WebViewJavascriptBridge.callHandler('navigationBar', _options, function (response) {\n    log('onNavigationBar<-' + JSON.stringify(response))\n    _options.complete(response);\n  });\n}\n\n/**\n * 打开一个新的webview\n * @param options\n * {\n *    \"title\": \"xxxxx\",      // 导航名称，如果html设置title，以html为主\n *    \"uri\": \"xxxxxxx\",      // webview请求的路由地址，目前只支持http协议，今后可支持shema协议\n *    \"locktype\": 0,         // 0-不需要手势密码；1-手势密码锁屏；2-资金账号锁屏；\n * }\n */\nvar onPushView = function (options) {\n  var _options = {\n    title: ''\n  };\n  _options = _extends({}, _options, options);\n\n  if (!!_options.uri) {\n    if (_options.uri.indexOf('http') != -1 || _options.uri.indexOf('https') != -1) {\n\n    } else {\n      _options.uri = getAbsoluteUrl(_options.uri);\n    }\n  }\n\n  log('onPushView->' + JSON.stringify(_options))\n  WebViewJavascriptBridge.callHandler('pushView', _options, function (response) {\n    log('onPushView<-' + JSON.stringify(response))\n  });\n}\n\n/**\n * 原生页面将要出现时触发的事件\n * @param callback\n */\nvar pageWillAppear = function (callback) {\n  if (typeof callback == 'function')\n    WebViewJavascriptBridge.registerHandler(\"pageWillAppear\", callback)\n}\n\n/**\n * H5发送通知给客户端\n * @param options\n */\nvar onNotify = function (options) {\n  var _options = {\n    type: 'javascriptNotify'\n  };\n  _options = _extends({}, _options, options);\n\n  log('onNotify->' + JSON.stringify(_options))\n  WebViewJavascriptBridge.callHandler('notify', _options, function (response) {\n    log('onNotify<-' + JSON.stringify(response))\n  });\n}\n\n/**\n * H5注册通知，由客户端进行通知\n * @param type  事件类型名称\n * @param callback  回调处理\n */\nvar notifyQueue = {};\nvar subscribeNotify = function (type, callback) {\n  if (typeof callback == 'function') {\n    //回调函数存在队列中\n    notifyQueue[type] = callback;\n    var _type = type;\n    if (_type == 'sae_video') {\n      _type = 'notify';\n    }\n\n    log('subscribeNotify->' + type)\n    WebViewJavascriptBridge.registerHandler(_type, data => {\n      log('subscribeNotify<-' + JSON.stringify(data))\n      // //获取data.type才是H5定义的type\n      // if (Object.prototype.toString.call(data).toLocaleLowerCase() == '[object String]'.toLocaleLowerCase()) {\n      //   data = JSON.parse(data);\n      // }\n      if (notifyQueue[_type]) {\n        notifyQueue[_type](data);\n      }\n    })\n  }\n}\n\n/**\n * 调用Schema Url\n * @param options\n */\nvar onDynamicLink = function (options) {\n  var _options = {\n    url: ''\n  };\n  _options = _extends({}, _options, options);\n\n  log('onDynamicLink->' + JSON.stringify(_options))\n  WebViewJavascriptBridge.callHandler('dynamicLink', _options, function (response) {\n    log('onDynamicLink<-' + JSON.stringify(response))\n  });\n}\n\n// 存储Request指令订阅Handlers\nvar requestHandlerMap = {}\n// 是否注册了Request指令订阅Handlers\nvar requestHandlerRegisterFlag = false\n\n/**\n * 调用Request指令（通常作用在一些原生和客户端之间比较特殊的操作）\n * @param operationType     操作指令（见文档）\n * @param payloadOptions    消息体结构\n */\nvar onRequest = function (operationType, payloadOptions, okCallBack, notOkCallBack) {\n  var _options = {\n    type: !operationType ? '1' : operationType,\n    payload: !payloadOptions ? {} : payloadOptions,\n  }\n\n  requestHandlerMap[operationType + '-ok'] = (typeof okCallBack === 'function') ? okCallBack : noop\n  requestHandlerMap[operationType + '-notok'] = (typeof notOkCallBack === 'function') ? notOkCallBack : noop\n\n  // IOS同步回调处理\n  log('onRequest->' + JSON.stringify(_options))\n  WebViewJavascriptBridge.callHandler('request', _options, function (response) {\n\n    if (typeof response == 'string') {\n      response = JSON.parse(response);\n    }\n\n    log('onRequest<-' + JSON.stringify(response))\n    if (response.error || response.error === 'true') {\n      if (typeof notOkCallBack === 'function') {\n        requestHandlerMap[operationType + '-notok'](wrapNotOkPayload(-1, response.info))\n      }\n    } else {\n      if (typeof okCallBack === 'function') {\n        // 防止安卓指令调用成功同步进入的控制\n        if ((ipad || iphone || ipod) || response.payload) {\n          requestHandlerMap[operationType + '-ok'](wrapOkPayload(response.payload))\n        }\n      }\n    }\n\n  })\n\n  if (!requestHandlerRegisterFlag) {\n    // Android异步回调处理\n    WebViewJavascriptBridge.registerHandler('request', function (response) {\n\n      if (typeof response == 'string') {\n        response = JSON.parse(response);\n      }\n\n      if (response.error || response.error === 'true') {\n        if (typeof requestHandlerMap[operationType + '-notok'] === 'function') {\n          requestHandlerMap[operationType + '-notok'](wrapNotOkPayload(-1, response.info))\n        }\n      } else {\n        if (typeof requestHandlerMap[operationType + '-ok'] === 'function') {\n          requestHandlerMap[operationType + '-ok'](wrapOkPayload(response.payload))\n        }\n      }\n\n    })\n    requestHandlerRegisterFlag = true\n  }\n\n}\n\n/**\n * 提供给第三方调用中台接口的函数\n * @param functionNo        中台功能号\n * @param payloadOptions    中台消息体\n * @param okCallBack        成功回调函数\n * @param notOkCallBack     失败回调函数\n */\nvar onApiRequest = function (functionNo, payloadOptions, okCallBack, notOkCallBack) {\n\n  if (isEmpty(functionNo)) {\n    throw new Error('functionNo is required ...')\n  } else {\n    var _options = {\n      funcId: functionNo,\n      payload: !payloadOptions ? {} : payloadOptions,\n    }\n  }\n\n  log('onApiRequest->' + JSON.stringify(_options))\n  WebViewJavascriptBridge.callHandler('apiRequest', _options, function (response) {\n    log('onApiRequest<-' + JSON.stringify(response))\n\n    if (typeof response == 'string') {\n      response = JSON.parse(response)\n    }\n\n    // 2017-12-26:对脚本逻辑做兼容，IOS认为业务异常和系统异常response.error都是true，ANDROID认为业务异常和业务成功时response.error是false,而系统异常response.error是true\n\n    // IOS认为业务异常和系统异常response.error都是true,业务成功response.error是false\n    if (ipad || iphone || ipod) {\n\n      if (response.error || response.error === 'true') {\n        // 接口业务异常\n        if (response.payload) {\n          if (typeof notOkCallBack === 'function') {\n            notOkCallBack(wrapNotOkPayload(response.payload.code, response.payload.info))\n          }\n        }\n        // 客户端自身应用级别错误（ios不给payload字段）\n        else {\n          if (typeof notOkCallBack === 'function') {\n            notOkCallBack(wrapNotOkPayload(-1, response.info))\n          }\n        }\n      } else {\n        if (typeof okCallBack === 'function') {\n          let re = {}\n          if (response.payload) {\n            if (typeof response.payload.data == 'string') {\n              re = JSON.parse(response.payload.data)\n            } else {\n              re = response.payload.data\n            }\n          }\n\n          okCallBack(wrapOkPayload(re))\n        }\n      }\n\n    }\n    // ANDROID认为业务异常和业务成功时response.error是false,而系统异常response.error是true\n    else {\n\n      if (response.error || response.error === 'true') {\n        if (typeof notOkCallBack === 'function') {\n          notOkCallBack(wrapNotOkPayload(-1, response.info))\n        }\n      } else {\n        let re = {}\n        if (typeof response.payload.data == 'string') {\n          re = JSON.parse(response.payload.data)\n        } else {\n          re = response.payload.data ? response.payload.data : {}\n        }\n\n        // 业务异常\n        if (response.payload.code != '0') {\n          if (typeof notOkCallBack === 'function') {\n            notOkCallBack(wrapNotOkPayload(response.payload.code, response.payload.info))\n          }\n        }\n        // 业务成功\n        else {\n          if (typeof okCallBack === 'function') {\n            okCallBack(wrapOkPayload(re))\n          }\n        }\n      }\n\n    }\n\n  })\n\n}\n\nexport {\n  wrapOkPayload,\n  wrapNotOkPayload,\n\n  // ready是一个异步操作,如果需要在页面加载时就调用相关接口,则需把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口,则可直接调用,不需要放在ready函数中\n  // 该函数中有一个bridge变量,与下面的bridge使用上一致,只是调用顺序需要额外注意\n  ready,\n  onBack,\n  onRefresh,\n  onNavigationBar,\n  onPushView,\n  onNotify, // H5发送通知给客户端\n  subscribeNotify, // 客户端发送通知给H5\n  onDynamicLink,\n  onRequest,\n\n  // 原生生命周期相关事件\n  pageWillAppear,\n\n  // 第三方接口调用\n  onApiRequest,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/jsBridge/core.js","/**\n * Created by dfzq on 2019/6/22.\n */\nconst log = function(str) {\n  var _d = new Date()\n  console.log(_d.toLocaleTimeString() + ' ' + _d.getMilliseconds() + \":\" + str)\n}\n\nexport {\n  log,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jsBridge/log.js"],"sourceRoot":""}