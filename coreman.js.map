{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*******************************","webpack:///webpack/bootstrap 8c7680488af4588291b7","webpack:///./~/_appcache-nanny@1.1.0@appcache-nanny/appcache-nanny.js","webpack:///./src/core/app-optimize.js","webpack:///./src/core/container.js","webpack:///./src/core/modelState.js","webpack:///./src/core/router.js","webpack:///./src/router/common.js","webpack:///./~/_fastclick@1.0.6@fastclick/lib/fastclick.js","webpack:///./src/annotations/actions/pool.js","webpack:///./src/router/router.js","webpack:///./src/core/actionService.js","webpack:///./src/core/h.js","webpack:///./src/core/importAction.js","webpack:///./src/jsBridge/version.js","webpack:///./src/core/index-optimize.js"],"names":["Version","require","SVG_NS","app","view","loadDocument","match","$","router","vdoms","node","undefined","routerTrace","push","model","actions","effects","readies","hooks","onError","onAction","onUpdate","onRender","onRendered","onPageInit","onPageWillAppear","onPageDidAppear","onPageWillDisappear","extraHooks","EVENTS","actionTypes","action","effect","mutation","plugins","concat","map","plugin","elements","element","root","batch","i","length","reinit","proxyEffects","init","obj","merge","mutations","newObj","Object","keys","forEach","key","_hooks","document","on","e","pageId","$page","error","container","group","shouldUpdate","type","enforceInit","name","data","actionType","result","filterActions","actionName","ActionService","AllMutationActions","arguments","then","render","appCache","isSupported","pad2","n","generateTimeRequestNumber","date","Date","getFullYear","toString","getMonth","getDate","getHours","getMinutes","getSeconds","console","warn","set","JSON","stringify","start","update","load","remove","Util","supportStorage","body","routerManager","Router","_$visibleSection","_getCurrentSection","hash2ViewId","attr","scroller","isBack","trigger","pageAnimationEnd","pageInit","fn","readyState","log","addEventListener","device","ios","_compareVersion","osVersion","window","attachFastClick","methodName","indexPos","indexOf","_patch","patch","ROUTER_MATCH","a","b","Array","isArray","defer","setTimeout","createElementFrom","isSVG","createTextNode","tag","createElementNS","createElement","setElementData","children","appendChild","removeElementData","value","removeAttribute","oldValue","toLowerCase","style","event","substr","removeEventListener","setAttribute","namespaceURI","oldSelStart","selectionStart","oldSelEnd","selectionEnd","setSelectionRange","updateElementData","oldData","realValue","parent","oldNode","removeChild","bind","onRemove","textContent","replaceChild","len","oldLen","childNodes","Container","modify","register","useClass","mutativeEffects","$updateModel","options","setState","state","setObjectState","Error","protertyKey","prompt","_getUrlFragment","location","href","_","go","back","history","block","destoryBlock","popstateFlag","_onPopState","routes","path","params","route","replace","RegExp","shift","url","hashIndex","slice","getUrlFragment","getAbsoluteUrl","link","absoluteUrl","getBaseUrl","toUrlObject","fullUrl","baseUrl","fragment","base","full","original","mod","sessionStorage","setItem","removeItem","ExposeActionPool","_pool","Map","CustomEvent","config","bubbles","cancelable","detail","createEvent","initCustomEvent","prototype","Event","pageLoadStart","pageLoadCancel","pageLoadError","pageLoadComplete","pageAnimationStart","beforePageRemove","pageRemoved","beforePageSwitch","routerConfig","sectionGroupClass","curPageClass","visiblePageClass","pageClass","DIRECTION","leftToRight","rightToLeft","theHistory","sessionNames","currentState","maxStateId","_init","xhr","$view","cache","$doc","currentUrl","_saveDocumentIntoCache","curPageId","currentUrlObj","$allSection","find","$visibleSection","$curVisibleSection","eq","$hashSection","_generateRandomId","removeClass","addClass","curState","id","_getNextStateId","replaceState","_saveAsCurrentState","_incMaxStateId","ignoreCache","_switchToSection","forward","loadPage","hashId","$curPage","$newPage","_animateSection","sectionId","_pushNewState","_switchToDocument","isPushState","direction","cacheDocument","context","_doSwitchDocument","_loadDocument","success","_parseDocument","urlObj","$currentDoc","$newDoc","append","$content","html","$currentSection","prepend","_animateDocument","_isTheSameDocument","anotherUrl","callback","onreadystatechange","abort","dispatch","self","ajax","proxy","status","call","err","complete","$innerView","doc","urlAsKey","_getLastState","getItem","parse","parseInt","$from","$to","$visibleSectionInFrom","_animateElement","animationEnd","toId","not","_isInit","animPageClasses","join","classForFrom","classForTo","_back","fromState","$currentPage","_forward","routerMatch","lastState","pushState","dispatchEvent","canConcat","oldCanConcat","stack","pop","_class","ImportAction","$pool","size","ctor","constructor","valueLength","instance","resolve","j","padZero","num","split","getVersion","groups","navigator","userAgent","_as","_bs","max","Math","as","bs","x","y","compareVersion","currentVersion","h","ModelState"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAY,2BAA2B;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAA0C,WAAW,EAAE;AACvD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;;;;;;;;;ACvJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAGC;AACD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAM,IAA0C;AAChD,IAAI,iCAAO,EAAE,kCAAE;AACf;AACA;AACA,KAAK;AAAA,oGAAC;AACN,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,yCAAyC;AAC/D;;;AAGA;AACA;AACA,qCAAqC,OAAO;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC,cAAc,QAAQ;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC,YAAY,MAAM;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA,YAAY,YAAY;AACxB,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,6BAA6B;AACzC,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,OAAO,YAAY;AAC/B;AACA;AACA;AACA;;;AAGA,KAAK,IAA4E;;AAEjF;AACA,EAAE,kCAAO;AACT;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,CAAC;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,CAAiBR,GAAjB;AAHG,KAAZ;;AAMA+C,eAAW8F,SAAX,CAAqBpK,KAArB,EAA4B,EAA5B,EAAgCuB,GAAhC;AACA,SAAKyE,mBAAL,CAAyBhG,KAAzB;AACA,SAAKiG,cAAL;AACH,CAVD;;AAYA;;;;;;AAMA/K,OAAOkI,SAAP,CAAiBqC,iBAAjB,GAAqC,YAAW;AAC5C,WAAO,UAAW,CAAC,IAAI5L,IAAJ,EAAnB;AACH,CAFD;;AAIAqB,OAAOkI,SAAP,CAAiB+E,QAAjB,GAA4B,UAASlK,KAAT,EAAgB;AACxC,QAAI9F,IAAI,IAAI0K,WAAJ,CAAgB5E,KAAhB,EAAuB;AAC3B8E,iBAAS,IADkB;AAE3BC,oBAAY;AAFe,KAAvB,CAAR;;AAKA;AACA5G,WAAOiO,aAAP,CAAqBlS,CAArB;AACH,CARD;;QAWI+C,M,GAAAA,M;QACAJ,I,GAAAA,I;QACAgJ,Y,GAAAA,Y;QACAxN,M,GAAAA,M;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;;;;;;;;;;;;;;;;;;ICx5BqB4C,a;AAInB,2BAAc;AAAA;;AACZmB,YAAQyB,GAAR,CAAY,wBAAZ;AACD;;;;6BA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","file":"coreman.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fastman\"] = factory();\n\telse\n\t\troot[\"fastman\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonpfastman\"];\n \twindow[\"webpackJsonpfastman\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n \t\tif(executeModules) {\n \t\t\tfor(i=0; i < executeModules.length; i++) {\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t32: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 212);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8c7680488af4588291b7","// appCacheNanny\n// =============\n//\n// Teaches your applicationCache some manners! Because, you know,\n// http://alistapart.com/article/application-cache-is-a-douchebag\n//\n\n/* global define, applicationCache, addEventListener, localStorage */\n'use strict'\n\n;(function (root, factory) {\n  var appCache = (typeof applicationCache === 'undefined') ? undefined : applicationCache\n\n  // based on https://github.com/allouis/minivents/blob/master/minivents.js\n  function Events () {\n    var events = {}\n    var api = this\n\n    // listen to events\n    api.on = function on (type, func, ctx) {\n      if (!events[type]) (events[type] = [])\n      events[type].push({f: func, c: ctx})\n    }\n\n    // stop listening to event / specific callback\n    api.off = function off (type, func) {\n      var list = events[type] || []\n      var i = list.length = func ? list.length : 0\n      while (i-- > 0) {\n        if (func === list[i].f) list.splice(i, 1)\n      }\n    }\n\n    // send event, callbacks will be triggered\n    api.trigger = function trigger () {\n      var args = Array.apply([], arguments)\n      var list = events[args.shift()] || []\n      var i = list.length\n      var j\n      for (j = 0; j < i; j++) {\n        list[j].f.apply(list[j].c, args)\n      }\n    }\n\n    // aliases\n    api.bind = api.on\n    api.unbind = api.off\n    api.emit = api.trigger\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define([], function () {\n      root.appCacheNanny = factory(appCache, Events)\n      return root.appCacheNanny\n    })\n  } else if (typeof exports === 'object') {\n    module.exports = factory(appCache, Events)\n  } else {\n    root.appCacheNanny = factory(appCache, Events)\n  }\n})(this, function (applicationCache, Events) {\n  var DEFAULT_MANIFEST_LOADER_PATH = '/appcache-loader.html'\n  var DEFAULT_CHECK_INTERVAL = 30000\n\n  var appCacheNanny = new Events()\n  var nannyOptions = {\n    loaderPath: DEFAULT_MANIFEST_LOADER_PATH,\n    checkInterval: DEFAULT_CHECK_INTERVAL,\n    offlineCheckInterval: DEFAULT_CHECK_INTERVAL\n  }\n\n  var iframe\n  var setupDone = false\n  var setupPending = false\n\n  //\n  //\n  //\n  appCacheNanny.isSupported = function isSupported () {\n    return !!applicationCache\n  }\n\n  //\n  // request the appcache.manifest file and check if there's an update\n  //\n  appCacheNanny.update = function update () {\n    trigger('update')\n    if (!setupDone) {\n      setupCallbacks.push(appCacheNanny.update)\n      if (!setupPending) {\n        setup()\n        setupPending = true\n      }\n      return true\n    }\n    if (!appCacheNanny.isSupported()) {\n      return false\n    }\n    try {\n      applicationCache.update()\n      return true\n    } catch (e) {\n      // there might still be cases when ApplicationCache is not support\n      // e.g. in Chrome, when returned HTML is status code 40X, or if\n      // the applicationCache became obsolete\n      appCacheNanny.update = noop\n      return false\n    }\n  }\n\n  //\n  // start auto updating. Optionally pass interval in ms to\n  // overwrite the current.\n  //\n  var intervalPointer\n  appCacheNanny.start = function start (options) {\n    if (options) appCacheNanny.set(options)\n\n    if (!setupDone) {\n      setupCallbacks.push(appCacheNanny.start)\n      if (!setupPending) {\n        setup()\n        setupPending = true\n      }\n      return true\n    }\n\n    clearInterval(intervalPointer)\n\n    // check with offline interval\n    checkInterval = hasNetworkError ? appCacheNanny.get('offlineCheckInterval') : appCacheNanny.get('checkInterval')\n\n    intervalPointer = setInterval(appCacheNanny.update, checkInterval)\n    isCheckingForUpdatesFlag = true\n    trigger('start')\n  }\n\n  //\n  // stop auto updating\n  //\n  appCacheNanny.stop = function stop () {\n    if (!isCheckingForUpdatesFlag) return\n    clearInterval(intervalPointer)\n    isCheckingForUpdatesFlag = false\n    trigger('stop')\n  }\n\n  //\n  // returns true if the nanny is checking periodically for updates\n  //\n  appCacheNanny.isCheckingForUpdates = function isCheckingForUpdates () {\n    return isCheckingForUpdatesFlag\n  }\n\n  //\n  // returns true if an update has been fully received, otherwise false\n  //\n  appCacheNanny.hasUpdate = function hasUpdate () {\n    return hasUpdateFlag\n  }\n\n  //\n  //\n  //\n  appCacheNanny.set = function setOption (key, value) {\n    var property, newSettings\n    if (typeof key === 'object') {\n      newSettings = key\n      for (property in newSettings) {\n        if (newSettings.hasOwnProperty(property)) {\n          nannyOptions[property] = newSettings[property]\n        }\n      }\n      return\n    }\n    nannyOptions[key] = value\n  }\n\n  //\n  //\n  //\n  appCacheNanny.get = function getOption (key) {\n    var property\n    var settings = {}\n    if (key) {\n      return nannyOptions[key]\n    }\n\n    for (property in nannyOptions) {\n      if (nannyOptions.hasOwnProperty(property)) {\n        settings[property] = nannyOptions[property]\n      }\n    }\n    return settings\n  }\n\n  // Private\n  // -------\n\n  // this is the internal state of checkInterval.\n  // It usually differs between online / offline state\n  var checkInterval = DEFAULT_CHECK_INTERVAL\n\n  // flag if there is a pending update, being applied after next page reload\n  var hasUpdateFlag = false\n\n  // flag whether the nanny is checking for updates in the background\n  var isCheckingForUpdatesFlag = false\n\n  // flag if there was an error updating the appCache, usually meaning\n  // it couldn't connect, a.k.a. you're offline.\n  var hasNetworkError = false\n\n  //\n  var isInitialDownload = false\n\n  //\n  // setup appCacheNanny\n  //\n  var noop = function () {}\n  var APPCACHE_STORE_KEY = '_appcache_nanny'\n  var setupCallbacks = []\n  function setup () {\n    var scriptTag\n\n    try {\n      isInitialDownload = !localStorage.getItem(APPCACHE_STORE_KEY)\n      localStorage.setItem(APPCACHE_STORE_KEY, '1')\n    } catch (e) {}\n\n    if (!appCacheNanny.isSupported()) {\n      appCacheNanny.update = noop\n      return\n    }\n\n    // https://github.com/gr2m/appcache-nanny/issues/7\n    if (applicationCache.status !== applicationCache.UNCACHED) {\n      subscribeToEvents()\n      setupPending = false\n      setupDone = true\n      setupCallbacks.forEach(function (callback) {\n        callback()\n      })\n      return\n    }\n\n    // load the appcache-loader.html using an iframe\n    iframe = document.createElement('iframe')\n    iframe.src = nannyOptions.loaderPath\n    iframe.style.display = 'none'\n    iframe.onload = function () {\n      // we use the iFrame's applicationCache Object now\n      applicationCache = iframe.contentWindow.applicationCache\n\n      subscribeToEvents()\n      setupPending = false\n      setupDone = true\n\n      // adding a timeout prevented Safari 7.1.4 from throwing\n      // a InvalidStateError on the first applicationCache.update() call\n      setTimeout(function () {\n        setupCallbacks.forEach(function (callback) {\n          callback()\n        })\n      }, 100)\n    }\n    iframe.onerror = function () {\n      throw new Error('/appcache-loader.html could not be loaded.')\n    }\n\n    scriptTag = document.getElementsByTagName('script')[0]\n    scriptTag.parentNode.insertBefore(iframe, scriptTag)\n  }\n\n  //\n  //\n  //\n  function subscribeToEvents () {\n    // Fired when the manifest resources have been downloaded.\n    on('updateready', handleUpdateReady)\n\n    // fired when manifest download request failed\n    // (no connection or 5xx server response)\n    on('error', handleNetworkError)\n\n    // fired when manifest download request succeeded\n    // but server returned 404 / 410\n    on('obsolete', handleNetworkObsolete)\n\n    // fired when manifest download succeeded\n    on('noupdate', handleNetworkSuccess)\n    on('cached', handleNetworkSuccess)\n    on('progress', handleNetworkSuccess)\n    on('downloading', handleNetworkSuccess)\n\n    // when browser goes online/offline, look for updates to make sure.\n    addEventListener('online', appCacheNanny.update, false)\n    addEventListener('offline', appCacheNanny.update, false)\n  }\n\n  //\n  // interface to bind events to cache events\n  //\n  function on (eventName, callback) {\n    applicationCache.addEventListener(eventName, callback, false)\n  }\n\n  //\n  // Trigger event on appCacheNanny. Once an update is ready, we\n  // keep looking for another update, but we stop triggering events.\n  //\n  function trigger (eventName, event) {\n    if (hasUpdateFlag) return\n    appCacheNanny.trigger(eventName, event)\n  }\n\n  //\n  //\n  //\n  var pendingUpdateReady = false\n  function handleUpdateReady () {\n    // Safari and Firefox (in private mode) can get into an invalid\n    // applicationCache state, which throws an InvalidStateError error\n    // on applicationCache.swapCache(). To workaround that, we reset\n    // everything and set a flag that the next \"noupdate\" event, that\n    // will now be triggered when the iframe gets reloadd, is actually\n    // an \"updateready\" event.\n    if (applicationCache.status !== applicationCache.UPDATEREADY) {\n      pendingUpdateReady = true\n      reset()\n      return\n    }\n\n    if (!hasUpdateFlag) {\n      hasUpdateFlag = true\n      // don't use trigger here, otherwise the event wouldn't get triggered\n      appCacheNanny.trigger('updateready')\n    }\n    applicationCache.swapCache()\n  }\n\n  //\n  //\n  //\n  function handleNetworkSuccess (event) {\n    var prefix = ''\n\n    // when page gets opened for the very first time, it already has\n    // the correct assets, but appCache still triggers 'downloading',\n    // 'progress' and 'cached' events. Once the first 'cached' event\n    // gets triggered, all assets are cached offline. We prefix these\n    // initial events with 'init:'\n    if (isInitialDownload) {\n      prefix = 'init:'\n      if (event.type === 'cached') {\n        isInitialDownload = false\n      }\n    }\n\n    // re-trigger event via appCacheNanny\n    if (pendingUpdateReady) {\n      trigger('updateready')\n      pendingUpdateReady = false\n    } else {\n      trigger(prefix + event.type, event)\n    }\n\n    if (!hasNetworkError) return\n    hasNetworkError = false\n\n    appCacheNanny.start()\n    trigger('online')\n  }\n\n  //\n  //\n  //\n  function handleNetworkError (error) {\n    // re-trigger event via appCacheNanny\n    trigger('error', error)\n\n    if (hasNetworkError) return\n    hasNetworkError = true\n\n    // Edge case: private mode in Safari & FF say they support applicationCache,\n    // but they fail. To get arround that, we only trigger the offline event\n    // when applicationCache.status != uncached\n    if (applicationCache.status === applicationCache.UNCACHED) return\n\n    appCacheNanny.start()\n\n    trigger('offline')\n  }\n\n  //\n  // The 'obsolete' event gets triggered if the requested *.appcache file\n  // has been removed or renamed. The intent behind renaming an *.appcache\n  // file is to clear all locally cached files, it's the only way to do so.\n  // Therefore we don't treet it as an error, it usually means that there\n  // is an update availble that becomes visible after the next page reload.\n  //\n  function handleNetworkObsolete () {\n    // re-trigger event via appCacheNanny\n    trigger('obsolete')\n\n    if (hasNetworkError) {\n      hasNetworkError = false\n      trigger('online')\n    }\n\n    // Once applicationCache status is obsolete, calling .udate() throws\n    // an error, so we stop checking here\n    appCacheNanny.stop()\n  }\n\n  function reset () {\n    if (iframe) {\n      iframe.remove()\n    }\n\n    setupDone = false\n    setupPending = false\n    appCacheNanny.update()\n  }\n\n  return appCacheNanny\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_appcache-nanny@1.1.0@appcache-nanny/appcache-nanny.js\n// module id = 108\n// module chunks = 32","// 依赖于fastClick库\nimport { Router, Util, routerConfig, EVENTS } from '../router/router'\nimport attachFastClick from 'fastclick'\nimport appCache from 'appcache-nanny'\nimport ActionService from  './actionService'\nvar Version = require('../jsBridge/version')\n\nvar SVG_NS = \"http://www.w3.org/2000/svg\"\n\nvar app = function (app) {\n  var view = app.view || function () {\n    return \"\"\n  }\n\n    /**\n     * 转场时清空当前的v-node\n     * @param match 当前路由匹配\n     */\n    function loadDocument(match) {\n        if ($.router) {\n            if (!$.router.vdoms[match]) {\n                if(node){\n                    node = undefined\n                    routerTrace.push(match)\n                }\n            }\n        }\n    }\n    $.loadDocument = loadDocument\n\n  var routerTrace = []  // 路由轨迹\n  var model\n  var actions = {}\n  var effects = {}  // 新增\n  var readies = []\n  let hooks = {\n      onError: [],\n      onAction: [],\n      onUpdate: [],\n      onRender: [],\n      onRendered: [],\n      onPageInit: [],\n      onPageWillAppear: [],\n      onPageDidAppear: [],\n      onPageWillDisappear: [],\n  }\n\n  var extraHooks = {\n      // onPageLoadStart: EVENTS['pageLoadStart'],\n      // onPageLoadCancel: EVENTS['pageLoadCancel'],\n      // onPageLoadError: EVENTS['pageLoadError'],\n      // onPageLoadComplete: EVENTS['pageLoadComplete'],\n      onPageWillAppear: EVENTS['pageAnimationStart'],\n      onPageDidAppear: EVENTS['pageAnimationEnd'],\n      // onBeforePageRemove: EVENTS['beforePageRemove'],\n      // onPageRemoved: EVENTS['pageRemoved'],\n      onPageWillDisappear: EVENTS['beforePageSwitch'],\n      onPageInit: EVENTS['pageInit']\n  };\n\n  var actionTypes = {\n    action: 0,\n    effect: 1,\n    mutation: 2,\n  }\n\n  var plugins = [app].concat((app.plugins || []).map(function (plugin) {\n    return plugin(app)\n  }))\n\n  var node\n  var elements = []\n  var element\n  var root\n  var batch = []\n  var plugins = app.plugins || []\n\n  for (var i = -1; i < plugins.length; i++) {\n    // var plugin = i < 0 ? app : plugins[i](app) // todo 这里修改了注意啊\n    // 将函数的ref进行了修改\n    var reinit = function(proxyEffects) {\n      init(actions, proxyEffects, false, actionTypes.effect, true)\n    }\n    var plugin = i < 0 ? app : plugins[i](app, reinit)\n    var obj = plugin.model\n\n    if (obj != null) {\n        model = merge(model, obj)\n    }\n\n    if (obj = plugin.actions) { // 保证陈旧的plugins可以正常使用\n      init(actions, obj, true, actionTypes.action, false)\n    }\n    if (obj = plugin.mutations) {\n      // 为mutation变种增加函数前缀$\n      var newObj = {}\n      Object.keys(obj).forEach(function (key) {\n        newObj['$' + key] = obj[key]\n      })\n      init(actions, newObj, true, actionTypes.mutation, false)\n    }\n    if (obj = plugin.effects) {\n      Object.keys(obj).forEach(function (key) {\n        effects[key] = obj[key]\n      })\n      init(actions, obj, false, actionTypes.effect, false)\n    }\n\n    if (obj = plugin.readies) {\n        readies = readies.concat(obj)\n    }\n\n    let _hooks = plugin.hooks\n    if (obj = _hooks) {\n      Object.keys(obj).forEach(function (key) {\n          if(hooks[key]){\n              hooks[key].push(obj[key])\n          }\n      })\n    }\n  }\n\n    // 遍历注册extraHook\n    Object.keys(extraHooks).forEach(function (key) {\n        // 注册路由页面相关生命周期事件\n        if (extraHooks[key]) {\n            $(document).on(extraHooks[key], function (e, pageId, $page) {\n                // 在pageInit生命周期内使用data-api方式注册scroller组件\n                // if (key === 'onPageInit') {\n                //     $('[data-toggle=\"scroller\"]').scroller()\n                // }\n\n                // 生命周期函数中新增actions函数，用于某些场景下需要初始化操作\n                for (var i = 0; i < hooks[key].length; i++) {\n                    hooks[key][i](e, pageId, $page, actions, model)\n                }\n            })\n        }\n    })\n\n\n  function onError(error) {\n    for (var i = 0; i < hooks.onError.length; i++) {\n      hooks.onError[i](error)\n    }\n\n    if (i <= 0) {\n      throw error\n    }\n  }\n\n  function init(container, group, shouldUpdate, type, enforceInit) {\n    Object.keys(group).forEach(function (key) {\n      // 如果是强制重建，需要重新建立对象的引用，否则引用还会指向上一个\n      if (!container[key] || enforceInit) {\n        container[key] = {}\n      }\n\n      // var name = lastName ? lastName + \".\" + key : key\n      var name = key\n      var action = group[key]\n      var i\n\n      if (typeof action === \"function\") {\n        container[key] = function (data) {\n          var actionType = type\n          for (i = 0; i < hooks.onAction.length; i++) {\n            hooks.onAction[i](name, data)\n          }\n\n          var result\n          // 如果是effect或mutation,需要将effect过滤掉,effect的调用通过DI实现\n          if (actionType === actionTypes.effect || actionType === actionTypes.mutation) {\n              var filterActions = {}\n              for(var actionName in actions) {\n                if(!effects[actionName]) {\n                  filterActions[actionName] = actions[actionName]\n                }\n              }\n\n              if (actionType === actionTypes.effect) {\n                if (!ActionService.AllMutationActions) {\n                  ActionService.AllMutationActions = filterActions\n                }\n                result = action(...arguments);\n              }\n              else {\n                result = action(model, data, filterActions, onError)\n              }\n          }\n          else {\n            result = action(model, data, actions, onError)\n          }\n\n          if (result === null || result === undefined || typeof result.then === \"function\" || !shouldUpdate) {\n            return result\n\n          } else {\n            for (i = 0; i < hooks.onUpdate.length; i++) {\n              hooks.onUpdate[i](model, result, data)\n            }\n\n            model = merge(model, result)\n            render(model, view, name)\n          }\n        }\n      } else {\n        init(container[key], action, name, enforceInit)\n      }\n    })\n  }\n\n    // 自动更新应用程序\n    if (appCache.isSupported()){\n        function pad2(n) { return n < 10 ? '0' + n : n }\n\n        function generateTimeRequestNumber() {\n            var date = new Date();\n            return date.getFullYear().toString() + pad2(date.getMonth() + 1) + pad2(date.getDate()) + pad2(date.getHours()) + pad2(date.getMinutes()) + pad2(date.getSeconds());\n        }\n\n        console.warn('applicationCache supported')\n        // 增加时间戳，否则该文件会一直存储在disk memory中影响缓存机制\n        appCache.set('loaderPath', './appcache-loader.html?t=' + generateTimeRequestNumber())\n\n        // 注册相关appcache事件\n        appCache.on('progress', function (e) {\n            console.warn('progress Event ' + (typeof e == 'object' ? JSON.stringify(e) : e))\n        })\n        appCache.on('cached', function (e) {\n            console.warn('cached Event ' + (typeof e == 'object' ? JSON.stringify(e) : e))\n        })\n        appCache.on('update', function (e) {\n            console.warn('update Event ' + (typeof e == 'object' ? JSON.stringify(e) : e))\n        })\n        // 代表appCache的manifest文件被修改过后的第一次刷新\n        appCache.on('updateready', function (e) {\n            console.warn('updateready Event ' + (typeof e == 'object' ? JSON.stringify(e) : e))\n        })\n        // 代表第一次加载manifest文件\n        appCache.on('cached', function (e) {\n            console.warn('cached Event ' + (typeof e == 'object' ? JSON.stringify(e) : e))\n        })\n        // 代表appCache没有更新（比DOMContentLoaded事件执行晚）\n        appCache.on('noupdate', function (e) {\n            console.warn('noupdate Event ' + (typeof e == 'object' ? JSON.stringify(e) : e))\n        })\n        // manifest文件发生404\n        appCache.on('obsolete', function (e) {\n            console.error('obsolete Event ' + (typeof e == 'object' ? JSON.stringify(e) : e))\n        })\n        // manifest文件发生404\n        appCache.on('error', function (e) {\n            console.error('error Event ' + (typeof e == 'object' ? JSON.stringify(e) : e))\n        })\n\n        // 启动定时刷新缓存机制\n        appCache.start()\n\n        // 启动applicationcache特性\n        appCache.update()\n    } else {\n        console.error('applicationCache not supported')\n    }\n\n    load(function () {\n        $('.page-loading').remove()\n\n        // 当前浏览器是否支持sessionStorage特性\n        if (!Util.supportStorage()) {\n            return;\n        }\n\n        //root = app.root || document.body.appendChild(document.createElement(\"div\"))\n        root = app.root || document.body\n\n        render(model, view)\n\n        // 记录路由轨迹\n        if(model.router)\n            routerTrace.push(model.router.match)\n\n        for (var i = 0; i < readies.length; i++) {\n            readies[i](model, actions, onError)\n        }\n\n        // 初始化路由\n        var routerManager = $.router = new Router()\n        // 保存打开过页面的vdom，用于页面后退等场景使用\n        //var __hash = Util.getUrlFragment(window.location.href)\n        routerManager.vdoms[model.router.match] = node\n        // 保存初始化页面的Hash对应ViewId\n        let _$visibleSection = routerManager._getCurrentSection()\n        $.router.hash2ViewId[model.router.match] = _$visibleSection.attr('id')\n\n        // data-api方式注册scroller组件(必须放在页面page-current添加后执行，否则不起效果)\n        $('[data-toggle=\"scroller\"]').scroller({\n            type: 'native'\n        })\n\n        // 注册初始化的钩子程序\n        _$visibleSection.isBack = false\n        _$visibleSection.trigger(EVENTS.pageAnimationEnd, [_$visibleSection.attr('id'), _$visibleSection])\n        _$visibleSection.trigger(EVENTS.pageInit, [_$visibleSection.attr('id'), _$visibleSection])\n    })\n\n    // // 当popState时（即浏览器后退）触发更新上一个Node\n    // function setNode(_node) {\n    //     if (_node)\n    //         node = _node\n    // }\n    // $.setNode = setNode\n\n    function load(fn) {\n        if (document.readyState[0] !== \"l\") {\n            console.log('DOMContentLoaded Event:' + document.readyState)\n            fn()\n        } else {\n            console.log('DOMContentLoaded Event')\n            document.addEventListener(\"DOMContentLoaded\", fn)\n        }\n\n        // ios11已解决300ms点击延时的bug，因此这里不引入fastclick，否则会偶发的发生点击事件失效的情况 .\n        if ($.device.ios && Version._compareVersion($.device.osVersion, '11.0.0') >= 0) {\n            console.log('[fastclick] removed')\n        } else {\n            // 注册快速点击，必须注册在load事件中，否则通过模板生成的virtual-dom将会失效\n            window.addEventListener('load', function () {\n                new attachFastClick(document.body);\n            })\n            console.log('[fastclick] added')\n        }\n\n    }\n\n  function render(model, view, methodName) {\n    // 根据路由规则获取对应的view函数\n    for (i = 0; i < hooks.onRender.length; i++) {\n      view = hooks.onRender[i](model, view)\n    }\n\n    // 获取Page在路由列表中的索引位置\n    var indexPos = 0;\n    if (node) {\n        indexPos = routerTrace.indexOf(model.router.match)\n    }\n\n    // 打差异化补丁\n    var _patch = function () {\n        // 如果是重复路由的前进和后退不触发patch（以后需考虑数据设计的区块化）\n        //patch(root, node, node = view(model, actions), indexPos)\n        element = elements[model.router.match]\n        element = patch(root, element, node, node = view(model, actions), indexPos)\n        // 更新当前page对应的document\n        elements[model.router.match] = element\n        //console.log(`onPatch at pos：view${indexPos}`)\n\n        // 更新当前page的最新node对象(初始化时$.router还未被创建)\n        if($.router){\n            $.router.vdoms[model.router.match] = node\n        }\n\n        for (var i = 0; i < batch.length; i++) {\n            batch[i]()\n        }\n\n        batch = []\n    }\n\n    // 如果当前是路由指令则需要替换当前Node\n    var ROUTER_MATCH = 'router.match'\n    if(methodName && methodName.indexOf(ROUTER_MATCH) != -1){\n        if($.router){\n            if($.router.vdoms[model.router.match]){\n                node = $.router.vdoms[model.router.match]\n            }else{\n                _patch()\n            }\n        }\n    }\n    // 非路由Action触发，一律打补丁\n    else {\n        _patch()\n    }\n\n    // 如果是路由函数则进入（只是转场）\n    if(methodName && methodName.indexOf(ROUTER_MATCH) != -1){\n        for (i = 0; i < hooks.onRendered.length; i++) {\n            view = hooks.onRendered[i](model, view, node)\n        }\n    }\n  }\n\n    function merge(a, b) {\n        var obj = {}\n\n        if (typeof b !== \"object\" || Array.isArray(b)) {\n            return b\n        }\n\n        for (var key in a) {\n            obj[key] = a[key]\n        }\n        for (var key in b) {\n            obj[key] = b[key]\n        }\n\n        return obj\n    }\n\n    function defer(fn, data) {\n        setTimeout(function () {\n            fn(data)\n        }, 0)\n    }\n\n    function createElementFrom(node, isSVG) {\n        if (typeof node === \"string\") {\n            var element = document.createTextNode(node)\n\n        } else {\n            var element = (isSVG = isSVG || node.tag === \"svg\")\n                ? document.createElementNS(SVG_NS, node.tag)\n                : document.createElement(node.tag)\n\n            for (var name in node.data) {\n                if (name === \"onCreate\") {\n                    defer(node.data[name], element)\n                } else {\n                    setElementData(element, name, node.data[name])\n                }\n            }\n\n            for (var i = 0; i < node.children.length; i++) {\n                element.appendChild(createElementFrom(node.children[i], isSVG))\n            }\n        }\n\n        return element\n    }\n\n    function removeElementData(element, name, value) {\n        element[name] = value\n        element.removeAttribute(name)\n    }\n\n    function setElementData(element, name, value, oldValue) {\n        name = name.toLowerCase()\n\n        if (!value) {\n            removeElementData(element, name, value, oldValue)\n\n        } else if (name === \"style\") {\n            for (var i in oldValue) {\n                if (!(i in value)) {\n                    element.style[i] = \"\"\n                }\n            }\n\n            for (var i in value) {\n                element.style[i] = value[i]\n            }\n        }\n        // TODO 使用element.setAttribute('onclick', ...)代替`addEventListener`\n        else if (name[0] === \"o\" && name[1] === \"n\") {\n            var event = name.substr(2)\n            element.removeEventListener(event, oldValue)\n            element.addEventListener(event, value)\n\n        }\n        else {\n            element.setAttribute(name, value)\n\n            if (element.namespaceURI !== SVG_NS) {\n                if (element.type === \"text\") {\n                    var oldSelStart = element.selectionStart\n                    var oldSelEnd = element.selectionEnd\n                }\n\n                element[name] = value\n\n                if (oldSelStart >= 0) {\n                    element.setSelectionRange(oldSelStart, oldSelEnd)\n                }\n            }\n        }\n    }\n\n    function updateElementData(element, data, oldData) {\n        for (var name in merge(oldData, data)) {\n            var value = data[name]\n            var oldValue = oldData[name]\n            var realValue = element[name]\n\n            if (name === \"onUpdate\") {\n                defer(value, element)\n\n            } else if (value !== oldValue || realValue !== value) {\n                setElementData(element, name, value, oldValue)\n            }\n        }\n    }\n\n    function patch(parent, element, oldNode, node) {\n        if (oldNode === undefined) {\n            element = parent.appendChild(createElementFrom(node))\n\n        } else if (node === undefined) {\n            batch.push(parent.removeChild.bind(parent, element))\n\n            if (oldNode && oldNode.data && oldNode.data.onRemove) {\n                defer(oldNode.data.onRemove, element)\n            }\n\n        } else if (\n            node.tag !== oldNode.tag ||\n            typeof node !== typeof oldNode ||\n            typeof node === \"string\" && node !== oldNode\n        ) {\n            if (typeof node === \"string\") {\n                element.textContent = node\n            } else {\n                var i = createElementFrom(node)\n                parent.replaceChild(i, element)\n                element = i\n            }\n        } else if (node.tag) {\n            updateElementData(element, node.data, oldNode.data)\n\n            var len = node.children.length\n            var oldLen = oldNode.children.length\n\n            for (var i = 0; i < len || i < oldLen; i++) {\n                patch(element, element.childNodes[i], oldNode.children[i], node.children[i])\n            }\n        }\n\n        return element\n    }\n}\n\nexport {\n    app\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-optimize.js","/*\n * @Author: shenzhiwei\n * @Date: 2019-07-07 17:39:07\n * @LastEditors: shenzhiwei\n * @LastEditTime: 2019-07-09 12:30:16\n * @Description: ioc容器运行时修改函数\n */\nimport ExposeActionPool from '../annotations/actions/pool';\nimport ImportAction from './importAction'\n\nconst Container = function(container) {\n  return function(app, reinit) {\n    return {\n      actions: {\n        container: {\n          modify: (model, data, actions, error) => {\n            // 首先container.register注册具体实现类\n            if (typeof data === 'object') {\n              for(var key in data) {\n                container.register(key, {\n                  useClass: data[key]\n                });\n              }\n\n              // 之后进行实例的重建工作\n              var mutativeEffects = ImportAction(container)();\n              // 调用上层进行effect引用的重新初始化\n              reinit(mutativeEffects.effects)\n\n              // 刷新dom，防止dom缓存\n              actions.$updateModel(model)\n            }\n          },\n        }\n      }\n    }\n  }\n}\n\nexport default Container\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/container.js","/**\n * 数据状态管理\n * Created by dfzq on 2018/3/22.\n */\nexport default function (options) {\n    return {\n        actions: {\n            model: {\n                /**\n                 * 更新model数据状态\n                 * @param state {Any} 修改model数据块的某部分数据\n                 */\n                setState: (model, state) => state,\n\n                /**\n                 * 更新model中的对象数据状态\n                 * @param state {Object} 修改model对象数据块的某部分数据，只能是对象\n                 */\n                setObjectState: (model, state) => {\n                    if (typeof state !== 'object') {\n                        throw new Error('parameter of action.model.setObjectState must be object type.')\n                    }\n                    // 创建一个空对象\n                    let obj = {}\n                    // 遍历state属性，从model中寻找对应属性的值塞入obj中\n                    for (let key in state) {\n                        obj[key] = {}\n                        for (let protertyKey in model[key]) {\n                            let value = state[key][protertyKey]\n                            if (value) {\n                                obj[key][protertyKey] = value\n                            } else {\n                                obj[key][protertyKey] = model[key][protertyKey]\n                            }\n                        }\n                    }\n                    // return $.extend(true, model, state)  // 这种方式存在循环引用的严重bug\n                    return obj\n                },\n            }\n        },\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/modelState.js","export default function (options) {\n\n  // prompt函数\n  let prompt = null\n\n  return {\n    model: {\n      router: match(options.view, _getUrlFragment(location.href))\n    },\n    actions: {\n      router: {\n        match: function (_, data) {\n          return {\n            router: match(options.view, _getUrlFragment(data))\n          }\n        },\n        go: function (_, data, actions) {\n          // history.pushState({}, \"\", data)\n          actions.router.match(data.indexOf('#') == 0 ? data : '#' + data)\n        },\n        back: function () {\n          history.back()\n        },\n        // 注入阻塞函数\n        block: function (_, data) {\n            prompt = typeof data === 'function' ? data : null\n        },\n        // 移除阻塞函数\n        destoryBlock: function () {\n            prompt = null\n        }\n      }\n    },\n    hooks: {\n      onRender: function (model) {\n        $.loadDocument(model.router.match)\n        return options.view[model.router.match]\n      },\n      onRendered: function (model, view, node) {\n        // 路由转场\n        if($.router)\n            if(!$.router.popstateFlag){\n                // 对真实hash进行路由\n                $.router.load(model.router)\n            }\n            else {\n                $.router.popstateFlag = false\n            }\n      }\n    },\n    readies: [\n      function (_, actions) {\n        addEventListener(\"popstate\", function (e) {\n            // 阻塞开始\n            if (prompt){\n                prompt()\n\n                // 2017-12-20 解决上层不执行摧毁事件循环递归执行block的bug\n                prompt = null\n            }else{\n                // 是否当前路由是popState发起\n                $.router.popstateFlag = true\n                // 获取当前state的history视图的路由对象\n                var router = match(options.view, _getUrlFragment(location.href))\n                // 渲染当前state的history视图\n                actions.router.match(location.href)\n                // router.match与pageId形成绑定关系，用于快速查找界面上的Page块\n                $.router._onPopState(e, router.match)\n            }\n        })\n      }\n    ]\n  }\n}\n\nfunction match(routes, path) {\n  var match, params = {}\n\n  // 解决部分外链在hash后添加get参数，导致路由出现错误的bug，例如QQ分享\n  if (path.indexOf('&') != -1) {\n      path = path.substr(0, path.indexOf('&'))\n  }\n\n  for (var route in routes) {\n    var keys = []\n\n    if (route === \"*\") {\n      continue\n    }\n\n    path.replace(new RegExp(\"^\" + route\n      .replace(/\\//g, \"\\\\/\")\n      .replace(/:([A-Za-z0-9_]+)/g, function (_, key) {\n        keys.push(key)\n        return \"([-A-Za-z0-9_]+)\"\n      }) + \"/?$\", \"g\"), function () {\n\n        for (var i = 1; i < arguments.length - 2; i++) {\n          params[keys.shift()] = arguments[i]\n        }\n        match = route\n      })\n\n    if (match) {\n      break\n    }\n  }\n\n  return {\n    match: match || \"*\",\n    params: params,\n    path: path\n  }\n}\n\nfunction _getUrlFragment(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? '/' : url.slice(hashIndex + 1);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/router.js","/**\n * Created by dfzq on 2017/3/4.\n */\n/**\n * 获取 url 的 fragment（即 hash 中去掉 # 的剩余部分）\n *\n * 如果没有则返回空字符串\n * 如: http://example.com/path/?query=d#123 => 123\n *\n * @param {String} url url\n * @returns {String}\n */\nexport const getUrlFragment = url => {\n    var hashIndex = url.indexOf('#');\n    //return hashIndex === -1 ? '' : url.slice(hashIndex + 1);\n    return hashIndex === -1 ? '/' : url.slice(hashIndex + 1);\n}\n\n/**\n * 获取一个链接相对于当前页面的绝对地址形式\n *\n * 假设当前页面是 http://a.com/b/c\n * 那么有以下情况:\n * d => http://a.com/b/d\n * /e => http://a.com/e\n * #1 => http://a.com/b/c#1\n * http://b.com/f => http://b.com/f\n *\n * @param {String} url url\n * @returns {String}\n */\nexport const getAbsoluteUrl = url => {\n    var link = document.createElement('a');\n    link.setAttribute('href', url);\n    var absoluteUrl = link.href;\n    link = null;\n    return absoluteUrl;\n}\n\n/**\n * 获取一个 url 的基本部分，即不包括 hash\n *\n * @param {String} url url\n * @returns {String}\n */\nexport const getBaseUrl = url => {\n    var hashIndex = url.indexOf('#');\n    return hashIndex === -1 ? url.slice(0) : url.slice(0, hashIndex);\n}\n\n/**\n * 把一个字符串的 url 转为一个可获取其 base 和 fragment 等的对象\n *\n * @param {String} url url\n * @returns {UrlObject}\n */\nexport const toUrlObject = url => {\n    var fullUrl = getAbsoluteUrl(url),\n        baseUrl = getBaseUrl(fullUrl),\n        fragment = getUrlFragment(url);\n\n    return {\n        base: baseUrl,\n        full: fullUrl,\n        original: url,\n        fragment: fragment\n    };\n}\n\n/**\n * 判断浏览器是否支持 sessionStorage，支持返回 true，否则返回 false\n * @returns {Boolean}\n */\nexport const supportStorage = () => {\n    var mod = 'ob.router.storage.ability';\n    try {\n        sessionStorage.setItem(mod, mod);\n        sessionStorage.removeItem(mod);\n        return true;\n    } catch(e) {\n        return false;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/router/common.js",";(function () {\n\t'use strict';\n\n\t/**\n\t * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.\n\t *\n\t * @codingstandard ftlabs-jsv2\n\t * @copyright The Financial Times Limited [All Rights Reserved]\n\t * @license MIT License (see LICENSE.txt)\n\t */\n\n\t/*jslint browser:true, node:true*/\n\t/*global define, Event, Node*/\n\n\n\t/**\n\t * Instantiate fast-clicking listeners on the specified layer.\n\t *\n\t * @constructor\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tfunction FastClick(layer, options) {\n\t\tvar oldOnClick;\n\n\t\toptions = options || {};\n\n\t\t/**\n\t\t * Whether a click is currently being tracked.\n\t\t *\n\t\t * @type boolean\n\t\t */\n\t\tthis.trackingClick = false;\n\n\n\t\t/**\n\t\t * Timestamp for when click tracking started.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.trackingClickStart = 0;\n\n\n\t\t/**\n\t\t * The element being tracked for a click.\n\t\t *\n\t\t * @type EventTarget\n\t\t */\n\t\tthis.targetElement = null;\n\n\n\t\t/**\n\t\t * X-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartX = 0;\n\n\n\t\t/**\n\t\t * Y-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartY = 0;\n\n\n\t\t/**\n\t\t * ID of the last touch, retrieved from Touch.identifier.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.lastTouchIdentifier = 0;\n\n\n\t\t/**\n\t\t * Touchmove boundary, beyond which a click will be cancelled.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchBoundary = options.touchBoundary || 10;\n\n\n\t\t/**\n\t\t * The FastClick layer.\n\t\t *\n\t\t * @type Element\n\t\t */\n\t\tthis.layer = layer;\n\n\t\t/**\n\t\t * The minimum time between tap(touchstart and touchend) events\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapDelay = options.tapDelay || 200;\n\n\t\t/**\n\t\t * The maximum time for a tap\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapTimeout = options.tapTimeout || 700;\n\n\t\tif (FastClick.notNeeded(layer)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Some old versions of Android don't have Function.prototype.bind\n\t\tfunction bind(method, context) {\n\t\t\treturn function() { return method.apply(context, arguments); };\n\t\t}\n\n\n\t\tvar methods = ['onMouse', 'onClick', 'onTouchStart', 'onTouchMove', 'onTouchEnd', 'onTouchCancel'];\n\t\tvar context = this;\n\t\tfor (var i = 0, l = methods.length; i < l; i++) {\n\t\t\tcontext[methods[i]] = bind(context[methods[i]], context);\n\t\t}\n\n\t\t// Set up event handlers as required\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.addEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.addEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.addEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.addEventListener('click', this.onClick, true);\n\t\tlayer.addEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.addEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.addEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.addEventListener('touchcancel', this.onTouchCancel, false);\n\n\t\t// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick\n\t\t// layer when they are cancelled.\n\t\tif (!Event.prototype.stopImmediatePropagation) {\n\t\t\tlayer.removeEventListener = function(type, callback, capture) {\n\t\t\t\tvar rmv = Node.prototype.removeEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\trmv.call(layer, type, callback.hijacked || callback, capture);\n\t\t\t\t} else {\n\t\t\t\t\trmv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlayer.addEventListener = function(type, callback, capture) {\n\t\t\t\tvar adv = Node.prototype.addEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\tadv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {\n\t\t\t\t\t\tif (!event.propagationStopped) {\n\t\t\t\t\t\t\tcallback(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}), capture);\n\t\t\t\t} else {\n\t\t\t\t\tadv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// If a handler is already declared in the element's onclick attribute, it will be fired before\n\t\t// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and\n\t\t// adding it as listener.\n\t\tif (typeof layer.onclick === 'function') {\n\n\t\t\t// Android browser on at least 3.2 requires a new reference to the function in layer.onclick\n\t\t\t// - the old one won't work if passed to addEventListener directly.\n\t\t\toldOnClick = layer.onclick;\n\t\t\tlayer.addEventListener('click', function(event) {\n\t\t\t\toldOnClick(event);\n\t\t\t}, false);\n\t\t\tlayer.onclick = null;\n\t\t}\n\t}\n\n\t/**\n\t* Windows Phone 8.1 fakes user agent string to look like Android and iPhone.\n\t*\n\t* @type boolean\n\t*/\n\tvar deviceIsWindowsPhone = navigator.userAgent.indexOf(\"Windows Phone\") >= 0;\n\n\t/**\n\t * Android requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0 && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS 4 requires an exception for select elements.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS4 = deviceIsIOS && (/OS 4_\\d(_\\d)?/).test(navigator.userAgent);\n\n\n\t/**\n\t * iOS 6.0-7.* requires the target element to be manually derived\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOSWithBadTarget = deviceIsIOS && (/OS [6-7]_\\d/).test(navigator.userAgent);\n\n\t/**\n\t * BlackBerry requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsBlackBerry10 = navigator.userAgent.indexOf('BB10') > 0;\n\n\t/**\n\t * Determine whether a given element requires a native click.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element needs a native click\n\t */\n\tFastClick.prototype.needsClick = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\n\t\t// Don't send a synthetic click to disabled inputs (issue #62)\n\t\tcase 'button':\n\t\tcase 'select':\n\t\tcase 'textarea':\n\t\t\tif (target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'input':\n\n\t\t\t// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)\n\t\t\tif ((deviceIsIOS && target.type === 'file') || target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'label':\n\t\tcase 'iframe': // iOS8 homescreen apps can prevent events bubbling into frames\n\t\tcase 'video':\n\t\t\treturn true;\n\t\t}\n\n\t\treturn (/\\bneedsclick\\b/).test(target.className);\n\t};\n\n\n\t/**\n\t * Determine whether a given element requires a call to focus to simulate click into element.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.\n\t */\n\tFastClick.prototype.needsFocus = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\t\tcase 'textarea':\n\t\t\treturn true;\n\t\tcase 'select':\n\t\t\treturn !deviceIsAndroid;\n\t\tcase 'input':\n\t\t\tswitch (target.type) {\n\t\t\tcase 'button':\n\t\t\tcase 'checkbox':\n\t\t\tcase 'file':\n\t\t\tcase 'image':\n\t\t\tcase 'radio':\n\t\t\tcase 'submit':\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// No point in attempting to focus disabled inputs\n\t\t\treturn !target.disabled && !target.readOnly;\n\t\tdefault:\n\t\t\treturn (/\\bneedsfocus\\b/).test(target.className);\n\t\t}\n\t};\n\n\n\t/**\n\t * Send a click event to the specified element.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t * @param {Event} event\n\t */\n\tFastClick.prototype.sendClick = function(targetElement, event) {\n\t\tvar clickEvent, touch;\n\n\t\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)\n\t\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\t\tdocument.activeElement.blur();\n\t\t}\n\n\t\ttouch = event.changedTouches[0];\n\n\t\t// Synthesise a click event, with an extra attribute so it can be tracked\n\t\tclickEvent = document.createEvent('MouseEvents');\n\t\tclickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t\tclickEvent.forwardedTouchEvent = true;\n\t\ttargetElement.dispatchEvent(clickEvent);\n\t};\n\n\tFastClick.prototype.determineEventType = function(targetElement) {\n\n\t\t//Issue #159: Android Chrome Select Box does not open with a synthetic click event\n\t\tif (deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {\n\t\t\treturn 'mousedown';\n\t\t}\n\n\t\treturn 'click';\n\t};\n\n\n\t/**\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.focus = function(targetElement) {\n\t\tvar length;\n\n\t\t// Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.\n\t\tif (deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time' && targetElement.type !== 'month') {\n\t\t\tlength = targetElement.value.length;\n\t\t\ttargetElement.setSelectionRange(length, length);\n\t\t} else {\n\t\t\ttargetElement.focus();\n\t\t}\n\t};\n\n\n\t/**\n\t * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.updateScrollParent = function(targetElement) {\n\t\tvar scrollParent, parentElement;\n\n\t\tscrollParent = targetElement.fastClickScrollParent;\n\n\t\t// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the\n\t\t// target element was moved to another parent.\n\t\tif (!scrollParent || !scrollParent.contains(targetElement)) {\n\t\t\tparentElement = targetElement;\n\t\t\tdo {\n\t\t\t\tif (parentElement.scrollHeight > parentElement.offsetHeight) {\n\t\t\t\t\tscrollParent = parentElement;\n\t\t\t\t\ttargetElement.fastClickScrollParent = parentElement;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tparentElement = parentElement.parentElement;\n\t\t\t} while (parentElement);\n\t\t}\n\n\t\t// Always update the scroll top tracker if possible.\n\t\tif (scrollParent) {\n\t\t\tscrollParent.fastClickLastScrollTop = scrollParent.scrollTop;\n\t\t}\n\t};\n\n\n\t/**\n\t * @param {EventTarget} targetElement\n\t * @returns {Element|EventTarget}\n\t */\n\tFastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {\n\n\t\t// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.\n\t\tif (eventTarget.nodeType === Node.TEXT_NODE) {\n\t\t\treturn eventTarget.parentNode;\n\t\t}\n\n\t\treturn eventTarget;\n\t};\n\n\n\t/**\n\t * On touch start, record the position and scroll offset.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchStart = function(event) {\n\t\tvar targetElement, touch, selection;\n\n\t\t// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).\n\t\tif (event.targetTouches.length > 1) {\n\t\t\treturn true;\n\t\t}\n\n\t\ttargetElement = this.getTargetElementFromEventTarget(event.target);\n\t\ttouch = event.targetTouches[0];\n\n\t\tif (deviceIsIOS) {\n\n\t\t\t// Only trusted events will deselect text on iOS (issue #49)\n\t\t\tselection = window.getSelection();\n\t\t\tif (selection.rangeCount && !selection.isCollapsed) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (!deviceIsIOS4) {\n\n\t\t\t\t// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):\n\t\t\t\t// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched\n\t\t\t\t// with the same identifier as the touch event that previously triggered the click that triggered the alert.\n\t\t\t\t// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an\n\t\t\t\t// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.\n\t\t\t\t// Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,\n\t\t\t\t// which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,\n\t\t\t\t// random integers, it's safe to to continue if the identifier is 0 here.\n\t\t\t\tif (touch.identifier && touch.identifier === this.lastTouchIdentifier) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.lastTouchIdentifier = touch.identifier;\n\n\t\t\t\t// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:\n\t\t\t\t// 1) the user does a fling scroll on the scrollable layer\n\t\t\t\t// 2) the user stops the fling scroll with another tap\n\t\t\t\t// then the event.target of the last 'touchend' event will be the element that was under the user's finger\n\t\t\t\t// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check\n\t\t\t\t// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).\n\t\t\t\tthis.updateScrollParent(targetElement);\n\t\t\t}\n\t\t}\n\n\t\tthis.trackingClick = true;\n\t\tthis.trackingClickStart = event.timeStamp;\n\t\tthis.targetElement = targetElement;\n\n\t\tthis.touchStartX = touch.pageX;\n\t\tthis.touchStartY = touch.pageY;\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.touchHasMoved = function(event) {\n\t\tvar touch = event.changedTouches[0], boundary = this.touchBoundary;\n\n\t\tif (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Update the last position.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchMove = function(event) {\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If the touch has moved, cancel the click tracking\n\t\tif (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {\n\t\t\tthis.trackingClick = false;\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Attempt to find the labelled control for the given label element.\n\t *\n\t * @param {EventTarget|HTMLLabelElement} labelElement\n\t * @returns {Element|null}\n\t */\n\tFastClick.prototype.findControl = function(labelElement) {\n\n\t\t// Fast path for newer browsers supporting the HTML5 control attribute\n\t\tif (labelElement.control !== undefined) {\n\t\t\treturn labelElement.control;\n\t\t}\n\n\t\t// All browsers under test that support touch events also support the HTML5 htmlFor attribute\n\t\tif (labelElement.htmlFor) {\n\t\t\treturn document.getElementById(labelElement.htmlFor);\n\t\t}\n\n\t\t// If no for attribute exists, attempt to retrieve the first labellable descendant element\n\t\t// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label\n\t\treturn labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');\n\t};\n\n\n\t/**\n\t * On touch end, determine whether to send a click event at once.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchEnd = function(event) {\n\t\tvar forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;\n\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tthis.cancelNextClick = true;\n\t\t\treturn true;\n\t\t}\n\n\t\tif ((event.timeStamp - this.trackingClickStart) > this.tapTimeout) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Reset to prevent wrong click cancel on input (issue #156).\n\t\tthis.cancelNextClick = false;\n\n\t\tthis.lastClickTime = event.timeStamp;\n\n\t\ttrackingClickStart = this.trackingClickStart;\n\t\tthis.trackingClick = false;\n\t\tthis.trackingClickStart = 0;\n\n\t\t// On some iOS devices, the targetElement supplied with the event is invalid if the layer\n\t\t// is performing a transition or scroll, and has to be re-detected manually. Note that\n\t\t// for this to function correctly, it must be called *after* the event target is checked!\n\t\t// See issue #57; also filed as rdar://13048589 .\n\t\tif (deviceIsIOSWithBadTarget) {\n\t\t\ttouch = event.changedTouches[0];\n\n\t\t\t// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null\n\t\t\ttargetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;\n\t\t\ttargetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;\n\t\t}\n\n\t\ttargetTagName = targetElement.tagName.toLowerCase();\n\t\tif (targetTagName === 'label') {\n\t\t\tforElement = this.findControl(targetElement);\n\t\t\tif (forElement) {\n\t\t\t\tthis.focus(targetElement);\n\t\t\t\tif (deviceIsAndroid) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\ttargetElement = forElement;\n\t\t\t}\n\t\t} else if (this.needsFocus(targetElement)) {\n\n\t\t\t// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.\n\t\t\t// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).\n\t\t\tif ((event.timeStamp - trackingClickStart) > 100 || (deviceIsIOS && window.top !== window && targetTagName === 'input')) {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.focus(targetElement);\n\t\t\tthis.sendClick(targetElement, event);\n\n\t\t\t// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.\n\t\t\t// Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)\n\t\t\tif (!deviceIsIOS || targetTagName !== 'select') {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif (deviceIsIOS && !deviceIsIOS4) {\n\n\t\t\t// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled\n\t\t\t// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).\n\t\t\tscrollParent = targetElement.fastClickScrollParent;\n\t\t\tif (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Prevent the actual click from going though - unless the target node is marked as requiring\n\t\t// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.\n\t\tif (!this.needsClick(targetElement)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendClick(targetElement, event);\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * On touch cancel, stop tracking the click.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.onTouchCancel = function() {\n\t\tthis.trackingClick = false;\n\t\tthis.targetElement = null;\n\t};\n\n\n\t/**\n\t * Determine mouse events which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onMouse = function(event) {\n\n\t\t// If a target element was never set (because a touch event was never fired) allow the event\n\t\tif (!this.targetElement) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (event.forwardedTouchEvent) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Programmatically generated events targeting a specific element should be permitted\n\t\tif (!event.cancelable) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Derive and check the target element to see whether the mouse event needs to be permitted;\n\t\t// unless explicitly enabled, prevent non-touch click events from triggering actions,\n\t\t// to prevent ghost/doubleclicks.\n\t\tif (!this.needsClick(this.targetElement) || this.cancelNextClick) {\n\n\t\t\t// Prevent any user-added listeners declared on FastClick element from being fired.\n\t\t\tif (event.stopImmediatePropagation) {\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t} else {\n\n\t\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t\t\tevent.propagationStopped = true;\n\t\t\t}\n\n\t\t\t// Cancel the event\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the mouse event is permitted, return true for the action to go through.\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * On actual clicks, determine whether this is a touch-generated click, a click action occurring\n\t * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or\n\t * an actual click which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onClick = function(event) {\n\t\tvar permitted;\n\n\t\t// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.\n\t\tif (this.trackingClick) {\n\t\t\tthis.targetElement = null;\n\t\t\tthis.trackingClick = false;\n\t\t\treturn true;\n\t\t}\n\n\t\t// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.\n\t\tif (event.target.type === 'submit' && event.detail === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tpermitted = this.onMouse(event);\n\n\t\t// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.\n\t\tif (!permitted) {\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\t// If clicks are permitted, return true for the action to go through.\n\t\treturn permitted;\n\t};\n\n\n\t/**\n\t * Remove all FastClick's event listeners.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.destroy = function() {\n\t\tvar layer = this.layer;\n\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.removeEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.removeEventListener('click', this.onClick, true);\n\t\tlayer.removeEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.removeEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.removeEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.removeEventListener('touchcancel', this.onTouchCancel, false);\n\t};\n\n\n\t/**\n\t * Check whether FastClick is needed.\n\t *\n\t * @param {Element} layer The layer to listen on\n\t */\n\tFastClick.notNeeded = function(layer) {\n\t\tvar metaViewport;\n\t\tvar chromeVersion;\n\t\tvar blackberryVersion;\n\t\tvar firefoxVersion;\n\n\t\t// Devices that don't support touch don't need FastClick\n\t\tif (typeof window.ontouchstart === 'undefined') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Chrome version - zero for other browsers\n\t\tchromeVersion = +(/Chrome\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (chromeVersion) {\n\n\t\t\tif (deviceIsAndroid) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// Chrome on Android with user-scalable=\"no\" doesn't need FastClick (issue #89)\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// Chrome 32 and above with width=device-width or less don't need FastClick\n\t\t\t\t\tif (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Chrome desktop doesn't need FastClick (issue #15)\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (deviceIsBlackBerry10) {\n\t\t\tblackberryVersion = navigator.userAgent.match(/Version\\/([0-9]*)\\.([0-9]*)/);\n\n\t\t\t// BlackBerry 10.3+ does not require Fastclick library.\n\t\t\t// https://github.com/ftlabs/fastclick/issues/251\n\t\t\tif (blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// user-scalable=no eliminates click delay.\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// width=device-width (or less than device-width) eliminates click delay.\n\t\t\t\t\tif (document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// IE10 with -ms-touch-action: none or manipulation, which disables double-tap-to-zoom (issue #97)\n\t\tif (layer.style.msTouchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Firefox version - zero for other browsers\n\t\tfirefoxVersion = +(/Firefox\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (firefoxVersion >= 27) {\n\t\t\t// Firefox 27+ does not have tap delay if the content is not zoomable - https://bugzilla.mozilla.org/show_bug.cgi?id=922896\n\n\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\t\t\tif (metaViewport && (metaViewport.content.indexOf('user-scalable=no') !== -1 || document.documentElement.scrollWidth <= window.outerWidth)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// IE11: prefixed -ms-touch-action is no longer supported and it's recomended to use non-prefixed version\n\t\t// http://msdn.microsoft.com/en-us/library/windows/apps/Hh767313.aspx\n\t\tif (layer.style.touchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Factory method for creating a FastClick object\n\t *\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tFastClick.attach = function(layer, options) {\n\t\treturn new FastClick(layer, options);\n\t};\n\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(function() {\n\t\t\treturn FastClick;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = FastClick.attach;\n\t\tmodule.exports.FastClick = FastClick;\n\t} else {\n\t\twindow.FastClick = FastClick;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_fastclick@1.0.6@fastclick/lib/fastclick.js\n// module id = 143\n// module chunks = 32","/*\n * @Author: shenzhiwei\n * @Date: 2019-07-05 08:46:48\n * @LastEditors: shenzhiwei\n * @LastEditTime: 2019-07-05 11:07:49\n * @Description: 存储类构造类型和函数的对应关系\n */\n// 存储类构造类型和函数的对应关系\nexport default class ExposeActionPool {\n  static _pool = new Map();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/annotations/actions/pool.js","/**\n * Created by dfzq on 2017/2/9.\n */\nvar Util = require('./common')\nvar Version = require('../jsBridge/version')\n\nif (!window.CustomEvent) {\n    window.CustomEvent = function(type, config) {\n        config = config || { bubbles: false, cancelable: false, detail: undefined};\n        var e = document.createEvent('CustomEvent');\n        e.initCustomEvent(type, config.bubbles, config.cancelable, config.detail);\n        return e;\n    };\n\n    window.CustomEvent.prototype = window.Event.prototype;\n}\n\nvar EVENTS = {\n    pageLoadStart: 'pageLoadStart', // ajax 开始加载新页面前\n    pageLoadCancel: 'pageLoadCancel', // 取消前一个 ajax 加载动作后\n    pageLoadError: 'pageLoadError', // ajax 加载页面失败后\n    pageLoadComplete: 'pageLoadComplete', // ajax 加载页面完成后（不论成功与否）\n    pageAnimationStart: 'pageAnimationStart', // 动画切换 page 前\n    pageAnimationEnd: 'pageAnimationEnd', // 动画切换 page 结束后\n    beforePageRemove: 'beforePageRemove', // 移除旧 document 前（适用于非内联 page 切换）\n    pageRemoved: 'pageRemoved', // 移除旧 document 后（适用于非内联 page 切换）\n    beforePageSwitch: 'beforePageSwitch', // page 切换前，在 pageAnimationStart 前，beforePageSwitch 之后会做一些额外的处理才触发 pageAnimationStart\n    pageInit: 'pageInitInternal' // 目前是定义为一个 page 加载完毕后（实际和 pageAnimationEnd 等同）\n};\n\nvar routerConfig = {\n    sectionGroupClass: 'page-group',\n    // 表示是当前 page 的 class\n    curPageClass: 'page-current',\n    // 用来辅助切换时表示 page 是 visible 的,\n    // 之所以不用 curPageClass，是因为 page-current 已被赋予了「当前 page」这一含义而不仅仅是 display: block\n    // 并且，别的地方已经使用了，所以不方便做变更，故新增一个\n    visiblePageClass: 'page-visible',\n    // 表示是 page 的 class，注意，仅是标志 class，而不是所有的 class\n    pageClass: 'page'\n};\n\nvar DIRECTION = {\n    leftToRight: 'from-left-to-right',\n    rightToLeft: 'from-right-to-left'\n};\n\nvar theHistory = window.history;\n\n/**\n * 路由构造函数\n * @constructor 构造器\n */\nvar Router = function() {\n    this.sessionNames = {\n        currentState: 'dfzq.router.currentState',\n        maxStateId: 'dfzq.router.maxStateId'\n    };\n\n    // 初始化history的state并做了一些缓存工作\n    this._init();\n    this.xhr = null;\n    // Hash对应的VDom\n    this.vdoms = {};\n    // Hash对应的viewId\n    this.hash2ViewId = {};\n    // 路由是否由popstate引起\n    this.popstateFlag = false;\n\n    // 这块的声明已被移植到核心库的router模块中\n    //window.addEventListener('popstate', this._onPopState.bind(this));\n};\n\n/**\n * 初始化\n *\n * - 把当前文档内容缓存起来\n * - 查找默认展示的块内容，查找顺序如下\n *      1. id 是 url 中的 fragment 的元素\n *      2. 有当前块 class 标识的第一个元素\n *      3. 第一个块\n * - 初始页面 state 处理\n *\n * @private\n */\nRouter.prototype._init = function() {\n\n    this.$view = $('body');\n\n    // 用来保存 document 的 map\n    this.cache = {};\n    var $doc = $(document);\n    var currentUrl = location.href;\n    // 根据absoluteUrl将当前页面的document和page-group的dom缓存起来\n    this._saveDocumentIntoCache($doc, currentUrl);\n\n    var curPageId;\n\n    var currentUrlObj = Util.toUrlObject(currentUrl);\n    var $allSection = $doc.find('.' + routerConfig.pageClass);\n    var $visibleSection = $doc.find('.' + routerConfig.curPageClass);\n    var $curVisibleSection = $visibleSection.eq(0);\n    var $hashSection;\n\n    // if (currentUrlObj.fragment) {\n    //     $hashSection = $doc.find('#' + currentUrlObj.fragment);\n    // }\n    // if ($hashSection && $hashSection.length) {\n    //     $visibleSection = $hashSection.eq(0);\n    // }\n    // else if (!$visibleSection.length) {\n    //     $visibleSection = $allSection.eq(0);\n    // }\n    if (!$visibleSection.length) {\n        $visibleSection = $allSection.eq(0);\n    }\n    // 如果当前page没有定义id，则随机产生id\n    if (!$visibleSection.attr('id')) {\n        $visibleSection.attr('id', theHistory.state==null ? this._generateRandomId() : theHistory.state.pageId);\n    }\n\n    if ($curVisibleSection.length &&\n        ($curVisibleSection.attr('id') !== $visibleSection.attr('id'))) {\n        // 在 router 到 inner page 的情况下，刷新（或者直接访问该链接）\n        // 直接切换 class 会有「闪」的现象,或许可以采用 animateSection 来减缓一下\n        $curVisibleSection.removeClass(routerConfig.curPageClass);\n        $visibleSection.addClass(routerConfig.curPageClass);\n    } else {\n        $visibleSection.addClass(routerConfig.curPageClass);\n    }\n    curPageId = $visibleSection.attr('id');\n\n\n    // 新进入一个使用 history.state 相关技术的页面时，如果第一个 state 不 push/replace,\n    // 那么在后退回该页面时，将不触发 popState 事件\n    if (theHistory.state === null) {\n        var curState = {\n            id: this._getNextStateId(),\n            url: Util.toUrlObject(currentUrl),\n            pageId: curPageId\n        };\n\n        theHistory.replaceState(curState, '', currentUrl);\n        this._saveAsCurrentState(curState);\n        this._incMaxStateId();\n    }\n};\n\n/**\n * 切换到 url 指定的块或文档\n *\n * 如果 url 指向的是当前页面，那么认为是切换块；\n * 否则是切换文档\n *\n * @param {String} router 核心层的router，内部包含match和path\n * @param {Boolean=} ignoreCache 是否强制请求不使用缓存，对 document 生效，默认是 false\n */\nRouter.prototype.load = function(router, ignoreCache) {\n    // if (ignoreCache === undefined) {\n    //     ignoreCache = false;\n    // }\n\n    // if (this._isTheSameDocument(location.href, url)) {\n    //     this._switchToSection(Util.getUrlFragment(url));\n    // } else {\n    //     this._saveDocumentIntoCache($(document), location.href);\n    //     this._switchToDocument(url, ignoreCache);\n    // }\n\n    // // TODO 目前只支持内联，未来可扩展外联链接方式 ...\n    // var hashId = Util.getUrlFragment(url)\n    // core模块中进行v-tree操作\n    // // 查找当前doms作用域中是否存在当前路由\n    // if (!this.vdoms[hashId])\n    //     $.loadDocument(hashId)\n    // 切换页面块\n    this._switchToSection(router)\n};\n\n/**\n * 调用 history.forward()\n */\nRouter.prototype.forward = function() {\n    theHistory.forward();\n};\n\n/**\n * 调用 history.back()\n */\nRouter.prototype.back = function() {\n    theHistory.back();\n};\n\n//noinspection JSUnusedGlobalSymbols\n/**\n * @deprecated\n */\nRouter.prototype.loadPage = Router.prototype.load;\n\n/**\n * 切换显示当前文档另一个块\n *\n * 把新块从右边切入展示，同时会把新的块的记录用 history.pushState 来保存起来\n *\n * 如果已经是当前显示的块，那么不做任何处理；\n * 如果没对应的块，那么忽略。\n *\n * @param {String} router 待切换router,内部包含match和path\n * @private\n */\nRouter.prototype._switchToSection = function(router) {\n    var hashId = router.path\n    var match = router.match\n    if (!hashId) {\n        return;\n    }\n\n    var $curPage = this._getCurrentSection();\n    // 根据路由规则，新页面将会是page-group的最后一个子节点\n    //$newPage = $('#' + sectionId);\n    var $newPage;\n    if (!this.hash2ViewId[match]) {\n        $newPage = this.$view.find('.' + routerConfig.pageClass).eq(-1);\n    }\n    else{\n        $newPage = $('#' + this.hash2ViewId[match]);\n    }\n\n    // 如果已经是当前页，不做任何处理\n    if ($curPage === $newPage) {\n        return;\n    }\n\n    this._animateSection($curPage, $newPage, DIRECTION.rightToLeft);\n    // 待切换的块未设置ID，自动生成一个随机值\n    var sectionId;\n    if (!$newPage.attr('id')) {\n        sectionId = this._generateRandomId()\n        $newPage.attr('id', sectionId);\n    } else {\n        sectionId = $newPage.attr('id')\n    }\n    this.hash2ViewId[match] = sectionId;\n\n    this._pushNewState('#' + hashId, sectionId);\n\n    // // 更新当前可见页面的node\n    // $.setNode(this.vdoms[hashId])\n};\n\n/**\n * 载入显示一个新的文档\n *\n * - 如果有缓存，那么直接利用缓存来切换\n * - 否则，先把页面加载过来缓存，然后再切换\n *      - 如果解析失败，那么用 location.href 的方式来跳转\n *\n * 注意：不能在这里以及其之后用 location.href 来 **读取** 切换前的页面的 url，\n *     因为如果是 popState 时的调用，那么此时 location 已经是 pop 出来的 state 的了\n *\n * @param {String} url 新的文档的 url\n * @param {Boolean=} ignoreCache 是否不使用缓存强制加载页面\n * @param {Boolean=} isPushState 是否需要 pushState\n * @param {String=} direction 新文档切入的方向\n * @private\n */\nRouter.prototype._switchToDocument = function(url, ignoreCache, isPushState, direction) {\n    var baseUrl = Util.toUrlObject(url).base;\n\n    if (ignoreCache) {\n        delete this.cache[baseUrl];\n    }\n\n    var cacheDocument = this.cache[baseUrl];\n    var context = this;\n\n    if (cacheDocument) {\n        this._doSwitchDocument(url, isPushState, direction);\n    } else {\n        // TODO 改造成mobi中的http通讯模块 ...\n        this._loadDocument(url, {\n            success: function($doc) {\n                try {\n                    context._parseDocument(url, $doc);\n                    context._doSwitchDocument(url, isPushState, direction);\n                } catch (e) {\n                    location.href = url;\n                }\n            },\n            error: function() {\n                location.href = url;\n            }\n        });\n    }\n};\n\n/**\n * 利用缓存来做具体的切换文档操作\n *\n * - 确定待切入的文档的默认展示 section\n * - 把新文档 append 到 view 中\n * - 动画切换文档\n * - 如果需要 pushState，那么把最新的状态 push 进去并把当前状态更新为该状态\n *\n * @param {String} url 待切换的文档的 url\n * @param {Boolean} isPushState 加载页面后是否需要 pushState，默认是 true\n * @param {String} direction 动画切换方向，默认是 DIRECTION.rightToLeft\n * @private\n */\nRouter.prototype._doSwitchDocument = function(url, isPushState, direction) {\n    if (typeof isPushState === 'undefined') {\n        isPushState = true;\n    }\n\n    var urlObj = Util.toUrlObject(url);\n    // 当前Document\n    var $currentDoc = this.$view.find('.' + routerConfig.sectionGroupClass);\n    // 将要animateTo的Document\n    var $newDoc = $($('<div></div>').append(this.cache[urlObj.base].$content).html());\n\n    // 确定一个 document 展示 section 的顺序\n    // 1. 与 hash 关联的 element\n    // 2. 默认的标识为 current 的 element\n    // 3. 第一个 section\n    var $allSection = $newDoc.find('.' + routerConfig.pageClass);\n    var $visibleSection = $newDoc.find('.' + routerConfig.curPageClass);\n    var $hashSection;\n\n    if (urlObj.fragment) {\n        $hashSection = $newDoc.find('#' + urlObj.fragment);\n    }\n    if ($hashSection && $hashSection.length) {\n        $visibleSection = $hashSection.eq(0);\n    } else if (!$visibleSection.length) {\n        $visibleSection = $allSection.eq(0);\n    }\n    if (!$visibleSection.attr('id')) {\n        $visibleSection.attr('id', this._generateRandomId());\n    }\n\n    var $currentSection = this._getCurrentSection();\n    $currentSection.trigger(EVENTS.beforePageSwitch, [$currentSection.attr('id'), $currentSection]);\n\n    $allSection.removeClass(routerConfig.curPageClass);\n    $visibleSection.addClass(routerConfig.curPageClass);\n\n    // prepend 而不 append 的目的是避免 append 进去新的 document 在后面，\n    // 其里面的默认展示的(.page-current) 的页面直接就覆盖了原显示的页面（因为都是 absolute）\n    this.$view.prepend($newDoc);\n\n    this._animateDocument($currentDoc, $newDoc, $visibleSection, direction);\n\n    if (isPushState) {\n        this._pushNewState(url, $visibleSection.attr('id'));\n    }\n};\n\n/**\n * 判断两个 url 指向的页面是否是同一个\n *\n * 判断方式: 如果两个 url 的 base 形式（不带 hash 的绝对形式）相同，那么认为是同一个页面\n *\n * @param {String} url\n * @param {String} anotherUrl\n * @returns {Boolean}\n * @private\n */\nRouter.prototype._isTheSameDocument = function(url, anotherUrl) {\n    return Util.toUrlObject(url).base === Util.toUrlObject(anotherUrl).base;\n};\n\n/**\n * ajax 加载 url 指定的页面内容\n *\n * 加载过程中会发出以下事件\n *  pageLoadCancel: 如果前一个还没加载完,那么取消并发送该事件\n *  pageLoadStart: 开始加载\n *  pageLodComplete: ajax complete 完成\n *  pageLoadError: ajax 发生 error\n *\n *\n * @param {String} url url\n * @param {Object=} callback 回调函数配置，可选，可以配置 success\\error 和 complete\n *      所有回调函数的 this 都是 null，各自实参如下：\n *      success: $doc, status, xhr\n *      error: xhr, status, err\n *      complete: xhr, status\n *\n * @private\n */\nRouter.prototype._loadDocument = function(url, callback) {\n    // 并发操作考虑\n    if (this.xhr && this.xhr.readyState < 4) {\n        this.xhr.onreadystatechange = function() {\n        };\n        this.xhr.abort();\n        this.dispatch(EVENTS.pageLoadCancel);\n    }\n\n    this.dispatch(EVENTS.pageLoadStart);\n\n    callback = callback || {};\n    var self = this;\n\n    this.xhr = $.ajax({\n        url: url,\n        success: $.proxy(function(data, status, xhr) {\n            // 给包一层 <html/>，从而可以拿到完整的结构\n            var $doc = $('<html></html>');\n            $doc.append(data);\n            callback.success && callback.success.call(null, $doc, status, xhr);\n        }, this),\n        error: function(xhr, status, err) {\n            callback.error && callback.error.call(null, xhr, status, err);\n            // Ajax失败时的回调处理\n            self.dispatch(EVENTS.pageLoadError);\n        },\n        complete: function(xhr, status) {\n            callback.complete && callback.complete.call(null, xhr, status);\n            self.dispatch(EVENTS.pageLoadComplete);\n        }\n    });\n};\n\n/**\n * 对于 ajax 加载进来的页面，把其缓存起来\n *\n * @param {String} url url\n * @param $doc ajax 载入的页面的 jq 对象，可以看做是该页面的 $(document)\n * @private\n */\nRouter.prototype._parseDocument = function(url, $doc) {\n    var $innerView = $doc.find('.' + routerConfig.sectionGroupClass);\n\n    if (!$innerView.length) {\n        throw new Error('missing router view mark: ' + routerConfig.sectionGroupClass);\n    }\n\n    this._saveDocumentIntoCache($doc, url);\n};\n\n/**\n * 把一个页面的相关信息保存到 this.cache 中\n *\n * 以页面的 baseUrl 为 key,而 value 则是一个 DocumentCache\n *\n * @param {*} doc doc\n * @param {String} url url\n * @private\n */\nRouter.prototype._saveDocumentIntoCache = function(doc, url) {\n    var urlAsKey = Util.toUrlObject(url).base;\n    var $doc = $(doc);\n\n    this.cache[urlAsKey] = {\n        $doc: $doc,\n        $content: $doc.find('.' + routerConfig.sectionGroupClass)\n    };\n};\n\n/**\n * 从 sessionStorage 中获取保存下来的「当前状态」\n *\n * 如果解析失败，那么认为当前状态是 null\n *\n * @returns {State|null}\n * @private\n */\nRouter.prototype._getLastState = function() {\n    var currentState = sessionStorage.getItem(this.sessionNames.currentState);\n    try {\n        currentState = JSON.parse(currentState);\n    } catch(e) {\n        currentState = null;\n    }\n\n    return currentState;\n};\n\n/**\n * 把一个状态设为当前状态，保存仅 sessionStorage 中\n *\n * @param {State} state\n * @private\n */\nRouter.prototype._saveAsCurrentState = function(state) {\n    sessionStorage.setItem(this.sessionNames.currentState, JSON.stringify(state));\n};\n\n/**\n * 获取下一个 state 的 id\n *\n * 读取 sessionStorage 里的最后的状态的 id，然后 + 1；如果原没设置，那么返回 1\n *\n * @returns {number}\n * @private\n */\nRouter.prototype._getNextStateId = function() {\n    var maxStateId = sessionStorage.getItem(this.sessionNames.maxStateId);\n    return maxStateId ? parseInt(maxStateId, 10) + 1 : 1;\n};\n\n/**\n * 把 sessionStorage 里的最后状态的 id 自加 1\n *\n * @private\n */\nRouter.prototype._incMaxStateId = function() {\n    sessionStorage.setItem(this.sessionNames.maxStateId, this._getNextStateId());\n};\n\n/**\n * 从一个文档切换为显示另一个文档\n *\n * @param $from 目前显示的文档\n * @param $to 待切换显示的新文档\n * @param $visibleSection 新文档中展示的 section 元素\n * @param direction 新文档切入方向\n * @private\n */\nRouter.prototype._animateDocument = function($from, $to, $visibleSection, direction) {\n    var sectionId = $visibleSection.attr('id');\n\n\n    var $visibleSectionInFrom = $from.find('.' + routerConfig.curPageClass);\n    $visibleSectionInFrom.addClass(routerConfig.visiblePageClass).removeClass(routerConfig.curPageClass);\n\n    $visibleSection.trigger(EVENTS.pageAnimationStart, [sectionId, $visibleSection]);\n\n    this._animateElement($from, $to, direction);\n\n    $from.animationEnd(function() {\n        $visibleSectionInFrom.removeClass(routerConfig.visiblePageClass);\n        // 移除 document 前后，发送 beforePageRemove 和 pageRemoved 事件\n        $(window).trigger(EVENTS.beforePageRemove, [$from]);\n        $from.remove();\n        $(window).trigger(EVENTS.pageRemoved);\n    });\n\n    $to.animationEnd(function() {\n        $visibleSection.trigger(EVENTS.pageAnimationEnd, [sectionId, $visibleSection]);\n        // 外层（init.js）中会绑定 pageInitInternal 事件，然后对页面进行初始化\n        $visibleSection.trigger(EVENTS.pageInit, [sectionId, $visibleSection]);\n    });\n};\n\n/**\n * 把当前文档的展示 section 从一个 section 切换到另一个 section\n *\n * @param $from\n * @param $to\n * @param direction\n * @private\n */\nRouter.prototype._animateSection = function($from, $to, direction) {\n    var toId = $to.attr('id');\n    $from.isBack = (direction === DIRECTION.rightToLeft) ? false : true\n    $from.trigger(EVENTS.beforePageSwitch, [$from.attr('id'), $from]);\n\n    $from.removeClass(routerConfig.curPageClass);\n    $to.addClass(routerConfig.curPageClass);\n    $to.isBack = (direction === DIRECTION.rightToLeft) ? false : true\n\n    // 给容器添加scroller自由滚动特性\n    // 解决virtual-dom和js-scroller公用冲突的bug，全部使用原生scroller\n    $('[data-toggle=\"scroller\"]').not(\".native-scroll\").not(\".javascript-scroll\").scroller({\n        type: 'native'\n    })\n\n    $to.trigger(EVENTS.pageAnimationStart, [toId, $to]);\n    this._animateElement($from, $to, direction);\n    // 判断是否PageInit\n    var _isInit = true\n    for (var key in this.hash2ViewId){\n        if (this.hash2ViewId[key] === toId){\n            _isInit = false\n            break;\n        }\n    }\n    $to.animationEnd(function() {\n        $to.trigger(EVENTS.pageAnimationEnd, [toId, $to]);\n        // 外层（init.js）中会绑定 pageInitInternal 事件，然后对页面进行初始化\n        if (_isInit){\n            $to.trigger(EVENTS.pageInit, [toId, $to]);\n        }\n    });\n};\n\n/**\n * 切换显示两个元素\n *\n * 切换是通过更新 class 来实现的，而具体的切换动画则是 class 关联的 css 来实现\n *\n * @param $from 当前显示的元素\n * @param $to 待显示的元素\n * @param direction 切换的方向\n * @private\n */\nRouter.prototype._animateElement = function($from, $to, direction) {\n    // todo: 可考虑如果入参不指定，那么尝试读取 $to 的属性，再没有再使用默认的\n    // 考虑读取点击的链接上指定的方向\n    if (typeof direction === 'undefined') {\n        direction = DIRECTION.rightToLeft;\n    }\n\n    var animPageClasses = [\n        'page-from-center-to-left',\n        'page-from-center-to-right',\n        'page-from-right-to-center',\n        'page-from-right-to-center-compatible',\n        'page-from-left-to-center'].join(' ');\n\n    var classForFrom, classForTo;\n    switch(direction) {\n        case DIRECTION.rightToLeft:\n            classForFrom = 'page-from-center-to-left';\n            //classForTo = $.device.ios ? 'page-from-right-to-center-compatible' : 'page-from-right-to-center';\n            classForTo = ($.device.ios && (Version._compareVersion($.device.osVersion, '10.0.0') >= 0 && Version._compareVersion($.device.osVersion, '11.0.0') < 0)) ? 'page-from-right-to-center-compatible' : 'page-from-right-to-center';\n            break;\n        case DIRECTION.leftToRight:\n            classForFrom = 'page-from-center-to-right';\n            classForTo = 'page-from-left-to-center';\n            break;\n        default:\n            classForFrom = 'page-from-center-to-left';\n            //classForTo = $.device.ios ? 'page-from-right-to-center-compatible' : 'page-from-right-to-center';\n            classForTo = ($.device.ios && (Version._compareVersion($.device.osVersion, '10.0.0') >= 0 && Version._compareVersion($.device.osVersion, '11.0.0') < 0)) ? 'page-from-right-to-center-compatible' : 'page-from-right-to-center';\n            break;\n    }\n\n    $from.removeClass(animPageClasses).addClass(classForFrom);\n    $to.removeClass(animPageClasses).addClass(classForTo);\n\n    $from.animationEnd(function() {\n        $from.removeClass(animPageClasses);\n    });\n    $to.animationEnd(function() {\n        $to.removeClass(animPageClasses);\n    });\n};\n\n/**\n * 获取当前显示的第一个 section\n *\n * @returns {*}\n * @private\n */\nRouter.prototype._getCurrentSection = function() {\n    return this.$view.find('.' + routerConfig.curPageClass).eq(0);\n};\n\n/**\n * popState 事件关联着的后退处理\n *\n * 判断两个 state 判断是否是属于同一个文档，然后做对应的 section 或文档切换；\n * 同时在切换后把新 state 设为当前 state\n *\n * @param {State} state 新 state\n * @param {State} fromState 旧 state\n * @private\n */\nRouter.prototype._back = function(state, fromState) {\n    // if (this._isTheSameDocument(state.url.full, fromState.url.full)) {\n    //     var $newPage = $('#' + state.pageId);\n    //     if ($newPage.length) {\n    //         var $currentPage = this._getCurrentSection();\n    //         this._animateSection($currentPage, $newPage, DIRECTION.leftToRight);\n    //         this._saveAsCurrentState(state);\n    //     } else {\n    //         // location.href = state.url.full;\n    //         location.href = state.url.base\n    //     }\n    // } else {\n    //     this._saveDocumentIntoCache($(document), fromState.url.full);\n    //     this._switchToDocument(state.url.full, false, false, DIRECTION.leftToRight);\n    //     this._saveAsCurrentState(state);\n    // }\n    var $newPage = $('#' + state.pageId);\n    if ($newPage.length) {\n        var $currentPage = this._getCurrentSection();\n        this._animateSection($currentPage, $newPage, DIRECTION.leftToRight);\n        this._saveAsCurrentState(state);\n    } else {\n        location.href = state.url.full;\n        //location.href = state.url.base\n    }\n};\n\n/**\n * popState 事件关联着的前进处理,类似于 _back，不同的是切换方向\n *\n * @param {State} state 新 state\n * @param {State} fromState 旧 state\n * @private\n */\nRouter.prototype._forward = function(state, fromState) {\n    if (this._isTheSameDocument(state.url.full, fromState.url.full)) {\n        var $newPage = $('#' + state.pageId);\n        if ($newPage.length) {\n            var $currentPage = this._getCurrentSection();\n            this._animateSection($currentPage, $newPage, DIRECTION.rightToLeft);\n            this._saveAsCurrentState(state);\n        } else {\n            // location.href = state.url.full;\n            location.href = state.url.base\n        }\n    } else {\n        this._saveDocumentIntoCache($(document), fromState.url.full);\n        this._switchToDocument(state.url.full, false, false, DIRECTION.rightToLeft);\n        this._saveAsCurrentState(state);\n    }\n};\n\n/**\n * popState 事件处理\n *\n * 根据 pop 出来的 state 和当前 state 来判断是前进还是后退\n *\n * @param event popstate事件对象\n * @param routerMatch 路由规则，支持通配符\n * @private\n */\nRouter.prototype._onPopState = function(event, routerMatch) {\n    var state = event.state;\n    // if not a valid state, do nothing\n    if (!state || !state.pageId) {\n        return;\n    }\n\n    var lastState = this._getLastState();\n\n    if (!lastState) {\n        console.error && console.error('Missing last state when backward or forward');\n        return;\n    }\n\n    if (state.id === lastState.id) {\n        return;\n    }\n\n    if (state.id < lastState.id) {\n        this._back(state, lastState);\n    } else {\n        this._forward(state, lastState);\n    }\n\n    // 前进后退都记录当前的hash对应的viewId，用于v-dom查找对应hash的node对象（已修复）\n    this.hash2ViewId[routerMatch] = state.pageId;\n\n    // 更新当前可见页面的node\n    // $.setNode(this.vdoms[lastState.url.fragment])\n    //$.setNode(this.vdoms[Util.getUrlFragment(location.href)])\n};\n\n/**\n * 页面进入到一个新状态\n *\n * 把新状态 push 进去，设置为当前的状态，然后把 maxState 的 id +1。\n *\n * @param {String} url 新状态的 url\n * @param {String} sectionId 新状态中显示的 section 元素的 id\n * @private\n */\nRouter.prototype._pushNewState = function(url, sectionId) {\n    var state = {\n        id: this._getNextStateId(),\n        pageId: sectionId,\n        url: Util.toUrlObject(url)\n    };\n\n    theHistory.pushState(state, '', url);\n    this._saveAsCurrentState(state);\n    this._incMaxStateId();\n};\n\n/**\n * 生成一个随机的 id\n *\n * @returns {string}\n * @private\n */\nRouter.prototype._generateRandomId = function() {\n    return \"page-\" + (+new Date());\n};\n\nRouter.prototype.dispatch = function(event) {\n    var e = new CustomEvent(event, {\n        bubbles: true,\n        cancelable: true\n    });\n\n    //noinspection JSUnresolvedFunction\n    window.dispatchEvent(e);\n};\n\nexport {\n    Router,\n    Util,\n    routerConfig,\n    EVENTS\n};\n\n// /**\n//  * 判断一个链接是否使用 router 来处理\n//  *\n//  * @param $link\n//  * @returns {boolean}\n//  */\n// function isInRouterBlackList($link) {\n//     var classBlackList = [\n//         'external',\n//         'tab-link',\n//         'open-popup',\n//         'close-popup',\n//         'open-panel',\n//         'close-panel'\n//     ];\n//\n//     for (var i = classBlackList.length -1 ; i >= 0; i--) {\n//         if ($link.hasClass(classBlackList[i])) {\n//             return true;\n//         }\n//     }\n//\n//     var linkEle = $link.get(0);\n//     var linkHref = linkEle.getAttribute('href');\n//\n//     var protoWhiteList = [\n//         'http',\n//         'https'\n//     ];\n//\n//     //如果非noscheme形式的链接，且协议不是http(s)，那么路由不会处理这类链接\n//     if (/^(\\w+):/.test(linkHref) && protoWhiteList.indexOf(RegExp.$1) < 0) {\n//         return true;\n//     }\n//\n//     //noinspection RedundantIfStatementJS\n//     if (linkEle.hasAttribute('external')) {\n//         return true;\n//     }\n//\n//     return false;\n// }\n\n// /**\n//  * 自定义是否执行路由功能的过滤器\n//  *\n//  * 可以在外部定义 $.config.routerFilter 函数，实参是点击链接的 Zepto 对象。\n//  *\n//  * @param $link 当前点击的链接的 Zepto 对象\n//  * @returns {boolean} 返回 true 表示执行路由功能，否则不做路由处理\n//  */\n// function customClickFilter($link) {\n//     // 路由功能开关过滤器，返回 false 表示当前点击链接不使用路由\n//     var customRouterFilter = $link => {\n//         // 某个区域的 a 链接不想使用路由功能\n//         if ($link.is('.disable-router a')) {\n//             return false;\n//         }\n//\n//         return true;\n//     };\n//     if ($.isFunction(customRouterFilter)) {\n//         var filterResult = customRouterFilter($link);\n//         if (typeof filterResult === 'boolean') {\n//             return filterResult;\n//         }\n//     }\n//\n//     return true;\n// }\n\n// $(function() {\n//     // 当前浏览器是否支持sessionStorage特性\n//     if (!Util.supportStorage()) {\n//         return;\n//     }\n//\n//     // 页面元素需要定义.page，不然路由模块默认不会生效\n//     var $pages = $('.' + routerConfig.pageClass);\n//     if (!$pages.length) {\n//         var warnMsg = 'Disable router function because of no .page elements';\n//         if (window.console && window.console.warn) {\n//             console.warn(warnMsg);\n//         }\n//         return;\n//     }\n//\n//     // 初始化路由：historyState\n//     var router = $.router = new Router();\n//\n//     // 为page容器中的a标签注册点击事件\n//     $(document).on('click', 'a', function(e) {\n//         var $target = $(e.currentTarget);\n//\n//         var filterResult = customClickFilter($target);\n//         if (!filterResult) {\n//             return;\n//         }\n//\n//         if (isInRouterBlackList($target)) {\n//             return;\n//         }\n//\n//         e.preventDefault();\n//\n//         if ($target.hasClass('back')) {\n//             router.back();\n//         } else {\n//             var url = $target.attr('href');\n//             if (!url || url === '#') {\n//                 return;\n//             }\n//\n//             var ignoreCache = $target.attr('data-no-cache') === 'true';\n//\n//             router.load(url, ignoreCache);\n//         }\n//     });\n// });\n\n\n// WEBPACK FOOTER //\n// ./src/router/router.js","export default class ActionService {\n\n  static AllMutationActions;\n\n  constructor() {\n    console.log('ActionService Created.')\n  }\n\n  select() {\n    return ActionService.AllMutationActions;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/actionService.js","var i, node, children, stack = []\n\nexport default function (tag, data) {\n  var canConcat, oldCanConcat\n\n  children = []\n  i = arguments.length\n\n  while (i-- > 2) {\n    stack.push(arguments[i])\n  }\n\n  while (stack.length) {\n    if (Array.isArray(node = stack.pop())) {\n      i = node.length\n\n      while (i--) {\n        stack.push(node[i])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      // Ignore nulls and booleans; this is conditional rendering.\n\n      if (typeof node === \"number\") {\n        node = node + \"\"\n      }\n\n      // Concatenate contiguous number/string nodes into one string.\n      // The idea is to avoid creating unnecessary text nodes.\n\n      canConcat = typeof node === \"string\"\n\n      if (canConcat && oldCanConcat) {\n        children[children.length - 1] += node\n      } else {\n        children.push(node)\n        oldCanConcat = canConcat\n      }\n    }\n  }\n\n  if (typeof tag === \"function\") {\n    var _class = new tag(data, children)\n    if (_class['render']) {\n      return new tag(data, children).render()\n    } else {\n      throw new Error(\"view class must define render function.\")\n    }\n  }\n\n  return {\n    tag: tag,\n    data: data || {},\n    children: children\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/h.js","/*\n * @Author: shenzhiwei\n * @Date: 2019-07-05 08:41:29\n * @LastEditors: shenzhiwei\n * @LastEditTime: 2019-07-07 17:38:19\n * @Description: 将被注解exposeAction的effect/mutation注入到actions中\n */\nimport ExposeActionPool from '../annotations/actions/pool';\n\nconst ImportAction = function(container) {\n  return function() {\n    let effects = {};\n    const $pool = ExposeActionPool._pool\n    if ($pool.size > 0) {\n      $pool.forEach(function(value, key, map){\n        const ctor = key.constructor\n        if (ctor) {\n          const valueLength = value.length\n          if (valueLength > 0) {\n            // 该模式下不提供注入具体的实现类，由上层在启动程序初始化时候进行注册\n            const instance = container.resolve(key.constructor) // 获取实例\n            for(var i = 0, j = valueLength; i < j; i++) {\n              effects[value[i]] = instance[value[i]]\n            }\n          }\n        }\n      })\n    }\n    return {\n      effects\n    }\n  }\n}\n\nexport default ImportAction\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/importAction.js","/**\n * Created by dfzq on 2017/7/31.\n */\n\n/**\n * 末尾补.0\n * @param num 原始值\n * @param n   位数最大的值\n * @returns {*}\n */\nconst padZero = (num, n) => {\n    let len = num.split('.').length;\n    while(len < n) {\n        num = num + '.0';\n        len++;\n    }\n    return num;\n}\n\n/**\n * 获取APP版本号\n * @param _\n * @returns {*}\n */\nconst getVersion = _ => {\n    let groups = navigator.userAgent.toLowerCase().match(/DFYJ\\/([\\d.]+)/i)\n    if (!groups) {\n        return undefined\n    }else {\n        return groups[1]\n    }\n}\n\n/**\n * 比较手机系统版本，arg1 > arg2, return 1; arg1 == arg2, return 0; arg1 < arg2, return -1\n * @param compareVersion\n * @returns {number}\n */\nconst _compareVersion = (a, b) => {\n    // 补.0操作\n    var _as = a.split('.');\n    var _bs = b.split('.');\n    var max = Math.max(_as.length, _bs.length)\n    a = padZero(a, max)\n    b = padZero(b, max)\n\n    var as = a.split('.');\n    var bs = b.split('.');\n    if (a === b) return 0;\n\n    for (var i = 0; i < as.length; i++) {\n        var x = parseInt(as[i]);\n        if (!bs[i]) return 1;\n        var y = parseInt(bs[i]);\n        if (x < y) return -1;\n        if (x > y) return 1;\n    }\n    return -1;\n}\n\n/**\n * 比较APP版本，比compareVersion大则返回1，否则返回-1；相等返回0；\n * @param compareVersion\n * @returns {number}\n */\nconst compareVersion = (compareVersion) => {\n    // 获取当前版本号\n    let currentVersion = getVersion()\n    if (!currentVersion) {\n        return 1\n    } else {\n        return _compareVersion(currentVersion, compareVersion)\n    }\n}\n\nexport {\n    getVersion,\n    compareVersion,\n    _compareVersion,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jsBridge/version.js","import h from \"./h\"\nimport {app} from \"./app-optimize\"\nimport Router from \"./router\"\nimport ModelState from \"./modelState\"\n\n// 解决effect依赖注入的问题（fast plugin）\nimport ImportAction from \"./importAction\"\n// 解决effect中actions的引用问题，即通过actions调用可拿到其引用，但是通过实例调用就拿不到\nimport ActionService from './actionService'\n// 解决多态性变化时候的运行时实例引用动态修改\nimport Container from './container'\n\nexport { h, app, Router, ModelState, ImportAction, ActionService, Container, }\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/index-optimize.js"],"sourceRoot":""}