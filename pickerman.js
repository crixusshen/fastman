!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.fastman=t():e.fastman=t()}(this,function(){return webpackJsonpfastman([21],{211:function(e,t,a){e.exports=a(31)},31:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=arguments,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(11),o=function(e,t){if(void 0===t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){if(e=$(e),!(e.length>0))return!1;t&&e.addClass("remove-on-close"),$(r.defaults.modalContainer).append(e[0])}return e=$(e),0!==e.length&&(e.show(),(0,r.openModal)(e),e[0])},s=function(e){function t(){if(s.opened)for(var e=0;e<s.cols.length;e++)s.cols[e].divider||(s.cols[e].calcSize(),s.cols[e].setValue(s.cols[e].value,0,!1))}function a(e){if(e.preventDefault(),$.device.isWeixin&&$.device.android&&s.params.inputReadOnly&&(this.focus(),this.blur()),!s.opened){if((0,r.closeModal)($(".picker-modal")),s.open(),s.params.scrollToInput){var t=s.input.parents(".content");if(0===t.length)return;var a,n=parseInt(t.css("padding-top"),10),i=parseInt(t.css("padding-bottom"),10),o=t[0].offsetHeight-n-s.container.height(),l=t[0].scrollHeight-n-s.container.height(),c=s.input.offset().top-n+s.input[0].offsetHeight;if(c>o){var p=t.scrollTop()+c-o;p+o>l&&(a=p+o-l+i,o===l&&(a=s.container.height()),t.css({"padding-bottom":a+"px"})),t.scrollTop(p,300)}}e.stopPropagation()}}function n(e){s.opened&&(s.closeFromOverlay=!1,s.input&&s.input.length>0?e.target!==s.input[0]&&0===$(e.target).parents(".picker-modal").length&&(s.closeFromOverlay=!0,(0,r.closeModal)(s.container)):0===$(e.target).parents(".picker-modal").length&&(s.closeFromOverlay=!0,(0,r.closeModal)(s.container)))}function i(){s.opened=!1,s.input&&s.input.length>0&&s.input.parents(".content").css({"padding-bottom":""}),s.params.onClose&&s.params.onClose(s),s.container.find(".picker-items-col").each(function(){s.destroyPickerCol(this)})}var s=this,l={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"确定",toolbarTemplate:'<header class="bar bar-nav">                <button class="button button-link pull-right close-picker">确定</button>                <h1 class="title">请选择</h1>                </header>',updateValue:!0};e=e||{};for(var c in l)void 0===e[c]&&(e[c]=l[c]);s.params=e,s.cols=[],s.initialized=!1,s.inline=!!s.params.container;var p=$.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!$.device.android;return s.setValue=function(e,t){for(var a=0,n=0;n<s.cols.length;n++)s.cols[n]&&!s.cols[n].divider&&(s.cols[n].setValue(e[a],t),a++)},s.updateValue=function(){for(var e=[],t=[],a=0;a<s.cols.length;a++)s.cols[a].divider||(e.push(s.cols[a].value),t.push(s.cols[a].displayValue));e.indexOf(void 0)>=0||(s.value=e,s.displayValue=t,s.params.onChange&&s.params.onChange(s,s.value,s.displayValue),s.input&&s.input.length>0&&($(s.input).val(s.params.formatValue?s.params.formatValue(s,s.value,s.displayValue):s.value.join(" ")),$(s.input).trigger("change")))},s.initPickerCol=function(e,t){function a(){g=$.requestAnimationFrame(function(){u.updateItems(void 0,void 0,0),a()})}function n(e){w||y||(e.preventDefault(),y=!0,x=b="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,V=(new Date).getTime(),H=!0,k=C=O=$.getTranslate(u.wrapper[0],"y"))}function i(e){if(y){e.preventDefault(),H=!1,b="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,w||($.cancelAnimationFrame(g),w=!0,C=O=$.getTranslate(u.wrapper[0],"y"),u.wrapper.transition(0)),e.preventDefault();O=C+(b-x),T=void 0,O<v&&(O=v-Math.pow(v-O,.8),T="min"),O>h&&(O=h+Math.pow(O-h,.8),T="max"),u.wrapper.transform("translate3d(0,"+O+"px,0)"),u.updateItems(void 0,O,0,s.params.updateValuesOnTouchmove),I=O-E||O,A=(new Date).getTime(),E=O}}function r(e){if(!y||!w)return void(y=w=!1);y=w=!1,u.wrapper.transition(""),T&&("min"===T?u.wrapper.transform("translate3d(0,"+v+"px,0)"):u.wrapper.transform("translate3d(0,"+h+"px,0)")),M=(new Date).getTime();var t;M-V>300?t=O:(Math.abs(I/(M-A)),t=O+I*s.params.momentumRatio),t=Math.max(Math.min(t,h),v);var n,i=(t-h)%f;n=k>t&&Math.abs(i+f)<f/2||k<t&&Math.abs(i+f)<f/2?-Math.floor((t-h)/f):-Math.ceil((t-h)/f),s.params.freeMode||(t=-n*f+h),u.wrapper.transform("translate3d(0,"+parseInt(t,10)+"px,0)"),u.updateItems(n,t,"",!0),s.params.updateValuesOnMomentum&&(a(),u.wrapper.transitionEnd(function(){$.cancelAnimationFrame(g)})),setTimeout(function(){H=!0},100)}function o(e){if(H){$.cancelAnimationFrame(g);var t=$(this).attr("data-picker-value");u.setValue(t)}}var l=$(e),c=l.index(),u=s.cols[c];if(!u.divider){u.container=l,u.wrapper=u.container.find(".picker-items-col-wrapper"),u.items=u.wrapper.find(".picker-item");var d,f,m,v,h;u.replaceValues=function(e,t){u.destroyEvents(),u.values=e,u.displayValues=t;var a=s.columnHTML(u,!0);u.wrapper.html(a),u.items=u.wrapper.find(".picker-item"),u.calcSize(),u.setValue(u.values[0],0,!0),u.initEvents()},u.calcSize=function(){s.params.rotateEffect&&(u.container.removeClass("picker-items-col-absolute"),u.width||u.container.css({width:""}));var e,t;e=0,t=u.container[0].offsetHeight,d=u.wrapper[0].offsetHeight,f=u.items[0].offsetHeight,m=f*u.items.length,v=t/2-m+f/2,h=t/2-f/2,u.width&&(e=u.width,parseInt(e,10)===e&&(e+="px"),u.container.css({width:e})),s.params.rotateEffect&&(u.width||(u.items.each(function(){var t=$(this);t.css({width:"auto"}),e=Math.max(e,t[0].offsetWidth),t.css({width:""})}),u.container.css({width:e+2+"px"})),u.container.addClass("picker-items-col-absolute"))},u.calcSize(),u.wrapper.transform("translate3d(0,"+h+"px,0)").transition(0);var g;u.setValue=function(e,t,n){void 0===t&&(t="");var i=u.wrapper.find('.picker-item[data-picker-value="'+e+'"]').index();if(void 0!==i&&-1!==i){var r=-i*f+h;u.wrapper.transition(t),u.wrapper.transform("translate3d(0,"+r+"px,0)"),s.params.updateValuesOnMomentum&&u.activeIndex&&u.activeIndex!==i&&($.cancelAnimationFrame(g),u.wrapper.transitionEnd(function(){$.cancelAnimationFrame(g)}),a()),u.updateItems(i,r,t,n)}},u.updateItems=function(e,t,a,n){void 0===t&&(t=$.getTranslate(u.wrapper[0],"y")),void 0===e&&(e=-Math.round((t-h)/f)),e<0&&(e=0),e>=u.items.length&&(e=u.items.length-1);var i=u.activeIndex;u.activeIndex=e,u.wrapper.find(".picker-selected").removeClass("picker-selected"),s.params.rotateEffect&&u.items.transition(a);var r=u.items.eq(e).addClass("picker-selected").transform("");if((n||void 0===n)&&(u.value=r.attr("data-picker-value"),u.displayValue=u.displayValues?u.displayValues[e]:u.value,i!==e&&(u.onChange&&u.onChange(s,u.value,u.displayValue),s.params.updateValue&&s.updateValue())),s.params.rotateEffect){Math.floor((t-h)/f);u.items.each(function(){var e=$(this),a=e.index()*f,n=h-t,i=a-n,r=i/f,o=Math.ceil(u.height/f/2)+1,s=-18*r;s>180&&(s=180),s<-180&&(s=-180),Math.abs(r)>o?e.addClass("picker-item-far"):e.removeClass("picker-item-far"),e.transform("translate3d(0, "+(-t+h)+"px, "+(p?-110:0)+"px) rotateX("+s+"deg)")})}},t&&u.updateItems(0,h,0);var k,y,w,x,b,V,M,C,T,O,E,I,A,H=!0;u.initEvents=function(e){var t=e?"off":"on";u.container[t]($.touchEvents.start,n),u.container[t]($.touchEvents.move,i),u.container[t]($.touchEvents.end,r),u.items[t]("click",o)},u.destroyEvents=function(){u.initEvents(!0)},u.container[0].f7DestroyPickerCol=function(){u.destroyEvents()},u.initEvents()}},s.destroyPickerCol=function(e){e=$(e),"f7DestroyPickerCol"in e[0]&&e[0].f7DestroyPickerCol()},$(window).on("resize",t),s.columnHTML=function(e,t){var a="",n="";if(e.divider)n+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var i=0;i<e.values.length;i++)a+='<div class="picker-item" data-picker-value="'+e.values[i]+'">'+(e.displayValues?e.displayValues[i]:e.values[i])+"</div>";n+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+a+"</div></div>"}return t?a:n},s.layout=function(){var e,t="",a="";s.cols=[];var n="";for(e=0;e<s.params.cols.length;e++){var i=s.params.cols[e];n+=s.columnHTML(s.params.cols[e]),s.cols.push(i)}a="picker-modal picker-columns "+(s.params.cssClass||"")+(s.params.rotateEffect?" picker-3d":""),t='<div class="'+a+'">'+(s.params.toolbar?s.params.toolbarTemplate.replace(/{{closeText}}/g,s.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+n+'<div class="picker-center-highlight"></div></div></div>',s.pickerHTML=t},s.params.input&&(s.input=$(s.params.input),s.input.length>0&&(s.params.inputReadOnly&&s.input.prop("readOnly",!0),s.inline||s.input.on("click",a))),s.inline||$("html").on("click",n),s.opened=!1,s.open=function(){s.opened||(s.layout(),s.opened=!0,s.inline?(s.container=$(s.pickerHTML),s.container.addClass("picker-modal-inline"),$(s.params.container).append(s.container)):(s.container=$(o(s.pickerHTML)),$(s.container).on("touchmove",function(e){return!1}),$(s.container).on("close",function(){i()})),s.container[0].f7Picker=s,s.container.find(".picker-items-col").each(function(){var e=!0;(!s.initialized&&s.params.value||s.initialized&&s.value)&&(e=!1),s.initPickerCol(this,e)}),s.initialized?s.value&&s.setValue(s.value,0):s.params.value&&s.setValue(s.params.value,0)),s.initialized=!0,s.params.onOpen&&s.params.onOpen(s)},s.close=function(){s.opened&&!s.inline&&(s.params.updateValue||s.updateValue(),(0,r.closeModal)(s.container))},s.destroy=function(){s.close(),s.params.input&&s.input.length>0&&s.input.off("click",a),$("html").off("click",n),$(window).off("resize",t)},s.inline&&s.open(),$(document).on("click",".close-picker",function(){s.close()}),s};$.fn.picker=function(e){var t=arguments;return this.each(function(){if(this){var a=$(this),n=a.data("picker");if(!n){var r=$.extend({input:this,value:a.val()?a.val().split(" "):""},e);n=new s(r),a.data("picker",n)}(void 0===e?"undefined":i(e))===i("a")&&"function"==typeof n[e]&&n[e].apply(n,Array.prototype.slice.call(t,1))}})},t.default=function(e,t){var a=n,r=$(e);if(r)return r.each(function(){var e=r.data("picker");if(!e){var n=$.extend({input:this,value:r.val()?r.val().split(" "):""},t);e=new s(n),r.data("picker",e)}(void 0===t?"undefined":i(t))===i("a")&&e[t].apply(e,Array.prototype.slice.call(a,1))})}}},[211])});