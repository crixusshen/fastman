!function(o,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?exports.fastman=a():o.fastman=a()}(this,function(){return webpackJsonpfastman([22],{11:function(o,a,l){"use strict";function t(o){var a=$(this);a.attr("href"),a.dataset();a.hasClass("modal-overlay")&&($(".modal.modal-in").length>0&&i.modalCloseByOutside&&d(".modal.modal-in"),$(".actions-modal.modal-in").length>0&&i.actionsCloseByOutside&&d(".actions-modal.modal-in")),a.hasClass("popup-overlay")&&$(".popup-modal.modal-in").length>0&&i.popupCloseByOutside&&d(".popup-modal.modal-in")}Object.defineProperty(a,"__esModule",{value:!0});var e=document.createElement("div");$.modalStack=[],$.modalStackClearQueue=function(){$.modalStack.length&&$.modalStack.shift()()};var s=function(o){o=o||{};var a="",l="";if(o.buttons&&o.buttons.length>0)for(var t=0;t<o.buttons.length;t++)l+='<span class="modal-button'+(o.buttons[t].bold?" modal-button-bold":"")+'">'+o.buttons[t].text+"</span>";var s=o.extraClass||"",r=o.title?'<div class="modal-title">'+o.title+"</div>":"",m=o.text?'<div class="modal-text">'+o.text+"</div>":"",c=o.afterText?o.afterText:"",u=o.buttons&&0!==o.buttons.length?"":"modal-no-buttons",p=o.verticalButtons?"modal-buttons-vertical":"";a='<div class="modal '+s+" "+u+'">'+(!o.isClose?"":'<i class="modal-close">+</i>')+'<div class="modal-inner">'+(r+m+c)+'</div><div class="modal-buttons '+p+'">'+l+"</div></div>",e.innerHTML=a;var v=$(e).children();return $(i.modalContainer).append(v[0]),v.find(".modal-button").each(function(a,l){$(l).on("click",function(l){!1!==o.buttons[a].close&&d(v),o.buttons[a].onClick&&o.buttons[a].onClick(v,l),o.onClick&&o.onClick(v,a)})}),v.find(".modal-close").on("click",function(o){d(v)}),n(v),v[0]},n=function o(a,l){a=$(a);var t=a.hasClass("modal"),e=!a.hasClass("toast");if($(".modal.modal-in:not(.modal-out)").length&&i.modalStack&&t&&e)return void $.modalStack.push(function(){o(a,l)});var s=a.hasClass("popup-modal"),n=a.hasClass("login-screen"),d=a.hasClass("picker-modal"),r=a.hasClass("toast"),m=a.hasClass("tip-modal"),c=a.hasClass("actions-modal");t&&(a.show(),a.css({marginTop:-Math.round(a.outerHeight()/2)+"px"})),r&&a.css({marginLeft:-Math.round(a.outerWidth()/2/1.185)+"px"}),s&&(a.show(),a.find(".content").scroller("refresh"),a.find("."+i.viewClass).length>0&&$.sizeNavbars(a.find("."+i.viewClass)[0])),(m||c)&&a.show();var u;n||d||r||m||(0!==$(".modal-overlay").length||s||$(i.modalContainer).append('<div class="modal-overlay"></div>'),0===$(".popup-overlay").length&&s&&$(i.modalContainer).append('<div class="popup-overlay"></div>'),u=s?$(".popup-overlay"):$(".modal-overlay"));a[0].clientLeft;return a.trigger("open"),d&&$(i.modalContainer).addClass("with-picker-modal"),n||d||r||m||u.addClass("modal-overlay-visible"),a.removeClass("modal-out").addClass("modal-in").transitionEnd(function(o){a.hasClass("modal-out")?a.trigger("closed"):a.trigger("opened")}),"function"==typeof l&&l.call(this),!0},d=function(o,a){if(void 0===(o=$(o||".modal-in"))||0!==o.length){var l=o.hasClass("modal"),t=o.hasClass("popup-modal"),e=o.hasClass("toast"),s=o.hasClass("login-screen"),n=o.hasClass("picker-modal"),d=o.hasClass("tip-modal"),r=o.hasClass("actions-modal"),m=o.hasClass("remove-on-close"),c=t?$(".popup-overlay"):$(".modal-overlay");return t?o.length===$(".popup-modal.modal-in").length&&c.removeClass("modal-overlay-visible"):n||e||c.removeClass("modal-overlay-visible"),o.trigger("close"),n&&($(i.modalContainer).removeClass("with-picker-modal"),$(i.modalContainer).addClass("picker-modal-closing")),o.removeClass("modal-in").addClass("modal-out").transitionEnd(function(e){o.hasClass("modal-out")?o.trigger("closed"):o.trigger("opened"),n&&$(i.modalContainer).removeClass("picker-modal-closing"),"function"==typeof a&&a.call(this),t||s||n||l||d||r?(o.removeClass("modal-out").hide(),m&&o.length>0&&o.remove()):o.remove()}),l&&i.modalStack&&$.modalStackClearQueue(),!0}};$(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .close-picker",t);var i=s.prototype.defaults={modalStack:!0,modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"加载中",modalContainer:document.body?document.body:"body",modalTitle:"",actionsCloseByOutside:!0};a.defaults=i,a.modal=s,a.openModal=n,a.closeModal=d},210:function(o,a,l){o.exports=l(11)}},[210])});