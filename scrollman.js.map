{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*******","webpack:///(webpack)/buildin/global.js?3698****","webpack:///./src/scroller/scroller.js","webpack:///./src/scroller/iscroller.js","webpack:///./src/util/util.js?cade","webpack:///./~/_in-viewport@3.6.0@in-viewport/in-viewport.js"],"names":["Util","require","IScroll","inViewport","_zeptoMethodCache","$","fn","scrollTop","scrollLeft","extend","top","dur","length","scroller","data","apply","arguments","left","Scroller","pageContent","_options","$pageContent","options","_defaults","type","useJSScroller","device","android","compareVersion","osVersion","ios","hasClass","minHeight","window","height","prev","find","css","ptr","useTransform","probeType","mouseWheel","click","androidChrome","scrollX","ptrOffset","_bindEventToDomWhenJs","initPullToRefresh","_pullToRefreshJSScroll","pullToRefreshDone","pullToRefreshTrigger","destroyToRefresh","addClass","width","position","nativeScrollTop","prototype","self","on","trigger","undefined","scrollTo","getComputedPosition","y","x","event","callback","call","wrapper","off","refresh","scrollHeight","scrollerHeight","Plugin","option","args","Array","shift","internal_return","each","$this","dataset","old","Constructor","noConflict","refreshScroller","content","initScroller","getScroller","parents","detectScrollerType","selector","topNumber","initPullDownRefresh","pullDownRefresh","document","pullDownRefreshDone","Math","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","utils","me","_elementStyle","createElement","style","_vendor","vendors","transform","i","l","substr","_prefixStyle","charAt","toUpperCase","getTime","Date","now","target","obj","addEvent","el","capture","addEventListener","removeEvent","removeEventListener","prefixPointerEvent","pointerEvent","MSPointerEvent","momentum","current","start","time","lowerMargin","wrapperSize","deceleration","distance","speed","abs","destination","duration","round","_transform","hasTransform","hasPerspective","hasTouch","hasPointer","PointerEvent","hasTransition","isBadAndroid","appVersion","navigator","test","safariVersion","match","parseFloat","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","touchAction","e","c","re","RegExp","className","newclass","split","push","join","removeClass","replace","offset","offsetLeft","offsetTop","offsetParent","preventDefaultException","exceptions","eventType","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","pointerdown","pointermove","pointerup","MSPointerDown","MSPointerMove","MSPointerUp","ease","quadratic","k","circular","sqrt","back","b","bounce","elastic","f","pow","sin","PI","tap","eventName","ev","createEvent","initEvent","pageX","pageY","dispatchEvent","tagName","initMouseEvent","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","_constructed","getTouchAction","eventPassthrough","addPinch","getRect","SVGElement","rect","getBoundingClientRect","offsetWidth","offsetHeight","querySelector","children","scrollerStyle","resizeScrollbars","mouseWheelSpeed","snapThreshold","disablePointer","disableTouch","disableMouse","startX","startY","scrollY","directionLockThreshold","bounceTime","bounceEasing","preventDefault","HWCompositing","useTransition","bindToWrapper","onmousedown","translateZ","freeScroll","resizePolling","shrinkScrollbars","invertWheelDirection","directionX","directionY","_events","_init","enable","version","_initEvents","scrollbars","indicators","_initIndicators","_initWheel","snap","_initSnap","keyBindings","_initKeys","destroy","clearTimeout","resizeTimeout","_execEvent","_transitionEnd","isInTransition","_transitionTime","resetPosition","_start","button","which","enabled","initiated","point","touches","pos","moved","distX","distY","directionLocked","startTime","_translate","isAnimating","absStartX","absStartY","pointX","pointY","_move","deltaX","deltaY","timestamp","newX","newY","absDistX","absDistY","endTime","hasHorizontalScroll","hasVerticalScroll","maxScrollX","maxScrollY","_end","changedTouches","momentumX","momentumY","distanceX","distanceY","easing","flick","wrapperWidth","wrapperHeight","max","_nearestSnap","currentPage","snapSpeed","min","_resize","that","ptrLock","disable","clientWidth","clientHeight","scrollerWidth","wrapperOffset","index","indexOf","splice","slice","scrollBy","transitionType","_transitionTimingFunction","_animate","scrollToElement","offsetX","offsetY","nodeType","elRect","wrapperRect","durationProp","transitionTime","updatePosition","remove","matrix","getComputedStyle","interactive","interactiveScrollbars","customStyle","indicator","createDefaultScrollbar","defaultScrollbars","resize","shrink","fade","fadeScrollbars","listenX","appendChild","listenY","concat","Indicator","_indicatorsMap","wheelTimeout","_wheel","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","detail","goToPage","querySelectorAll","m","n","cx","cy","stepX","snapStepX","stepY","snapStepY","pages","snapThresholdX","snapThresholdY","posX","posY","next","keys","pageUp","pageDown","end","home","up","right","down","charCodeAt","_key","prevTime","keyTime","acceleration","keyAcceleration","keyCode","destX","destY","easingFn","destTime","step","handleEvent","stopPropagation","direction","scrollbar","cssText","pointerEvents","wrapperStyle","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","opacity","fadeTimeout","parentNode","removeChild","lastPointX","lastPointY","_pos","display","bottom","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","ignoreBoundaries","val","hold","visible","delay","bind","module","exports","define","a","as","bs","parseInt"],"mappings":"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,CAAC,CAAR;AACH,CAbM;;AAeP;AACA;AACA,I;;;;;;;;;;;;;;;ACxBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scrollman.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fastman\"] = factory();\n\telse\n\t\troot[\"fastman\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 1\n// module chunks = 0 1 3 5 6 7 8 9","/**\n * Created by dfzq on 2017/2/10.\n */\nvar Util = require('../util/util')\nvar IScroll = require('./iscroller')\nvar inViewport = require('in-viewport')\n\n//重置zepto自带的滚动条\nvar _zeptoMethodCache = {\n    \"scrollTop\": $.fn.scrollTop,\n    \"scrollLeft\": $.fn.scrollLeft\n};\n//重置scrollLeft和scrollRight\n(function() {\n    $.extend($.fn, {\n        scrollTop: function(top, dur) {\n            if (!this.length) return;\n            var scroller = this.data('scroller');\n            if (scroller && scroller.scroller) { //js滚动\n                return scroller.scrollTop(top, dur);\n            } else {\n                return _zeptoMethodCache.scrollTop.apply(this, arguments);\n            }\n        }\n    });\n    $.extend($.fn, {\n        scrollLeft: function(left, dur) {\n            if (!this.length) return;\n            var scroller = this.data('scroller');\n            if (scroller && scroller.scroller) { //js滚动\n                return scroller.scrollLeft(left, dur);\n            } else {\n                return _zeptoMethodCache.scrollLeft.apply(this, arguments);\n            }\n        }\n    });\n})();\n\n//自定义的滚动条\nvar Scroller = function(pageContent, _options) {\n    var $pageContent = this.$pageContent = $(pageContent);\n\n    this.options = $.extend({}, this._defaults, _options);\n\n    var type = this.options.type;\n    //auto的type,系统版本的小于4.4.0的安卓设备和系统版本小于6.0.0的ios设备，启用js版的iscoll\n    var useJSScroller = (type === 'js') || (type === 'auto' && ($.device.android && Util.compareVersion('4.4.0', $.device.osVersion) > -1) || (type === 'auto' && ($.device.ios && Util.compareVersion('6.0.0', $.device.osVersion) > -1)));\n\n    if (useJSScroller) {\n\n        // TODO v-dom不允许在dom出现后再去更改dom，否则会出现不可预知的bug\n        // var $pageContentInner = $pageContent.find('.content-inner');\n        // //如果滚动内容没有被包裹，自动添加wrap\n        // if (!$pageContentInner[0]) {\n        //     // $pageContent.html('<div class=\"content-inner\">' + $pageContent.html() + '</div>');\n        //     var children = $pageContent.children();\n        //     if (children.length < 1) {\n        //         $pageContent.children().wrapAll('<div class=\"content-inner\"></div>');\n        //     } else {\n        //         $pageContent.html('<div class=\"content-inner\">' + $pageContent.html() + '</div>');\n        //     }\n        // }\n\n        if ($pageContent.hasClass('pull-down-refresh')) {\n            //因为iscroll 当页面高度不足 100% 时无法滑动，所以无法触发下拉动作，这里改动一下高度\n            //区分是否有.bar容器，如有，则content的top:0，无则content的top:-2.2rem,这里取2.2rem的最大值，近60\n            var minHeight = $(window).height() + ($pageContent.prev().hasClass(\".bar\") ? 1 : 61);\n            $pageContent.find('.content-inner').css('min-height', minHeight + 'px');\n        }\n\n        var ptr = $(pageContent).hasClass('pull-down-refresh');\n        //js滚动模式，用transform移动内容区位置，会导致fixed失效，表现类似absolute。因此禁用transform模式，强制使用native滚动条。\n        var useTransform = $pageContent.find('.fixed-tab').length === 0;\n        var options = {\n            probeType: 1,\n            mouseWheel: true,\n            //解决安卓js模式下，刷新滚动条后绑定的事件不响应，对chrome内核浏览器设置click:true\n            click: $.device.androidChrome,\n            useTransform: useTransform,\n            //js模式下允许滚动条横向滚动，但是需要注意，滚动容易宽度必须大于屏幕宽度滚动才生效\n            scrollX: true\n        };\n        if (ptr) {\n            options.ptr = true;\n            options.ptrOffset = 44;\n        }\n\n        // IScroll容器初始化\n        this.scroller = new IScroll(pageContent, options); // jshint ignore:line\n        //和native滚动统一起来\n        this._bindEventToDomWhenJs();\n        $.initPullToRefresh = $._pullToRefreshJSScroll.initPullToRefresh;\n        $.pullToRefreshDone = $._pullToRefreshJSScroll.pullToRefreshDone;\n        $.pullToRefreshTrigger = $._pullToRefreshJSScroll.pullToRefreshTrigger;\n        $.destroyToRefresh = $._pullToRefreshJSScroll.destroyToRefresh;\n        $pageContent.addClass('javascript-scroll');\n        if (!useTransform) {\n            $pageContent.find('.content-inner').css({\n                width: '100%',\n                position: 'absolute'\n            });\n        }\n\n        //如果页面本身已经进行了原生滚动，那么把这个滚动换成JS的滚动\n        var nativeScrollTop = this.$pageContent[0].scrollTop;\n        if(nativeScrollTop) {\n            this.$pageContent[0].scrollTop = 0;\n            this.scrollTop(nativeScrollTop);\n        }\n    } else {\n        $pageContent.addClass('native-scroll');\n    }\n};\nScroller.prototype = {\n    _defaults: {\n        type: 'auto',\n    },\n    _bindEventToDomWhenJs: function() {\n        //\"scrollStart\", //the scroll started.\n        //\"scroll\", //the content is scrolling. Available only in scroll-probe.js edition. See onScroll event.\n        //\"scrollEnd\", //content stopped scrolling.\n        if (this.scroller) {\n            var self = this;\n            this.scroller.on('scrollStart', function() {\n                self.$pageContent.trigger('scrollstart');\n            });\n            this.scroller.on('scroll', function() {\n                self.$pageContent.trigger('scroll');\n            });\n            this.scroller.on('scrollEnd', function() {\n                self.$pageContent.trigger('scrollend');\n            });\n        } else {\n            //TODO: 实现native的scrollStart和scrollEnd\n        }\n    },\n    scrollTop: function(top, dur) {\n        if (this.scroller) {\n            if (top !== undefined) {\n                this.scroller.scrollTo(0, -1 * top, dur);\n            } else {\n                return this.scroller.getComputedPosition().y * -1;\n            }\n        } else {\n            return this.$pageContent.scrollTop(top, dur);\n        }\n        return this;\n    },\n    scrollLeft: function(left, dur) {\n        if (this.scroller) {\n            if (left !== undefined) {\n                this.scroller.scrollTo(-1 * left, 0);\n            } else {\n                return this.scroller.getComputedPosition().x * -1;\n            }\n        } else {\n            return this.$pageContent.scrollTop(left, dur);\n        }\n        return this;\n    },\n    on: function(event, callback) {\n        if (this.scroller) {\n            this.scroller.on(event, function() {\n                callback.call(this.wrapper);\n            });\n        } else {\n            this.$pageContent.on(event, callback);\n        }\n        return this;\n    },\n    off: function(event, callback) {\n        if (this.scroller) {\n            this.scroller.off(event, callback);\n        } else {\n            this.$pageContent.off(event, callback);\n        }\n        return this;\n    },\n    refresh: function() {\n        if (this.scroller) this.scroller.refresh();\n        return this;\n    },\n    scrollHeight: function() {\n        if (this.scroller) {\n            return this.scroller.scrollerHeight;\n        } else {\n            return this.$pageContent[0].scrollHeight;\n        }\n    }\n\n};\n\n//Scroller PLUGIN DEFINITION\n// =======================\n\nfunction Plugin(option) {\n    var args = Array.apply(null, arguments);\n    args.shift();\n    var internal_return;\n\n    this.each(function() {\n\n        var $this = $(this);\n\n        var options = $.extend({}, $this.dataset(), typeof option === 'object' && option);\n\n        var data = $this.data('scroller');\n        //如果 scroller 没有被初始化，对scroller 进行初始化\n        if (!data) {\n            //获取data-api的\n            $this.data('scroller', (data = new Scroller(this, options)));\n\n        }\n        if (typeof option === 'string' && typeof data[option] === 'function') {\n            internal_return = data[option].apply(data, args);\n            if (internal_return !== undefined)\n                return false;\n        }\n\n    });\n\n    if (internal_return !== undefined)\n        return internal_return;\n    else\n        return this;\n\n}\n\nvar old = $.fn.scroller;\n\n$.fn.scroller = Plugin;\n$.fn.scroller.Constructor = Scroller;\n\n\n// Scroll NO CONFLICT\n// =================\n\n$.fn.scroller.noConflict = function() {\n    $.fn.scroller = old;\n    return this;\n};\n\n// //添加data-api,具有该attr的标签自动升级为一个scroller组件\n// $(function() {\n//     $('[data-toggle=\"scroller\"]').scroller();\n// });\n\n//统一的接口,带有 .javascript-scroll 的content 进行刷新\n$.refreshScroller = function(content) {\n    if (content) {\n        $(content).scroller('refresh');\n    } else {\n        $('.javascript-scroll').each(function() {\n            $(this).scroller('refresh');\n        });\n    }\n\n};\n//全局初始化方法，会对页面上的 [data-toggle=\"scroller\"]，.content. 进行滚动条初始化\n$.initScroller = function(option) {\n    this.options = $.extend({}, typeof option === 'object' && option);\n    $('[data-toggle=\"scroller\"],.content').scroller(option);\n};\n//获取scroller对象\n$.getScroller = function(content) {\n    //以前默认只能有一个无限滚动，因此infinitescroll都是加在content上，现在允许里面有多个，因此要判断父元素是否有content\n    content = $(content).hasClass('ui-container') ? content : $(content).parents('.ui-container');\n    if (content) {\n        return $(content).data('scroller');\n    } else {\n        return $('.content.javascript-scroll').data('scroller');\n    }\n};\n//检测滚动类型,\n//‘js’: javascript 滚动条\n//‘native’: 原生滚动条\n$.detectScrollerType = function(content) {\n    if (content) {\n        if ($(content).data('scroller') && $(content).data('scroller').scroller) {\n            return 'js';\n        } else {\n            return 'native';\n        }\n    }\n};\n\n//////////////// 滚动 ////////////////\n// 通过选择器的方式创建一个scroller\nconst initScroller = (selector, option) => {\n    if($(selector).length > 0) {\n        $(selector).scroller(option)\n    }\n}\n\n// 刷新，支持单个容器和全局容器刷新\nconst refreshScroller = (selector) => {\n    $.refreshScroller(selector)\n}\n\n// 滚动接口\nconst scrollTop = (selector, topNumber) => {\n    if($(selector).length > 0) {\n        $(selector).scrollTop(topNumber == undefined ? 0 : topNumber)\n    }\n}\n\n//////////////// 下拉刷新 ////////////////\n// 声明下拉刷新特性\nconst initPullDownRefresh = (selector) => $.initPullToRefresh($(selector))\n\n// 下拉刷新时触发的刷新回调\nconst pullDownRefresh = callback => {\n    $(document).on('refresh', '.pull-down-refresh', callback)\n}\n\n// 完成下拉刷新，重置该特性状态\nconst pullDownRefreshDone = (selector) => $.pullToRefreshDone(selector)\n\nexport {\n    initScroller,\n    refreshScroller,\n    scrollTop,\n    initPullDownRefresh,\n    pullDownRefresh,\n    pullDownRefreshDone\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scroller/scroller.js","/*! iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */\n// line 262: initMouseEvent is deprecated. 由于定义的参数已经被确认为只读属性，而该方案只针对旧款手机，因此这块的定义还是采用取消方案来代替\n// line 760: 支持下拉刷新的函数注册\n(function (window, document, Math) {\n    var rAF = window.requestAnimationFrame\t||\n        window.webkitRequestAnimationFrame\t||\n        window.mozRequestAnimationFrame\t\t||\n        window.oRequestAnimationFrame\t\t||\n        window.msRequestAnimationFrame\t\t||\n        function (callback) { window.setTimeout(callback, 1000 / 60); };\n\n    var utils = (function () {\n        var me = {};\n\n        var _elementStyle = document.createElement('div').style;\n        var _vendor = (function () {\n            var vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\n                transform,\n                i = 0,\n                l = vendors.length;\n\n            for ( ; i < l; i++ ) {\n                transform = vendors[i] + 'ransform';\n                if ( transform in _elementStyle ) return vendors[i].substr(0, vendors[i].length-1);\n            }\n\n            return false;\n        })();\n\n        function _prefixStyle (style) {\n            if ( _vendor === false ) return false;\n            if ( _vendor === '' ) return style;\n            return _vendor + style.charAt(0).toUpperCase() + style.substr(1);\n        }\n\n        me.getTime = Date.now || function getTime () { return new Date().getTime(); };\n\n        me.extend = function (target, obj) {\n            for ( var i in obj ) {\n                target[i] = obj[i];\n            }\n        };\n\n        me.addEvent = function (el, type, fn, capture) {\n            el.addEventListener(type, fn, !!capture);\n        };\n\n        me.removeEvent = function (el, type, fn, capture) {\n            el.removeEventListener(type, fn, !!capture);\n        };\n\n        me.prefixPointerEvent = function (pointerEvent) {\n            return window.MSPointerEvent ?\n                'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8):\n                pointerEvent;\n        };\n\n        me.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {\n            var distance = current - start,\n                speed = Math.abs(distance) / time,\n                destination,\n                duration;\n\n            deceleration = deceleration === undefined ? 0.0006 : deceleration;\n\n            destination = current + ( speed * speed ) / ( 2 * deceleration ) * ( distance < 0 ? -1 : 1 );\n            duration = speed / deceleration;\n\n            if ( destination < lowerMargin ) {\n                destination = wrapperSize ? lowerMargin - ( wrapperSize / 2.5 * ( speed / 8 ) ) : lowerMargin;\n                distance = Math.abs(destination - current);\n                duration = distance / speed;\n            } else if ( destination > 0 ) {\n                destination = wrapperSize ? wrapperSize / 2.5 * ( speed / 8 ) : 0;\n                distance = Math.abs(current) + destination;\n                duration = distance / speed;\n            }\n\n            return {\n                destination: Math.round(destination),\n                duration: duration\n            };\n        };\n\n        var _transform = _prefixStyle('transform');\n\n        me.extend(me, {\n            hasTransform: _transform !== false,\n            hasPerspective: _prefixStyle('perspective') in _elementStyle,\n            hasTouch: 'ontouchstart' in window,\n            hasPointer: !!(window.PointerEvent || window.MSPointerEvent), // IE10 is prefixed\n            hasTransition: _prefixStyle('transition') in _elementStyle\n        });\n\n        /*\n         This should find all Android browsers lower than build 535.19 (both stock browser and webview)\n         - galaxy S2 is ok\n         - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\n         - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n         - galaxy S3 is badAndroid (stock brower, webview)\n         `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n         - galaxy S4 is badAndroid (stock brower, webview)\n         `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n         - galaxy S5 is OK\n         `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n         - galaxy S6 is OK\n         `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n         */\n        me.isBadAndroid = (function() {\n            var appVersion = window.navigator.appVersion;\n            // Android browser is not a chrome browser.\n            if (/Android/.test(appVersion) && !(/Chrome\\/\\d/.test(appVersion))) {\n                var safariVersion = appVersion.match(/Safari\\/(\\d+.\\d)/);\n                if(safariVersion && typeof safariVersion === \"object\" && safariVersion.length >= 2) {\n                    return parseFloat(safariVersion[1]) < 535.19;\n                } else {\n                    return true;\n                }\n            } else {\n                return false;\n            }\n        })();\n\n        me.extend(me.style = {}, {\n            transform: _transform,\n            transitionTimingFunction: _prefixStyle('transitionTimingFunction'),\n            transitionDuration: _prefixStyle('transitionDuration'),\n            transitionDelay: _prefixStyle('transitionDelay'),\n            transformOrigin: _prefixStyle('transformOrigin'),\n            touchAction: _prefixStyle('touchAction')\n        });\n\n        me.hasClass = function (e, c) {\n            var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\n            return re.test(e.className);\n        };\n\n        me.addClass = function (e, c) {\n            if ( me.hasClass(e, c) ) {\n                return;\n            }\n\n            var newclass = e.className.split(' ');\n            newclass.push(c);\n            e.className = newclass.join(' ');\n        };\n\n        me.removeClass = function (e, c) {\n            if ( !me.hasClass(e, c) ) {\n                return;\n            }\n\n            var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\n            e.className = e.className.replace(re, ' ');\n        };\n\n        me.offset = function (el) {\n            var left = -el.offsetLeft,\n                top = -el.offsetTop;\n\n            // jshint -W084\n            while (el = el.offsetParent) {\n                left -= el.offsetLeft;\n                top -= el.offsetTop;\n            }\n            // jshint +W084\n\n            return {\n                left: left,\n                top: top\n            };\n        };\n\n        me.preventDefaultException = function (el, exceptions) {\n            for ( var i in exceptions ) {\n                if ( exceptions[i].test(el[i]) ) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n\n        me.extend(me.eventType = {}, {\n            touchstart: 1,\n            touchmove: 1,\n            touchend: 1,\n\n            mousedown: 2,\n            mousemove: 2,\n            mouseup: 2,\n\n            pointerdown: 3,\n            pointermove: 3,\n            pointerup: 3,\n\n            MSPointerDown: 3,\n            MSPointerMove: 3,\n            MSPointerUp: 3\n        });\n\n        me.extend(me.ease = {}, {\n            quadratic: {\n                style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n                fn: function (k) {\n                    return k * ( 2 - k );\n                }\n            },\n            circular: {\n                style: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\t// Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\n                fn: function (k) {\n                    return Math.sqrt( 1 - ( --k * k ) );\n                }\n            },\n            back: {\n                style: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n                fn: function (k) {\n                    var b = 4;\n                    return ( k = k - 1 ) * k * ( ( b + 1 ) * k + b ) + 1;\n                }\n            },\n            bounce: {\n                style: '',\n                fn: function (k) {\n                    if ( ( k /= 1 ) < ( 1 / 2.75 ) ) {\n                        return 7.5625 * k * k;\n                    } else if ( k < ( 2 / 2.75 ) ) {\n                        return 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;\n                    } else if ( k < ( 2.5 / 2.75 ) ) {\n                        return 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;\n                    } else {\n                        return 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;\n                    }\n                }\n            },\n            elastic: {\n                style: '',\n                fn: function (k) {\n                    var f = 0.22,\n                        e = 0.4;\n\n                    if ( k === 0 ) { return 0; }\n                    if ( k == 1 ) { return 1; }\n\n                    return ( e * Math.pow( 2, - 10 * k ) * Math.sin( ( k - f / 4 ) * ( 2 * Math.PI ) / f ) + 1 );\n                }\n            }\n        });\n\n        me.tap = function (e, eventName) {\n            var ev = document.createEvent('Event');\n            ev.initEvent(eventName, true, true);\n            ev.pageX = e.pageX;\n            ev.pageY = e.pageY;\n            e.target.dispatchEvent(ev);\n        };\n\n        me.click = function (e) {\n            var target = e.target,\n                ev;\n\n            if ( !(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName) ) {\n                // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent\n                // initMouseEvent is deprecated.\n                // ev = document.createEvent(window.MouseEvent ? 'MouseEvents' : 'Event');\n                // ev.initEvent('click', true, true);\n                // ev.view = e.view || window;\n                // ev.detail = 1;\n                // ev.screenX = target.screenX || 0;\n                // ev.screenY = target.screenY || 0;\n                // ev.clientX = target.clientX || 0;\n                // ev.clientY = target.clientY || 0;\n                // ev.ctrlKey = !!e.ctrlKey;\n                // ev.altKey = !!e.altKey;\n                // ev.shiftKey = !!e.shiftKey;\n                // ev.metaKey = !!e.metaKey;\n                // ev.button = 0;\n                // ev.relatedTarget = null;\n                // ev._constructed = true;\n                // target.dispatchEvent(ev);\n\n                ev = document.createEvent('MouseEvents');\n                ev.initMouseEvent('click', true, true, e.view, 1,\n                    target.screenX, target.screenY, target.clientX, target.clientY,\n                    e.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\n                    0, null);\n\n                ev._constructed = true;\n                target.dispatchEvent(ev);\n            }\n        };\n\n        me.getTouchAction = function(eventPassthrough, addPinch) {\n            var touchAction = 'none';\n            if ( eventPassthrough === 'vertical' ) {\n                touchAction = 'pan-y';\n            } else if (eventPassthrough === 'horizontal' ) {\n                touchAction = 'pan-x';\n            }\n            if (addPinch && touchAction != 'none') {\n                // add pinch-zoom support if the browser supports it, but if not (eg. Chrome <55) do nothing\n                touchAction += ' pinch-zoom';\n            }\n            return touchAction;\n        };\n\n        me.getRect = function(el) {\n            if (el instanceof SVGElement) {\n                var rect = el.getBoundingClientRect();\n                return {\n                    top : rect.top,\n                    left : rect.left,\n                    width : rect.width,\n                    height : rect.height\n                };\n            } else {\n                return {\n                    top : el.offsetTop,\n                    left : el.offsetLeft,\n                    width : el.offsetWidth,\n                    height : el.offsetHeight\n                };\n            }\n        };\n\n        return me;\n    })();\n    function IScroll (el, options) {\n        this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\n        this.scroller = this.wrapper.children[0];\n        this.scrollerStyle = this.scroller.style;\t\t// cache style for better performance\n\n        this.options = {\n\n            resizeScrollbars: true,\n\n            mouseWheelSpeed: 20,\n\n            snapThreshold: 0.334,\n\n// INSERT POINT: OPTIONS\n            disablePointer : !utils.hasPointer,\n            disableTouch : utils.hasPointer || !utils.hasTouch,\n            disableMouse : utils.hasPointer || utils.hasTouch,\n            startX: 0,\n            startY: 0,\n            scrollY: true,\n            directionLockThreshold: 5,\n            momentum: true,\n\n            bounce: true,\n            bounceTime: 600,\n            bounceEasing: '',\n\n            preventDefault: true,\n            preventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/ },\n\n            HWCompositing: true,\n            useTransition: true,\n            useTransform: true,\n            bindToWrapper: typeof window.onmousedown === \"undefined\"\n        };\n\n        for ( var i in options ) {\n            this.options[i] = options[i];\n        }\n\n        // Normalize options\n        this.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\n\n        this.options.useTransition = utils.hasTransition && this.options.useTransition;\n        this.options.useTransform = utils.hasTransform && this.options.useTransform;\n\n        this.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\n        this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n        // If you want eventPassthrough I have to lock one of the axes\n        this.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\n        this.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;\n\n        // With eventPassthrough we also need lockDirection mechanism\n        this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n        this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n        this.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\n\n        this.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\n\n        if ( this.options.tap === true ) {\n            this.options.tap = 'tap';\n        }\n\n        // https://github.com/cubiq/iscroll/issues/1029\n        if (!this.options.useTransition && !this.options.useTransform) {\n            if(!(/relative|absolute/i).test(this.scrollerStyle.position)) {\n                this.scrollerStyle.position = \"relative\";\n            }\n        }\n\n        if ( this.options.shrinkScrollbars == 'scale' ) {\n            this.options.useTransition = false;\n        }\n\n        this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;\n\n        if ( this.options.probeType == 3 ) {\n            this.options.useTransition = false;\t}\n\n// INSERT POINT: NORMALIZATION\n\n        // Some defaults\n        this.x = 0;\n        this.y = 0;\n        this.directionX = 0;\n        this.directionY = 0;\n        this._events = {};\n\n// INSERT POINT: DEFAULTS\n\n        this._init();\n        this.refresh();\n\n        this.scrollTo(this.options.startX, this.options.startY);\n        this.enable();\n    }\n\n    IScroll.prototype = {\n        version: '5.2.0-snapshot',\n\n        _init: function () {\n            this._initEvents();\n\n            if ( this.options.scrollbars || this.options.indicators ) {\n                this._initIndicators();\n            }\n\n            if ( this.options.mouseWheel ) {\n                this._initWheel();\n            }\n\n            if ( this.options.snap ) {\n                this._initSnap();\n            }\n\n            if ( this.options.keyBindings ) {\n                this._initKeys();\n            }\n\n// INSERT POINT: _init\n\n        },\n\n        destroy: function () {\n            this._initEvents(true);\n            clearTimeout(this.resizeTimeout);\n            this.resizeTimeout = null;\n            this._execEvent('destroy');\n        },\n\n        _transitionEnd: function (e) {\n            if ( e.target != this.scroller || !this.isInTransition ) {\n                return;\n            }\n\n            this._transitionTime();\n            if ( !this.resetPosition(this.options.bounceTime) ) {\n                this.isInTransition = false;\n                this._execEvent('scrollEnd');\n            }\n        },\n\n        _start: function (e) {\n            // React to left mouse button only\n            if ( utils.eventType[e.type] != 1 ) {\n                // for button property\n                // http://unixpapa.com/js/mouse.html\n                var button;\n                if (!e.which) {\n                    /* IE case */\n                    button = (e.button < 2) ? 0 :\n                        ((e.button == 4) ? 1 : 2);\n                } else {\n                    /* All others */\n                    button = e.button;\n                }\n                if ( button !== 0 ) {\n                    return;\n                }\n            }\n\n            if ( !this.enabled || (this.initiated && utils.eventType[e.type] !== this.initiated) ) {\n                return;\n            }\n\n            if ( this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n                e.preventDefault();\n            }\n\n            var point = e.touches ? e.touches[0] : e,\n                pos;\n\n            this.initiated\t= utils.eventType[e.type];\n            this.moved\t\t= false;\n            this.distX\t\t= 0;\n            this.distY\t\t= 0;\n            this.directionX = 0;\n            this.directionY = 0;\n            this.directionLocked = 0;\n\n            this.startTime = utils.getTime();\n\n            if ( this.options.useTransition && this.isInTransition ) {\n                this._transitionTime();\n                this.isInTransition = false;\n                pos = this.getComputedPosition();\n                this._translate(Math.round(pos.x), Math.round(pos.y));\n                this._execEvent('scrollEnd');\n            } else if ( !this.options.useTransition && this.isAnimating ) {\n                this.isAnimating = false;\n                this._execEvent('scrollEnd');\n            }\n\n            this.startX    = this.x;\n            this.startY    = this.y;\n            this.absStartX = this.x;\n            this.absStartY = this.y;\n            this.pointX    = point.pageX;\n            this.pointY    = point.pageY;\n\n            this._execEvent('beforeScrollStart');\n        },\n\n        _move: function (e) {\n            if ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n                return;\n            }\n\n            if ( this.options.preventDefault ) {\t// increases performance on Android? TODO: check!\n                e.preventDefault();\n            }\n\n            var point\t\t= e.touches ? e.touches[0] : e,\n                deltaX\t\t= point.pageX - this.pointX,\n                deltaY\t\t= point.pageY - this.pointY,\n                timestamp\t= utils.getTime(),\n                newX, newY,\n                absDistX, absDistY;\n\n            this.pointX\t\t= point.pageX;\n            this.pointY\t\t= point.pageY;\n\n            this.distX\t\t+= deltaX;\n            this.distY\t\t+= deltaY;\n            absDistX\t\t= Math.abs(this.distX);\n            absDistY\t\t= Math.abs(this.distY);\n\n            // We need to move at least 10 pixels for the scrolling to initiate\n            if ( timestamp - this.endTime > 300 && (absDistX < 10 && absDistY < 10) ) {\n                return;\n            }\n\n            // If you are scrolling in one direction lock the other\n            if ( !this.directionLocked && !this.options.freeScroll ) {\n                if ( absDistX > absDistY + this.options.directionLockThreshold ) {\n                    this.directionLocked = 'h';\t\t// lock horizontally\n                } else if ( absDistY >= absDistX + this.options.directionLockThreshold ) {\n                    this.directionLocked = 'v';\t\t// lock vertically\n                } else {\n                    this.directionLocked = 'n';\t\t// no lock\n                }\n            }\n\n            if ( this.directionLocked == 'h' ) {\n                if ( this.options.eventPassthrough == 'vertical' ) {\n                    e.preventDefault();\n                } else if ( this.options.eventPassthrough == 'horizontal' ) {\n                    this.initiated = false;\n                    return;\n                }\n\n                deltaY = 0;\n            } else if ( this.directionLocked == 'v' ) {\n                if ( this.options.eventPassthrough == 'horizontal' ) {\n                    e.preventDefault();\n                } else if ( this.options.eventPassthrough == 'vertical' ) {\n                    this.initiated = false;\n                    return;\n                }\n\n                deltaX = 0;\n            }\n\n            deltaX = this.hasHorizontalScroll ? deltaX : 0;\n            deltaY = this.hasVerticalScroll ? deltaY : 0;\n\n            newX = this.x + deltaX;\n            newY = this.y + deltaY;\n\n            // Slow down if outside of the boundaries\n            if ( newX > 0 || newX < this.maxScrollX ) {\n                newX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n            }\n            if ( newY > 0 || newY < this.maxScrollY ) {\n                newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n            }\n\n            this.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n            this.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n            if ( !this.moved ) {\n                this._execEvent('scrollStart');\n            }\n\n            this.moved = true;\n\n            this._translate(newX, newY);\n\n            /* REPLACE START: _move */\n            if ( timestamp - this.startTime > 300 ) {\n                this.startTime = timestamp;\n                this.startX = this.x;\n                this.startY = this.y;\n\n                if ( this.options.probeType == 1 ) {\n                    this._execEvent('scroll');\n                }\n            }\n\n            if ( this.options.probeType > 1 ) {\n                this._execEvent('scroll');\n            }\n            /* REPLACE END: _move */\n\n        },\n\n        _end: function (e) {\n            if ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n                return;\n            }\n\n            if ( this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n                e.preventDefault();\n            }\n\n            var point = e.changedTouches ? e.changedTouches[0] : e,\n                momentumX,\n                momentumY,\n                duration = utils.getTime() - this.startTime,\n                newX = Math.round(this.x),\n                newY = Math.round(this.y),\n                distanceX = Math.abs(newX - this.startX),\n                distanceY = Math.abs(newY - this.startY),\n                time = 0,\n                easing = '';\n\n            this.isInTransition = 0;\n            this.initiated = 0;\n            this.endTime = utils.getTime();\n\n            // reset if we are outside of the boundaries\n            if ( this.resetPosition(this.options.bounceTime) ) {\n                return;\n            }\n\n            this.scrollTo(newX, newY);\t// ensures that the last position is rounded\n\n            // we scrolled less than 10 pixels\n            if ( !this.moved ) {\n                if ( this.options.tap ) {\n                    utils.tap(e, this.options.tap);\n                }\n\n                if ( this.options.click ) {\n                    utils.click(e);\n                }\n\n                this._execEvent('scrollCancel');\n                return;\n            }\n\n            if ( this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100 ) {\n                this._execEvent('flick');\n                return;\n            }\n\n            // start momentum animation if needed\n            if ( this.options.momentum && duration < 300 ) {\n                momentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : { destination: newX, duration: 0 };\n                momentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : { destination: newY, duration: 0 };\n                newX = momentumX.destination;\n                newY = momentumY.destination;\n                time = Math.max(momentumX.duration, momentumY.duration);\n                this.isInTransition = 1;\n            }\n\n\n            if ( this.options.snap ) {\n                var snap = this._nearestSnap(newX, newY);\n                this.currentPage = snap;\n                time = this.options.snapSpeed || Math.max(\n                        Math.max(\n                            Math.min(Math.abs(newX - snap.x), 1000),\n                            Math.min(Math.abs(newY - snap.y), 1000)\n                        ), 300);\n                newX = snap.x;\n                newY = snap.y;\n\n                this.directionX = 0;\n                this.directionY = 0;\n                easing = this.options.bounceEasing;\n            }\n\n// INSERT POINT: _end\n\n            if ( newX != this.x || newY != this.y ) {\n                // change easing function when scroller goes out of the boundaries\n                if ( newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY ) {\n                    easing = utils.ease.quadratic;\n                }\n\n                this.scrollTo(newX, newY, time, easing);\n                return;\n            }\n\n            this._execEvent('scrollEnd');\n        },\n\n        _resize: function () {\n            var that = this;\n\n            clearTimeout(this.resizeTimeout);\n\n            this.resizeTimeout = setTimeout(function () {\n                that.refresh();\n            }, this.options.resizePolling);\n        },\n\n        resetPosition: function (time) {\n            var x = this.x,\n                y = this.y;\n\n            time = time || 0;\n\n            if ( !this.hasHorizontalScroll || this.x > 0 ) {\n                x = 0;\n            } else if ( this.x < this.maxScrollX ) {\n                x = this.maxScrollX;\n            }\n\n            if ( !this.hasVerticalScroll || this.y > 0 ) {\n                y = 0;\n            } else if ( this.y < this.maxScrollY ) {\n                y = this.maxScrollY;\n            }\n\n            if ( x == this.x && y == this.y ) {\n                return false;\n            }\n\n            // 支持下拉刷新的函数注册\n            if (this.options.ptr && this.y > 44 && this.startY * -1 < $(window).height() && !this.ptrLock) {// jshint ignore:line\n                // not trigger ptr when user want to scroll to top\n                y = this.options.ptrOffset || 44;\n                this._execEvent('ptr');\n                // 防止返回的过程中再次触发了 ptr ，导致被定位到 44px（因为可能done事件触发很快，在返回到44px以前就触发done\n                this.ptrLock = true;\n                var self = this;\n                setTimeout(function() {\n                    self.ptrLock = false;\n                }, 500);\n            }\n\n            this.scrollTo(x, y, time, this.options.bounceEasing);\n\n            return true;\n        },\n\n        disable: function () {\n            this.enabled = false;\n        },\n\n        enable: function () {\n            this.enabled = true;\n        },\n\n        refresh: function () {\n            utils.getRect(this.wrapper);\t\t// Force reflow\n\n            this.wrapperWidth\t= this.wrapper.clientWidth;\n            this.wrapperHeight\t= this.wrapper.clientHeight;\n\n            var rect = utils.getRect(this.scroller);\n            /* REPLACE START: refresh */\n\n            this.scrollerWidth\t= rect.width;\n            this.scrollerHeight\t= rect.height;\n\n            this.maxScrollX\t\t= this.wrapperWidth - this.scrollerWidth;\n            this.maxScrollY\t\t= this.wrapperHeight - this.scrollerHeight;\n\n            /* REPLACE END: refresh */\n\n            this.hasHorizontalScroll\t= this.options.scrollX && this.maxScrollX < 0;\n            this.hasVerticalScroll\t\t= this.options.scrollY && this.maxScrollY < 0;\n\n            if ( !this.hasHorizontalScroll ) {\n                this.maxScrollX = 0;\n                this.scrollerWidth = this.wrapperWidth;\n            }\n\n            if ( !this.hasVerticalScroll ) {\n                this.maxScrollY = 0;\n                this.scrollerHeight = this.wrapperHeight;\n            }\n\n            this.endTime = 0;\n            this.directionX = 0;\n            this.directionY = 0;\n\n            if(utils.hasPointer && !this.options.disablePointer) {\n                // The wrapper should have `touchAction` property for using pointerEvent.\n                this.wrapper.style[utils.style.touchAction] = utils.getTouchAction(this.options.eventPassthrough, true);\n\n                // case. not support 'pinch-zoom'\n                // https://github.com/cubiq/iscroll/issues/1118#issuecomment-270057583\n                if (!this.wrapper.style[utils.style.touchAction]) {\n                    this.wrapper.style[utils.style.touchAction] = utils.getTouchAction(this.options.eventPassthrough, false);\n                }\n            }\n            this.wrapperOffset = utils.offset(this.wrapper);\n\n            this._execEvent('refresh');\n\n            this.resetPosition();\n\n// INSERT POINT: _refresh\n\n        },\n\n        on: function (type, fn) {\n            if ( !this._events[type] ) {\n                this._events[type] = [];\n            }\n\n            this._events[type].push(fn);\n        },\n\n        off: function (type, fn) {\n            if ( !this._events[type] ) {\n                return;\n            }\n\n            var index = this._events[type].indexOf(fn);\n\n            if ( index > -1 ) {\n                this._events[type].splice(index, 1);\n            }\n        },\n\n        _execEvent: function (type) {\n            if ( !this._events[type] ) {\n                return;\n            }\n\n            var i = 0,\n                l = this._events[type].length;\n\n            if ( !l ) {\n                return;\n            }\n\n            for ( ; i < l; i++ ) {\n                this._events[type][i].apply(this, [].slice.call(arguments, 1));\n            }\n        },\n\n        scrollBy: function (x, y, time, easing) {\n            x = this.x + x;\n            y = this.y + y;\n            time = time || 0;\n\n            this.scrollTo(x, y, time, easing);\n        },\n\n        scrollTo: function (x, y, time, easing) {\n            easing = easing || utils.ease.circular;\n\n            this.isInTransition = this.options.useTransition && time > 0;\n            var transitionType = this.options.useTransition && easing.style;\n            if ( !time || transitionType ) {\n                if(transitionType) {\n                    this._transitionTimingFunction(easing.style);\n                    this._transitionTime(time);\n                }\n                this._translate(x, y);\n            } else {\n                this._animate(x, y, time, easing.fn);\n            }\n        },\n\n        scrollToElement: function (el, time, offsetX, offsetY, easing) {\n            el = el.nodeType ? el : this.scroller.querySelector(el);\n\n            if ( !el ) {\n                return;\n            }\n\n            var pos = utils.offset(el);\n\n            pos.left -= this.wrapperOffset.left;\n            pos.top  -= this.wrapperOffset.top;\n\n            // if offsetX/Y are true we center the element to the screen\n            var elRect = utils.getRect(el);\n            var wrapperRect = utils.getRect(this.wrapper);\n            if ( offsetX === true ) {\n                offsetX = Math.round(elRect.width / 2 - wrapperRect.width / 2);\n            }\n            if ( offsetY === true ) {\n                offsetY = Math.round(elRect.height / 2 - wrapperRect.height / 2);\n            }\n\n            pos.left -= offsetX || 0;\n            pos.top  -= offsetY || 0;\n\n            pos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n            pos.top  = pos.top  > 0 ? 0 : pos.top  < this.maxScrollY ? this.maxScrollY : pos.top;\n\n            time = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x-pos.left), Math.abs(this.y-pos.top)) : time;\n\n            this.scrollTo(pos.left, pos.top, time, easing);\n        },\n\n        _transitionTime: function (time) {\n            if (!this.options.useTransition) {\n                return;\n            }\n            time = time || 0;\n            var durationProp = utils.style.transitionDuration;\n            if(!durationProp) {\n                return;\n            }\n\n            this.scrollerStyle[durationProp] = time + 'ms';\n\n            if ( !time && utils.isBadAndroid ) {\n                this.scrollerStyle[durationProp] = '0.0001ms';\n                // remove 0.0001ms\n                var self = this;\n                rAF(function() {\n                    if(self.scrollerStyle[durationProp] === '0.0001ms') {\n                        self.scrollerStyle[durationProp] = '0s';\n                    }\n                });\n            }\n\n\n            if ( this.indicators ) {\n                for ( var i = this.indicators.length; i--; ) {\n                    this.indicators[i].transitionTime(time);\n                }\n            }\n\n\n// INSERT POINT: _transitionTime\n\n        },\n\n        _transitionTimingFunction: function (easing) {\n            this.scrollerStyle[utils.style.transitionTimingFunction] = easing;\n\n\n            if ( this.indicators ) {\n                for ( var i = this.indicators.length; i--; ) {\n                    this.indicators[i].transitionTimingFunction(easing);\n                }\n            }\n\n\n// INSERT POINT: _transitionTimingFunction\n\n        },\n\n        _translate: function (x, y) {\n            if ( this.options.useTransform ) {\n\n                /* REPLACE START: _translate */\n\n                this.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\n\n                /* REPLACE END: _translate */\n\n            } else {\n                x = Math.round(x);\n                y = Math.round(y);\n                this.scrollerStyle.left = x + 'px';\n                this.scrollerStyle.top = y + 'px';\n            }\n\n            this.x = x;\n            this.y = y;\n\n\n            if ( this.indicators ) {\n                for ( var i = this.indicators.length; i--; ) {\n                    this.indicators[i].updatePosition();\n                }\n            }\n\n\n// INSERT POINT: _translate\n\n        },\n\n        _initEvents: function (remove) {\n            var eventType = remove ? utils.removeEvent : utils.addEvent,\n                target = this.options.bindToWrapper ? this.wrapper : window;\n\n            eventType(window, 'orientationchange', this);\n            eventType(window, 'resize', this);\n\n            if ( this.options.click ) {\n                eventType(this.wrapper, 'click', this, true);\n            }\n\n            if ( !this.options.disableMouse ) {\n                eventType(this.wrapper, 'mousedown', this);\n                eventType(target, 'mousemove', this);\n                eventType(target, 'mousecancel', this);\n                eventType(target, 'mouseup', this);\n            }\n\n            if ( utils.hasPointer && !this.options.disablePointer ) {\n                eventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\n                eventType(target, utils.prefixPointerEvent('pointermove'), this);\n                eventType(target, utils.prefixPointerEvent('pointercancel'), this);\n                eventType(target, utils.prefixPointerEvent('pointerup'), this);\n            }\n\n            if ( utils.hasTouch && !this.options.disableTouch ) {\n                eventType(this.wrapper, 'touchstart', this);\n                eventType(target, 'touchmove', this);\n                eventType(target, 'touchcancel', this);\n                eventType(target, 'touchend', this);\n            }\n\n            eventType(this.scroller, 'transitionend', this);\n            eventType(this.scroller, 'webkitTransitionEnd', this);\n            eventType(this.scroller, 'oTransitionEnd', this);\n            eventType(this.scroller, 'MSTransitionEnd', this);\n        },\n\n        getComputedPosition: function () {\n            var matrix = window.getComputedStyle(this.scroller, null),\n                x, y;\n\n            if ( this.options.useTransform ) {\n                matrix = matrix[utils.style.transform].split(')')[0].split(', ');\n                x = +(matrix[12] || matrix[4]);\n                y = +(matrix[13] || matrix[5]);\n            } else {\n                x = +matrix.left.replace(/[^-\\d.]/g, '');\n                y = +matrix.top.replace(/[^-\\d.]/g, '');\n            }\n\n            return { x: x, y: y };\n        },\n        _initIndicators: function () {\n            var interactive = this.options.interactiveScrollbars,\n                customStyle = typeof this.options.scrollbars != 'string',\n                indicators = [],\n                indicator;\n\n            var that = this;\n\n            this.indicators = [];\n\n            if ( this.options.scrollbars ) {\n                // Vertical scrollbar\n                if ( this.options.scrollY ) {\n                    indicator = {\n                        el: createDefaultScrollbar('v', interactive, this.options.scrollbars),\n                        interactive: interactive,\n                        defaultScrollbars: true,\n                        customStyle: customStyle,\n                        resize: this.options.resizeScrollbars,\n                        shrink: this.options.shrinkScrollbars,\n                        fade: this.options.fadeScrollbars,\n                        listenX: false\n                    };\n\n                    this.wrapper.appendChild(indicator.el);\n                    indicators.push(indicator);\n                }\n\n                // Horizontal scrollbar\n                if ( this.options.scrollX ) {\n                    indicator = {\n                        el: createDefaultScrollbar('h', interactive, this.options.scrollbars),\n                        interactive: interactive,\n                        defaultScrollbars: true,\n                        customStyle: customStyle,\n                        resize: this.options.resizeScrollbars,\n                        shrink: this.options.shrinkScrollbars,\n                        fade: this.options.fadeScrollbars,\n                        listenY: false\n                    };\n\n                    this.wrapper.appendChild(indicator.el);\n                    indicators.push(indicator);\n                }\n            }\n\n            if ( this.options.indicators ) {\n                // TODO: check concat compatibility\n                indicators = indicators.concat(this.options.indicators);\n            }\n\n            for ( var i = indicators.length; i--; ) {\n                this.indicators.push( new Indicator(this, indicators[i]) );\n            }\n\n            // TODO: check if we can use array.map (wide compatibility and performance issues)\n            function _indicatorsMap (fn) {\n                if (that.indicators) {\n                    for ( var i = that.indicators.length; i--; ) {\n                        fn.call(that.indicators[i]);\n                    }\n                }\n            }\n\n            if ( this.options.fadeScrollbars ) {\n                this.on('scrollEnd', function () {\n                    _indicatorsMap(function () {\n                        this.fade();\n                    });\n                });\n\n                this.on('scrollCancel', function () {\n                    _indicatorsMap(function () {\n                        this.fade();\n                    });\n                });\n\n                this.on('scrollStart', function () {\n                    _indicatorsMap(function () {\n                        this.fade(1);\n                    });\n                });\n\n                this.on('beforeScrollStart', function () {\n                    _indicatorsMap(function () {\n                        this.fade(1, true);\n                    });\n                });\n            }\n\n\n            this.on('refresh', function () {\n                _indicatorsMap(function () {\n                    this.refresh();\n                });\n            });\n\n            this.on('destroy', function () {\n                _indicatorsMap(function () {\n                    this.destroy();\n                });\n\n                delete this.indicators;\n            });\n        },\n\n        _initWheel: function () {\n            utils.addEvent(this.wrapper, 'wheel', this);\n            utils.addEvent(this.wrapper, 'mousewheel', this);\n            utils.addEvent(this.wrapper, 'DOMMouseScroll', this);\n\n            this.on('destroy', function () {\n                clearTimeout(this.wheelTimeout);\n                this.wheelTimeout = null;\n                utils.removeEvent(this.wrapper, 'wheel', this);\n                utils.removeEvent(this.wrapper, 'mousewheel', this);\n                utils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\n            });\n        },\n\n        _wheel: function (e) {\n            if ( !this.enabled ) {\n                return;\n            }\n\n            e.preventDefault();\n\n            var wheelDeltaX, wheelDeltaY,\n                newX, newY,\n                that = this;\n\n            if ( this.wheelTimeout === undefined ) {\n                that._execEvent('scrollStart');\n            }\n\n            // Execute the scrollEnd event after 400ms the wheel stopped scrolling\n            clearTimeout(this.wheelTimeout);\n            this.wheelTimeout = setTimeout(function () {\n                if(!that.options.snap) {\n                    that._execEvent('scrollEnd');\n                }\n                that.wheelTimeout = undefined;\n            }, 400);\n\n            if ( 'deltaX' in e ) {\n                if (e.deltaMode === 1) {\n                    wheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\n                    wheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\n                } else {\n                    wheelDeltaX = -e.deltaX;\n                    wheelDeltaY = -e.deltaY;\n                }\n            } else if ( 'wheelDeltaX' in e ) {\n                wheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\n                wheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\n            } else if ( 'wheelDelta' in e ) {\n                wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\n            } else if ( 'detail' in e ) {\n                wheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\n            } else {\n                return;\n            }\n\n            wheelDeltaX *= this.options.invertWheelDirection;\n            wheelDeltaY *= this.options.invertWheelDirection;\n\n            if ( !this.hasVerticalScroll ) {\n                wheelDeltaX = wheelDeltaY;\n                wheelDeltaY = 0;\n            }\n\n            if ( this.options.snap ) {\n                newX = this.currentPage.pageX;\n                newY = this.currentPage.pageY;\n\n                if ( wheelDeltaX > 0 ) {\n                    newX--;\n                } else if ( wheelDeltaX < 0 ) {\n                    newX++;\n                }\n\n                if ( wheelDeltaY > 0 ) {\n                    newY--;\n                } else if ( wheelDeltaY < 0 ) {\n                    newY++;\n                }\n\n                this.goToPage(newX, newY);\n\n                return;\n            }\n\n            newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n            newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n            this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n            this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n            if ( newX > 0 ) {\n                newX = 0;\n            } else if ( newX < this.maxScrollX ) {\n                newX = this.maxScrollX;\n            }\n\n            if ( newY > 0 ) {\n                newY = 0;\n            } else if ( newY < this.maxScrollY ) {\n                newY = this.maxScrollY;\n            }\n\n            this.scrollTo(newX, newY, 0);\n\n            if ( this.options.probeType > 1 ) {\n                this._execEvent('scroll');\n            }\n\n// INSERT POINT: _wheel\n        },\n\n        _initSnap: function () {\n            this.currentPage = {};\n\n            if ( typeof this.options.snap == 'string' ) {\n                this.options.snap = this.scroller.querySelectorAll(this.options.snap);\n            }\n\n            this.on('refresh', function () {\n                var i = 0, l,\n                    m = 0, n,\n                    cx, cy,\n                    x = 0, y,\n                    stepX = this.options.snapStepX || this.wrapperWidth,\n                    stepY = this.options.snapStepY || this.wrapperHeight,\n                    el,\n                    rect;\n\n                this.pages = [];\n\n                if ( !this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight ) {\n                    return;\n                }\n\n                if ( this.options.snap === true ) {\n                    cx = Math.round( stepX / 2 );\n                    cy = Math.round( stepY / 2 );\n\n                    while ( x > -this.scrollerWidth ) {\n                        this.pages[i] = [];\n                        l = 0;\n                        y = 0;\n\n                        while ( y > -this.scrollerHeight ) {\n                            this.pages[i][l] = {\n                                x: Math.max(x, this.maxScrollX),\n                                y: Math.max(y, this.maxScrollY),\n                                width: stepX,\n                                height: stepY,\n                                cx: x - cx,\n                                cy: y - cy\n                            };\n\n                            y -= stepY;\n                            l++;\n                        }\n\n                        x -= stepX;\n                        i++;\n                    }\n                } else {\n                    el = this.options.snap;\n                    l = el.length;\n                    n = -1;\n\n                    for ( ; i < l; i++ ) {\n                        rect = utils.getRect(el[i]);\n                        if ( i === 0 || rect.left <= utils.getRect(el[i-1]).left ) {\n                            m = 0;\n                            n++;\n                        }\n\n                        if ( !this.pages[m] ) {\n                            this.pages[m] = [];\n                        }\n\n                        x = Math.max(-rect.left, this.maxScrollX);\n                        y = Math.max(-rect.top, this.maxScrollY);\n                        cx = x - Math.round(rect.width / 2);\n                        cy = y - Math.round(rect.height / 2);\n\n                        this.pages[m][n] = {\n                            x: x,\n                            y: y,\n                            width: rect.width,\n                            height: rect.height,\n                            cx: cx,\n                            cy: cy\n                        };\n\n                        if ( x > this.maxScrollX ) {\n                            m++;\n                        }\n                    }\n                }\n\n                this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);\n\n                // Update snap threshold if needed\n                if ( this.options.snapThreshold % 1 === 0 ) {\n                    this.snapThresholdX = this.options.snapThreshold;\n                    this.snapThresholdY = this.options.snapThreshold;\n                } else {\n                    this.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\n                    this.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\n                }\n            });\n\n            this.on('flick', function () {\n                var time = this.options.snapSpeed || Math.max(\n                        Math.max(\n                            Math.min(Math.abs(this.x - this.startX), 1000),\n                            Math.min(Math.abs(this.y - this.startY), 1000)\n                        ), 300);\n\n                this.goToPage(\n                    this.currentPage.pageX + this.directionX,\n                    this.currentPage.pageY + this.directionY,\n                    time\n                );\n            });\n        },\n\n        _nearestSnap: function (x, y) {\n            if ( !this.pages.length ) {\n                return { x: 0, y: 0, pageX: 0, pageY: 0 };\n            }\n\n            var i = 0,\n                l = this.pages.length,\n                m = 0;\n\n            // Check if we exceeded the snap threshold\n            if ( Math.abs(x - this.absStartX) < this.snapThresholdX &&\n                Math.abs(y - this.absStartY) < this.snapThresholdY ) {\n                return this.currentPage;\n            }\n\n            if ( x > 0 ) {\n                x = 0;\n            } else if ( x < this.maxScrollX ) {\n                x = this.maxScrollX;\n            }\n\n            if ( y > 0 ) {\n                y = 0;\n            } else if ( y < this.maxScrollY ) {\n                y = this.maxScrollY;\n            }\n\n            for ( ; i < l; i++ ) {\n                if ( x >= this.pages[i][0].cx ) {\n                    x = this.pages[i][0].x;\n                    break;\n                }\n            }\n\n            l = this.pages[i].length;\n\n            for ( ; m < l; m++ ) {\n                if ( y >= this.pages[0][m].cy ) {\n                    y = this.pages[0][m].y;\n                    break;\n                }\n            }\n\n            if ( i == this.currentPage.pageX ) {\n                i += this.directionX;\n\n                if ( i < 0 ) {\n                    i = 0;\n                } else if ( i >= this.pages.length ) {\n                    i = this.pages.length - 1;\n                }\n\n                x = this.pages[i][0].x;\n            }\n\n            if ( m == this.currentPage.pageY ) {\n                m += this.directionY;\n\n                if ( m < 0 ) {\n                    m = 0;\n                } else if ( m >= this.pages[0].length ) {\n                    m = this.pages[0].length - 1;\n                }\n\n                y = this.pages[0][m].y;\n            }\n\n            return {\n                x: x,\n                y: y,\n                pageX: i,\n                pageY: m\n            };\n        },\n\n        goToPage: function (x, y, time, easing) {\n            easing = easing || this.options.bounceEasing;\n\n            if ( x >= this.pages.length ) {\n                x = this.pages.length - 1;\n            } else if ( x < 0 ) {\n                x = 0;\n            }\n\n            if ( y >= this.pages[x].length ) {\n                y = this.pages[x].length - 1;\n            } else if ( y < 0 ) {\n                y = 0;\n            }\n\n            var posX = this.pages[x][y].x,\n                posY = this.pages[x][y].y;\n\n            time = time === undefined ? this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(posX - this.x), 1000),\n                        Math.min(Math.abs(posY - this.y), 1000)\n                    ), 300) : time;\n\n            this.currentPage = {\n                x: posX,\n                y: posY,\n                pageX: x,\n                pageY: y\n            };\n\n            this.scrollTo(posX, posY, time, easing);\n        },\n\n        next: function (time, easing) {\n            var x = this.currentPage.pageX,\n                y = this.currentPage.pageY;\n\n            x++;\n\n            if ( x >= this.pages.length && this.hasVerticalScroll ) {\n                x = 0;\n                y++;\n            }\n\n            this.goToPage(x, y, time, easing);\n        },\n\n        prev: function (time, easing) {\n            var x = this.currentPage.pageX,\n                y = this.currentPage.pageY;\n\n            x--;\n\n            if ( x < 0 && this.hasVerticalScroll ) {\n                x = 0;\n                y--;\n            }\n\n            this.goToPage(x, y, time, easing);\n        },\n\n        _initKeys: function (e) {\n            // default key bindings\n            var keys = {\n                pageUp: 33,\n                pageDown: 34,\n                end: 35,\n                home: 36,\n                left: 37,\n                up: 38,\n                right: 39,\n                down: 40\n            };\n            var i;\n\n            // if you give me characters I give you keycode\n            if ( typeof this.options.keyBindings == 'object' ) {\n                for ( i in this.options.keyBindings ) {\n                    if ( typeof this.options.keyBindings[i] == 'string' ) {\n                        this.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\n                    }\n                }\n            } else {\n                this.options.keyBindings = {};\n            }\n\n            for ( i in keys ) {\n                this.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\n            }\n\n            utils.addEvent(window, 'keydown', this);\n\n            this.on('destroy', function () {\n                utils.removeEvent(window, 'keydown', this);\n            });\n        },\n\n        _key: function (e) {\n            if ( !this.enabled ) {\n                return;\n            }\n\n            var snap = this.options.snap,\t// we are using this alot, better to cache it\n                newX = snap ? this.currentPage.pageX : this.x,\n                newY = snap ? this.currentPage.pageY : this.y,\n                now = utils.getTime(),\n                prevTime = this.keyTime || 0,\n                acceleration = 0.250,\n                pos;\n\n            if ( this.options.useTransition && this.isInTransition ) {\n                pos = this.getComputedPosition();\n\n                this._translate(Math.round(pos.x), Math.round(pos.y));\n                this.isInTransition = false;\n            }\n\n            this.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\n\n            switch ( e.keyCode ) {\n                case this.options.keyBindings.pageUp:\n                    if ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n                        newX += snap ? 1 : this.wrapperWidth;\n                    } else {\n                        newY += snap ? 1 : this.wrapperHeight;\n                    }\n                    break;\n                case this.options.keyBindings.pageDown:\n                    if ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n                        newX -= snap ? 1 : this.wrapperWidth;\n                    } else {\n                        newY -= snap ? 1 : this.wrapperHeight;\n                    }\n                    break;\n                case this.options.keyBindings.end:\n                    newX = snap ? this.pages.length-1 : this.maxScrollX;\n                    newY = snap ? this.pages[0].length-1 : this.maxScrollY;\n                    break;\n                case this.options.keyBindings.home:\n                    newX = 0;\n                    newY = 0;\n                    break;\n                case this.options.keyBindings.left:\n                    newX += snap ? -1 : 5 + this.keyAcceleration>>0;\n                    break;\n                case this.options.keyBindings.up:\n                    newY += snap ? 1 : 5 + this.keyAcceleration>>0;\n                    break;\n                case this.options.keyBindings.right:\n                    newX -= snap ? -1 : 5 + this.keyAcceleration>>0;\n                    break;\n                case this.options.keyBindings.down:\n                    newY -= snap ? 1 : 5 + this.keyAcceleration>>0;\n                    break;\n                default:\n                    return;\n            }\n\n            if ( snap ) {\n                this.goToPage(newX, newY);\n                return;\n            }\n\n            if ( newX > 0 ) {\n                newX = 0;\n                this.keyAcceleration = 0;\n            } else if ( newX < this.maxScrollX ) {\n                newX = this.maxScrollX;\n                this.keyAcceleration = 0;\n            }\n\n            if ( newY > 0 ) {\n                newY = 0;\n                this.keyAcceleration = 0;\n            } else if ( newY < this.maxScrollY ) {\n                newY = this.maxScrollY;\n                this.keyAcceleration = 0;\n            }\n\n            this.scrollTo(newX, newY, 0);\n\n            this.keyTime = now;\n        },\n\n        _animate: function (destX, destY, duration, easingFn) {\n            var that = this,\n                startX = this.x,\n                startY = this.y,\n                startTime = utils.getTime(),\n                destTime = startTime + duration;\n\n            function step () {\n                var now = utils.getTime(),\n                    newX, newY,\n                    easing;\n\n                if ( now >= destTime ) {\n                    that.isAnimating = false;\n                    that._translate(destX, destY);\n\n                    if ( !that.resetPosition(that.options.bounceTime) ) {\n                        that._execEvent('scrollEnd');\n                    }\n\n                    return;\n                }\n\n                now = ( now - startTime ) / duration;\n                easing = easingFn(now);\n                newX = ( destX - startX ) * easing + startX;\n                newY = ( destY - startY ) * easing + startY;\n                that._translate(newX, newY);\n\n                if ( that.isAnimating ) {\n                    rAF(step);\n                }\n\n                if ( that.options.probeType == 3 ) {\n                    that._execEvent('scroll');\n                }\n            }\n\n            this.isAnimating = true;\n            step();\n        },\n\n        handleEvent: function (e) {\n            switch ( e.type ) {\n                case 'touchstart':\n                case 'pointerdown':\n                case 'MSPointerDown':\n                case 'mousedown':\n                    this._start(e);\n                    break;\n                case 'touchmove':\n                case 'pointermove':\n                case 'MSPointerMove':\n                case 'mousemove':\n                    this._move(e);\n                    break;\n                case 'touchend':\n                case 'pointerup':\n                case 'MSPointerUp':\n                case 'mouseup':\n                case 'touchcancel':\n                case 'pointercancel':\n                case 'MSPointerCancel':\n                case 'mousecancel':\n                    this._end(e);\n                    break;\n                case 'orientationchange':\n                case 'resize':\n                    this._resize();\n                    break;\n                case 'transitionend':\n                case 'webkitTransitionEnd':\n                case 'oTransitionEnd':\n                case 'MSTransitionEnd':\n                    this._transitionEnd(e);\n                    break;\n                case 'wheel':\n                case 'DOMMouseScroll':\n                case 'mousewheel':\n                    this._wheel(e);\n                    break;\n                case 'keydown':\n                    this._key(e);\n                    break;\n                case 'click':\n                    if ( this.enabled && !e._constructed ) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                    }\n                    break;\n            }\n        }\n    };\n    function createDefaultScrollbar (direction, interactive, type) {\n        var scrollbar = document.createElement('div'),\n            indicator = document.createElement('div');\n\n        if ( type === true ) {\n            scrollbar.style.cssText = 'position:absolute;z-index:9999';\n            indicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\n        }\n\n        indicator.className = 'iScrollIndicator';\n\n        if ( direction == 'h' ) {\n            if ( type === true ) {\n                scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n                indicator.style.height = '100%';\n            }\n            scrollbar.className = 'iScrollHorizontalScrollbar';\n        } else {\n            if ( type === true ) {\n                scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n                indicator.style.width = '100%';\n            }\n            scrollbar.className = 'iScrollVerticalScrollbar';\n        }\n\n        scrollbar.style.cssText += ';overflow:hidden';\n\n        if ( !interactive ) {\n            scrollbar.style.pointerEvents = 'none';\n        }\n\n        scrollbar.appendChild(indicator);\n\n        return scrollbar;\n    }\n\n    function Indicator (scroller, options) {\n        this.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n        this.wrapperStyle = this.wrapper.style;\n        this.indicator = this.wrapper.children[0];\n        this.indicatorStyle = this.indicator.style;\n        this.scroller = scroller;\n\n        this.options = {\n            listenX: true,\n            listenY: true,\n            interactive: false,\n            resize: true,\n            defaultScrollbars: false,\n            shrink: false,\n            fade: false,\n            speedRatioX: 0,\n            speedRatioY: 0\n        };\n\n        for ( var i in options ) {\n            this.options[i] = options[i];\n        }\n\n        this.sizeRatioX = 1;\n        this.sizeRatioY = 1;\n        this.maxPosX = 0;\n        this.maxPosY = 0;\n\n        if ( this.options.interactive ) {\n            if ( !this.options.disableTouch ) {\n                utils.addEvent(this.indicator, 'touchstart', this);\n                utils.addEvent(window, 'touchend', this);\n            }\n            if ( !this.options.disablePointer ) {\n                utils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n                utils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\n            }\n            if ( !this.options.disableMouse ) {\n                utils.addEvent(this.indicator, 'mousedown', this);\n                utils.addEvent(window, 'mouseup', this);\n            }\n        }\n\n        if ( this.options.fade ) {\n            this.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\n            var durationProp = utils.style.transitionDuration;\n            if(!durationProp) {\n                return;\n            }\n            this.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms';\n            // remove 0.0001ms\n            var self = this;\n            if(utils.isBadAndroid) {\n                rAF(function() {\n                    if(self.wrapperStyle[durationProp] === '0.0001ms') {\n                        self.wrapperStyle[durationProp] = '0s';\n                    }\n                });\n            }\n            this.wrapperStyle.opacity = '0';\n        }\n    }\n\n    Indicator.prototype = {\n        handleEvent: function (e) {\n            switch ( e.type ) {\n                case 'touchstart':\n                case 'pointerdown':\n                case 'MSPointerDown':\n                case 'mousedown':\n                    this._start(e);\n                    break;\n                case 'touchmove':\n                case 'pointermove':\n                case 'MSPointerMove':\n                case 'mousemove':\n                    this._move(e);\n                    break;\n                case 'touchend':\n                case 'pointerup':\n                case 'MSPointerUp':\n                case 'mouseup':\n                case 'touchcancel':\n                case 'pointercancel':\n                case 'MSPointerCancel':\n                case 'mousecancel':\n                    this._end(e);\n                    break;\n            }\n        },\n\n        destroy: function () {\n            if ( this.options.fadeScrollbars ) {\n                clearTimeout(this.fadeTimeout);\n                this.fadeTimeout = null;\n            }\n            if ( this.options.interactive ) {\n                utils.removeEvent(this.indicator, 'touchstart', this);\n                utils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n                utils.removeEvent(this.indicator, 'mousedown', this);\n\n                utils.removeEvent(window, 'touchmove', this);\n                utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n                utils.removeEvent(window, 'mousemove', this);\n\n                utils.removeEvent(window, 'touchend', this);\n                utils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\n                utils.removeEvent(window, 'mouseup', this);\n            }\n\n            if ( this.options.defaultScrollbars && this.wrapper.parentNode ) {\n                this.wrapper.parentNode.removeChild(this.wrapper);\n            }\n        },\n\n        _start: function (e) {\n            var point = e.touches ? e.touches[0] : e;\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            this.transitionTime();\n\n            this.initiated = true;\n            this.moved = false;\n            this.lastPointX\t= point.pageX;\n            this.lastPointY\t= point.pageY;\n\n            this.startTime\t= utils.getTime();\n\n            if ( !this.options.disableTouch ) {\n                utils.addEvent(window, 'touchmove', this);\n            }\n            if ( !this.options.disablePointer ) {\n                utils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\n            }\n            if ( !this.options.disableMouse ) {\n                utils.addEvent(window, 'mousemove', this);\n            }\n\n            this.scroller._execEvent('beforeScrollStart');\n        },\n\n        _move: function (e) {\n            var point = e.touches ? e.touches[0] : e,\n                deltaX, deltaY,\n                newX, newY,\n                timestamp = utils.getTime();\n\n            if ( !this.moved ) {\n                this.scroller._execEvent('scrollStart');\n            }\n\n            this.moved = true;\n\n            deltaX = point.pageX - this.lastPointX;\n            this.lastPointX = point.pageX;\n\n            deltaY = point.pageY - this.lastPointY;\n            this.lastPointY = point.pageY;\n\n            newX = this.x + deltaX;\n            newY = this.y + deltaY;\n\n            this._pos(newX, newY);\n\n\n            if ( this.scroller.options.probeType == 1 && timestamp - this.startTime > 300 ) {\n                this.startTime = timestamp;\n                this.scroller._execEvent('scroll');\n            } else if ( this.scroller.options.probeType > 1 ) {\n                this.scroller._execEvent('scroll');\n            }\n\n\n// INSERT POINT: indicator._move\n\n            e.preventDefault();\n            e.stopPropagation();\n        },\n\n        _end: function (e) {\n            if ( !this.initiated ) {\n                return;\n            }\n\n            this.initiated = false;\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            utils.removeEvent(window, 'touchmove', this);\n            utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n            utils.removeEvent(window, 'mousemove', this);\n\n            if ( this.scroller.options.snap ) {\n                var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n                var time = this.options.snapSpeed || Math.max(\n                        Math.max(\n                            Math.min(Math.abs(this.scroller.x - snap.x), 1000),\n                            Math.min(Math.abs(this.scroller.y - snap.y), 1000)\n                        ), 300);\n\n                if ( this.scroller.x != snap.x || this.scroller.y != snap.y ) {\n                    this.scroller.directionX = 0;\n                    this.scroller.directionY = 0;\n                    this.scroller.currentPage = snap;\n                    this.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\n                }\n            }\n\n            if ( this.moved ) {\n                this.scroller._execEvent('scrollEnd');\n            }\n        },\n\n        transitionTime: function (time) {\n            time = time || 0;\n            var durationProp = utils.style.transitionDuration;\n            if(!durationProp) {\n                return;\n            }\n\n            this.indicatorStyle[durationProp] = time + 'ms';\n\n            if ( !time && utils.isBadAndroid ) {\n                this.indicatorStyle[durationProp] = '0.0001ms';\n                // remove 0.0001ms\n                var self = this;\n                rAF(function() {\n                    if(self.indicatorStyle[durationProp] === '0.0001ms') {\n                        self.indicatorStyle[durationProp] = '0s';\n                    }\n                });\n            }\n        },\n\n        transitionTimingFunction: function (easing) {\n            this.indicatorStyle[utils.style.transitionTimingFunction] = easing;\n        },\n\n        refresh: function () {\n            this.transitionTime();\n\n            if ( this.options.listenX && !this.options.listenY ) {\n                this.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n            } else if ( this.options.listenY && !this.options.listenX ) {\n                this.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n            } else {\n                this.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n            }\n\n            if ( this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll ) {\n                utils.addClass(this.wrapper, 'iScrollBothScrollbars');\n                utils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\n\n                if ( this.options.defaultScrollbars && this.options.customStyle ) {\n                    if ( this.options.listenX ) {\n                        this.wrapper.style.right = '8px';\n                    } else {\n                        this.wrapper.style.bottom = '8px';\n                    }\n                }\n            } else {\n                utils.removeClass(this.wrapper, 'iScrollBothScrollbars');\n                utils.addClass(this.wrapper, 'iScrollLoneScrollbar');\n\n                if ( this.options.defaultScrollbars && this.options.customStyle ) {\n                    if ( this.options.listenX ) {\n                        this.wrapper.style.right = '2px';\n                    } else {\n                        this.wrapper.style.bottom = '2px';\n                    }\n                }\n            }\n\n            utils.getRect(this.wrapper);\t// force refresh\n\n            if ( this.options.listenX ) {\n                this.wrapperWidth = this.wrapper.clientWidth;\n                if ( this.options.resize ) {\n                    this.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n                    this.indicatorStyle.width = this.indicatorWidth + 'px';\n                } else {\n                    this.indicatorWidth = this.indicator.clientWidth;\n                }\n\n                this.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n                if ( this.options.shrink == 'clip' ) {\n                    this.minBoundaryX = -this.indicatorWidth + 8;\n                    this.maxBoundaryX = this.wrapperWidth - 8;\n                } else {\n                    this.minBoundaryX = 0;\n                    this.maxBoundaryX = this.maxPosX;\n                }\n\n                this.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\n            }\n\n            if ( this.options.listenY ) {\n                this.wrapperHeight = this.wrapper.clientHeight;\n                if ( this.options.resize ) {\n                    this.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n                    this.indicatorStyle.height = this.indicatorHeight + 'px';\n                } else {\n                    this.indicatorHeight = this.indicator.clientHeight;\n                }\n\n                this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n                if ( this.options.shrink == 'clip' ) {\n                    this.minBoundaryY = -this.indicatorHeight + 8;\n                    this.maxBoundaryY = this.wrapperHeight - 8;\n                } else {\n                    this.minBoundaryY = 0;\n                    this.maxBoundaryY = this.maxPosY;\n                }\n\n                this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n                this.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\n            }\n\n            this.updatePosition();\n        },\n\n        updatePosition: function () {\n            var x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n                y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n            if ( !this.options.ignoreBoundaries ) {\n                if ( x < this.minBoundaryX ) {\n                    if ( this.options.shrink == 'scale' ) {\n                        this.width = Math.max(this.indicatorWidth + x, 8);\n                        this.indicatorStyle.width = this.width + 'px';\n                    }\n                    x = this.minBoundaryX;\n                } else if ( x > this.maxBoundaryX ) {\n                    if ( this.options.shrink == 'scale' ) {\n                        this.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n                        this.indicatorStyle.width = this.width + 'px';\n                        x = this.maxPosX + this.indicatorWidth - this.width;\n                    } else {\n                        x = this.maxBoundaryX;\n                    }\n                } else if ( this.options.shrink == 'scale' && this.width != this.indicatorWidth ) {\n                    this.width = this.indicatorWidth;\n                    this.indicatorStyle.width = this.width + 'px';\n                }\n\n                if ( y < this.minBoundaryY ) {\n                    if ( this.options.shrink == 'scale' ) {\n                        this.height = Math.max(this.indicatorHeight + y * 3, 8);\n                        this.indicatorStyle.height = this.height + 'px';\n                    }\n                    y = this.minBoundaryY;\n                } else if ( y > this.maxBoundaryY ) {\n                    if ( this.options.shrink == 'scale' ) {\n                        this.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n                        this.indicatorStyle.height = this.height + 'px';\n                        y = this.maxPosY + this.indicatorHeight - this.height;\n                    } else {\n                        y = this.maxBoundaryY;\n                    }\n                } else if ( this.options.shrink == 'scale' && this.height != this.indicatorHeight ) {\n                    this.height = this.indicatorHeight;\n                    this.indicatorStyle.height = this.height + 'px';\n                }\n            }\n\n            this.x = x;\n            this.y = y;\n\n            if ( this.scroller.options.useTransform ) {\n                this.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\n            } else {\n                this.indicatorStyle.left = x + 'px';\n                this.indicatorStyle.top = y + 'px';\n            }\n        },\n\n        _pos: function (x, y) {\n            if ( x < 0 ) {\n                x = 0;\n            } else if ( x > this.maxPosX ) {\n                x = this.maxPosX;\n            }\n\n            if ( y < 0 ) {\n                y = 0;\n            } else if ( y > this.maxPosY ) {\n                y = this.maxPosY;\n            }\n\n            x = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\n            y = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\n\n            this.scroller.scrollTo(x, y);\n        },\n\n        fade: function (val, hold) {\n            if ( hold && !this.visible ) {\n                return;\n            }\n\n            clearTimeout(this.fadeTimeout);\n            this.fadeTimeout = null;\n\n            var time = val ? 250 : 500,\n                delay = val ? 0 : 300;\n\n            val = val ? '1' : '0';\n\n            this.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\n\n            this.fadeTimeout = setTimeout((function (val) {\n                this.wrapperStyle.opacity = val;\n                this.visible = +val;\n            }).bind(this, val), delay);\n        }\n    };\n\n    IScroll.utils = utils;\n\n    if ( typeof module != 'undefined' && module.exports ) {\n        module.exports = IScroll;\n    } else if ( typeof define == 'function' && define.amd ) {\n        define( function () { return IScroll; } );\n    } else {\n        window.IScroll = IScroll;\n    }\n\n})(window, document, Math);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scroller/iscroller.js","/**\n * Created by dfzq on 2017/2/12.\n */\n//比较一个字符串版本号\n//a > b === 1\n//a = b === 0\n//a < b === -1\nexport const compareVersion = (a, b) => {\n    var as = a.split('.');\n    var bs = b.split('.');\n    if (a === b) return 0;\n\n    for (var i = 0; i < as.length; i++) {\n        var x = parseInt(as[i]);\n        if (!bs[i]) return 1;\n        var y = parseInt(bs[i]);\n        if (x < y) return -1;\n        if (x > y) return 1;\n    }\n    return -1;\n}\n\n// export const getCurrentPage = () => {\n//     return $(\".page-current\")[0] || $(\".page\")[0] || document.body;\n// }\n\n\n// WEBPACK FOOTER //\n// ./src/util/util.js","module.exports = inViewport;\n\nvar instances = [];\nvar supportsMutationObserver = typeof global.MutationObserver === 'function';\n\nfunction inViewport(elt, params, cb) {\n  var opts = {\n    container: global.document.body,\n    offset: 0,\n    debounce: 15,\n    failsafe: 150\n  };\n\n  if (params === undefined || typeof params === 'function') {\n    cb = params;\n    params = {};\n  }\n\n  var container = opts.container = params.container || opts.container;\n  var offset = opts.offset = params.offset || opts.offset;\n  var debounceValue = opts.debounce = params.debounce || opts.debounce;\n  var failsafe = opts.failsafe = params.failsafe || opts.failsafe;\n\n  // ensure backward compatibility with failsafe as boolean\n  if (failsafe === true) {\n    failsafe = 150;\n  } else if(failsafe === false) {\n    failsafe = 0;\n  }\n\n  // failsafe check always needs to be higher than debounceValue\n  if (failsafe > 0 && failsafe < debounceValue) {\n      failsafe = debounceValue + 50;\n  }\n\n  for (var i = 0; i < instances.length; i++) {\n    if (\n      instances[i].container === container &&\n      instances[i]._debounce === debounceValue &&\n      instances[i]._failsafe === failsafe\n    ) {\n      return instances[i].isInViewport(elt, offset, cb);\n    }\n  }\n\n  return instances[\n    instances.push(createInViewport(container, debounceValue, failsafe)) - 1\n  ].isInViewport(elt, offset, cb);\n}\n\nfunction addEvent(el, type, fn) {\n  if (el.attachEvent) {\n    el.attachEvent('on' + type, fn);\n  } else {\n    el.addEventListener(type, fn, false);\n  }\n}\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this, args = arguments;\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n\n    function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    }\n  };\n}\n\n// https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\nvar contains = function() {\n  if (!global.document) {\n    return true;\n  }\n  return global.document.documentElement.compareDocumentPosition ?\n    function (a, b) {\n      return !!(a.compareDocumentPosition(b) & 16);\n    } :\n    global.document.documentElement.contains ?\n      function (a, b) {\n        return a !== b && ( a.contains ? a.contains(b) : false );\n      } :\n      function (a, b) {\n        while (b = b.parentNode) {\n          if (b === a) {\n            return true;\n          }\n        }\n        return false;\n      };\n}\n\nfunction createInViewport(container, debounceValue, failsafe) {\n  var watches = createWatches();\n\n  var scrollContainer = container === global.document.body ? global : container;\n  var debouncedCheck = debounce(watches.checkAll(watchInViewport), debounceValue);\n\n  addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n  if (scrollContainer === global) {\n    addEvent(global, 'resize', debouncedCheck);\n  }\n\n  if (supportsMutationObserver) {\n    observeDOM(watches, container, debouncedCheck);\n  }\n\n  // failsafe check, every X we check for visible images\n  // usecase: a hidden parent containing eleements\n  // when the parent becomes visible, we have no event that the children\n  // became visible\n  if (failsafe > 0) {\n    setInterval(debouncedCheck, failsafe);\n  }\n\n  function isInViewport(elt, offset, cb) {\n    if (!cb) {\n      return isVisible(elt, offset);\n    }\n\n    var remote = createRemote(elt, offset, cb);\n    remote.watch();\n    return remote;\n  }\n\n  function createRemote(elt, offset, cb) {\n    function watch() {\n      watches.add(elt, offset, cb);\n    }\n\n    function dispose() {\n      watches.remove(elt);\n    }\n\n    return {\n      watch: watch,\n      dispose: dispose\n    };\n  }\n\n  function watchInViewport(elt, offset, cb) {\n    if (isVisible(elt, offset)) {\n      watches.remove(elt);\n      cb(elt);\n    }\n  }\n\n  function isVisible(elt, offset) {\n    if (!elt) {\n      return false;\n    }\n\n    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n      return false;\n    }\n\n    // Check if the element is visible\n    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n    if (!elt.offsetWidth || !elt.offsetHeight) {\n      return false;\n    }\n\n    var eltRect = elt.getBoundingClientRect();\n    var viewport = {};\n\n    if (container === global.document.body) {\n      viewport = {\n        top: -offset,\n        left: -offset,\n        right: global.document.documentElement.clientWidth + offset,\n        bottom: global.document.documentElement.clientHeight + offset\n      };\n    } else {\n      var containerRect = container.getBoundingClientRect();\n      viewport = {\n        top: containerRect.top - offset,\n        left: containerRect.left - offset,\n        right: containerRect.right + offset,\n        bottom: containerRect.bottom + offset\n      };\n    }\n\n    // The element must overlap with the visible part of the viewport\n    var visible =\n      (\n        eltRect.right >= viewport.left &&\n        eltRect.left <= viewport.right &&\n        eltRect.bottom >= viewport.top &&\n        eltRect.top <= viewport.bottom\n      );\n\n    return visible;\n  }\n\n  return {\n    container: container,\n    isInViewport: isInViewport,\n    _debounce: debounceValue,\n    _failsafe: failsafe\n  };\n}\n\nfunction createWatches() {\n  var watches = [];\n\n  function add(elt, offset, cb) {\n    if (!isWatched(elt)) {\n      watches.push([elt, offset, cb]);\n    }\n  }\n\n  function remove(elt) {\n    var pos = indexOf(elt);\n    if (pos !== -1) {\n      watches.splice(pos, 1);\n    }\n  }\n\n  function indexOf(elt) {\n    for (var i = watches.length - 1; i >= 0; i--) {\n      if (watches[i][0] === elt) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  function isWatched(elt) {\n    return indexOf(elt) !== -1;\n  }\n\n  function checkAll(cb) {\n    return function () {\n      for (var i = watches.length - 1; i >= 0; i--) {\n        cb.apply(this, watches[i]);\n      }\n    };\n  }\n\n  return {\n    add: add,\n    remove: remove,\n    isWatched: isWatched,\n    checkAll: checkAll\n  };\n}\n\nfunction observeDOM(watches, container, cb) {\n  var observer = new MutationObserver(watch);\n  var filter = Array.prototype.filter;\n  var concat = Array.prototype.concat;\n\n  observer.observe(container, {\n    childList: true,\n    subtree: true,\n    // changes like style/width/height/display will be catched\n    attributes: true\n  });\n\n  function watch(mutations) {\n    // some new DOM nodes where previously watched\n    // we should check their positions\n    if (mutations.some(knownNodes) === true) {\n      setTimeout(cb, 0);\n    }\n  }\n\n  function knownNodes(mutation) {\n    var nodes = concat.call([],\n      Array.prototype.slice.call(mutation.addedNodes),\n      mutation.target\n    );\n    return filter.call(nodes, watches.isWatched).length > 0;\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_in-viewport@3.6.0@in-viewport/in-viewport.js\n// module id = 23\n// module chunks = 7 8 9"],"sourceRoot":""}