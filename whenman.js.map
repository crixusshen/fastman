{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6******","webpack:///(webpack)/buildin/amd-define.js?0bba*","webpack:///(webpack)/buildin/global.js?3698***","webpack:///./src/when/asap.js?da51*","webpack:///./src/when/core.js?9fa9*","webpack:///./src/when/raw.js?3f5e*","webpack:///./src/when/promise.js?1f23*"],"names":["define","require","rawAsap","freeTasks","pendingErrors","requestErrorThrow","makeRequestCallFromTimer","throwFirstError","length","shift","asap","task","rawTask","pop","RawTask","prototype","call","error","onerror","push","noop","LAST_ERROR","IS_ERROR","getThen","obj","then","ex","tryCallOne","fn","a","tryCallTwo","b","Promise","TypeError","_deferredState","_state","_value","_deferreds","doResolve","_onHandle","_onReject","_noop","onFulfilled","onRejected","constructor","safeThen","res","handle","Handler","done","self","arguments","apply","err","setTimeout","resolve","reject","deferred","handleResolved","cb","promise","ret","newValue","finale","bind","i","value","reason","queue","requestFlush","flushing","index","capacity","flush","currentIndex","scan","newLength","global","window","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromMutationObserver","callback","toggle","observer","node","document","createTextNode","observe","characterData","requestCall","data","timeoutHandle","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","TRUE","valuePromise","FALSE","NULL","UNDEFINED","undefined","ZERO","EMPTYSTRING","p","all","arr","args","Array","slice","remaining","val","race","values","forEach","attempt","l","e"],"mappings":"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","file":"whenman.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fastman\"] = factory();\n\telse\n\t\troot[\"fastman\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-define.js\n// module id = 0\n// module chunks = 0 3 6","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 1\n// module chunks = 0 1 3 5 6 7 8 9","'use strict';\n/**\n * 文件用途说明 : asap队列核心模块\n *\n * 项目名称 : dfzq-obboot-mobi\n * 作者姓名 : crixusshen\n * 创建日期 : 16/4/3\n * 修改日期 : 16/4/3\n * 版权所有 : 东方证券股份有限公司\n **/\n(function (define) {\n\n    define(function (require) {\n        // rawAsap provides everything we need except exception management.\n        var rawAsap = require(\"./raw\");\n        // RawTasks are recycled to reduce GC churn.\n        var freeTasks = [];\n        // We queue errors to ensure they are thrown in right order (FIFO).\n        // Array-as-queue is good enough here, since we are just dealing with exceptions.\n        var pendingErrors = [];\n        var requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\n        function throwFirstError() {\n            if (pendingErrors.length) {\n                throw pendingErrors.shift();\n            }\n        }\n\n        /**\n         * Calls a task as soon as possible after returning, in its own event, with priority\n         * over other events like animation, reflow, and repaint. An error thrown from an\n         * event will not interrupt, nor even substantially slow down the processing of\n         * other events, but will be rather postponed to a lower priority event.\n         * @param {{call}} task A callable object, typically a function that takes no\n         * arguments.\n         */\n        //module.exports = asap;\n        function asap(task) {\n            var rawTask;\n            if (freeTasks.length) {\n                rawTask = freeTasks.pop();\n            } else {\n                rawTask = new RawTask();\n            }\n            rawTask.task = task;\n            rawAsap(rawTask);\n        }\n\n        // We wrap tasks with recyclable task objects.  A task object implements\n        // `call`, just like a function.\n        function RawTask() {\n            this.task = null;\n        }\n\n        // The sole purpose of wrapping the task is to catch the exception and recycle\n        // the task object after its single use.\n        RawTask.prototype.call = function () {\n            try {\n                this.task.call();\n            } catch (error) {\n                if (asap.onerror) {\n                    // This hook exists purely for testing purposes.\n                    // Its name will be periodically randomized to break any code that\n                    // depends on its existence.\n                    asap.onerror(error);\n                } else {\n                    // In a web browser, exceptions are not fatal. However, to avoid\n                    // slowing down the queue of pending tasks, we rethrow the error in a\n                    // lower priority turn.\n                    pendingErrors.push(error);\n                    requestErrorThrow();\n                }\n            } finally {\n                this.task = null;\n                freeTasks[freeTasks.length] = this;\n            }\n        };\n\n        return asap;\n\n    });\n\n}(\n    typeof define === 'function' && define.amd ? define : function (factory) {\n        module.exports = factory(require);\n    }\n    // Boilerplate for AMD and Node\n));\n\n\n// WEBPACK FOOTER //\n// ./src/when/asap.js","'use strict';\n/**\n * 文件用途说明 : promise+标准底层库\n *\n * 项目名称 : dfzq-obboot-mobi\n * 作者姓名 : crixusshen\n * 创建日期 : 16/4/3\n * 修改日期 : 16/4/3\n * 版权所有 : 东方证券股份有限公司\n **/\n(function (define) {\n\n    define(function (require) {\n\n        var asap = require('./asap');\n\n        function noop() {}\n\n        // States:\n        //\n        // 0 - pending\n        // 1 - fulfilled with _value\n        // 2 - rejected with _value\n        // 3 - adopted the state of another promise, _value\n        //\n        // once the state is no longer pending (0) it is immutable\n\n        // All `_` prefixed properties will be reduced to `_{random number}`\n        // at build time to obfuscate them and discourage their use.\n        // We don't use symbols or Object.defineProperty to fully hide them\n        // because the performance isn't good enough.\n\n\n        // to avoid using try/catch inside critical functions, we\n        // extract them to here.\n        var LAST_ERROR = null;\n        var IS_ERROR = {};\n        function getThen(obj) {\n            try {\n                return obj.then;\n            } catch (ex) {\n                LAST_ERROR = ex;\n                return IS_ERROR;\n            }\n        }\n\n        function tryCallOne(fn, a) {\n            try {\n                return fn(a);\n            } catch (ex) {\n                LAST_ERROR = ex;\n                return IS_ERROR;\n            }\n        }\n        function tryCallTwo(fn, a, b) {\n            try {\n                fn(a, b);\n            } catch (ex) {\n                LAST_ERROR = ex;\n                return IS_ERROR;\n            }\n        }\n\n        function Promise(fn) {\n            if (typeof this !== 'object') {\n                throw new TypeError('Promises must be constructed via new');\n            }\n            if (typeof fn !== 'function') {\n                throw new TypeError('not a function');\n            }\n            // 0-不延迟 1-需要延迟\n            this._deferredState = 0;\n            // 0-初始化 1-resolve 2-reject\n            this._state = 0;\n            this._value = null;\n            this._deferreds = null;\n            if (fn === noop) return;\n            doResolve(fn, this);\n        }\n        Promise._onHandle = null;\n        Promise._onReject = null;\n        Promise._noop = noop;\n\n        Promise.prototype.then = function(onFulfilled, onRejected) {\n            if (this.constructor !== Promise) {\n                return safeThen(this, onFulfilled, onRejected);\n            }\n            var res = new Promise(noop);\n            handle(this, new Handler(onFulfilled, onRejected, res));\n            return res;\n        };\n\n        Promise.prototype.done = function (onFulfilled, onRejected) {\n            var self = arguments.length ? this.then.apply(this, arguments) : this;\n            self.then(null, function (err) {\n                setTimeout(function () {\n                    throw err;\n                }, 0);\n            });\n        };\n\n        function safeThen(self, onFulfilled, onRejected) {\n            return new self.constructor(function (resolve, reject) {\n                var res = new Promise(noop);\n                res.then(resolve, reject);\n                handle(self, new Handler(onFulfilled, onRejected, res));\n            });\n        };\n        function handle(self, deferred) {\n            while (self._state === 3) {\n                self = self._value;\n            }\n            if (Promise._onHandle) {\n                Promise._onHandle(self);\n            }\n            if (self._state === 0) {\n                if (self._deferredState === 0) {\n                    self._deferredState = 1;\n                    self._deferreds = deferred;\n                    return;\n                }\n                if (self._deferredState === 1) {\n                    self._deferredState = 2;\n                    self._deferreds = [self._deferreds, deferred];\n                    return;\n                }\n                self._deferreds.push(deferred);\n                return;\n            }\n            handleResolved(self, deferred);\n        }\n\n        function handleResolved(self, deferred) {\n            asap(function() {\n                var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                if (cb === null) {\n                    if (self._state === 1) {\n                        resolve(deferred.promise, self._value);\n                    } else {\n                        reject(deferred.promise, self._value);\n                    }\n                    return;\n                }\n                var ret = tryCallOne(cb, self._value);\n                if (ret === IS_ERROR) {\n                    reject(deferred.promise, LAST_ERROR);\n                } else {\n                    resolve(deferred.promise, ret);\n                }\n            });\n        }\n        function resolve(self, newValue) {\n            // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n            if (newValue === self) {\n                return reject(\n                    self,\n                    new TypeError('A promise cannot be resolved with itself.')\n                );\n            }\n            if (\n                newValue &&\n                (typeof newValue === 'object' || typeof newValue === 'function')\n            ) {\n                var then = getThen(newValue);\n                if (then === IS_ERROR) {\n                    return reject(self, LAST_ERROR);\n                }\n                if (\n                    then === self.then &&\n                    newValue instanceof Promise\n                ) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                } else if (typeof then === 'function') {\n                    doResolve(then.bind(newValue), self);\n                    return;\n                }\n            }\n            self._state = 1;\n            self._value = newValue;\n            finale(self);\n        }\n\n        function reject(self, newValue) {\n            self._state = 2;\n            self._value = newValue;\n            if (Promise._onReject) {\n                Promise._onReject(self, newValue);\n            }\n            finale(self);\n        }\n        function finale(self) {\n            if (self._deferredState === 1) {\n                handle(self, self._deferreds);\n                self._deferreds = null;\n            }\n            if (self._deferredState === 2) {\n                for (var i = 0; i < self._deferreds.length; i++) {\n                    handle(self, self._deferreds[i]);\n                }\n                self._deferreds = null;\n            }\n        }\n\n        // One Defer\n        function Handler(onFulfilled, onRejected, promise){\n            this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n            this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n            this.promise = promise;\n        }\n\n        /**\n         * resolver处理\n         * onFulfilled and onRejected只会被执行一次.\n         *\n         * 不保证会异步处理.\n         */\n        function doResolve(fn, promise) {\n            var done = false;\n            var res = tryCallTwo(fn,\n                // resolve处理\n                function (value) {\n                if (done) return;\n                done = true;\n                resolve(promise, value);\n            },\n                // reject处理\n                function (reason) {\n                if (done) return;\n                done = true;\n                reject(promise, reason);\n            });\n            if (!done && res === IS_ERROR) {\n                done = true;\n                reject(promise, LAST_ERROR);\n            }\n        }\n\n        return Promise;\n\n    });\n\n}(\n    typeof define === 'function' && define.amd ? define : function (factory) {\n        module.exports = factory(require);\n    }\n    // Boilerplate for AMD and Node\n));\n\n\n// WEBPACK FOOTER //\n// ./src/when/core.js","'use strict';\n/**\n * 文件用途说明 : asap队列模块\n *\n * 项目名称 : dfzq-obboot-mobi\n * 作者姓名 : crixusshen\n * 创建日期 : 16/4/3\n * 修改日期 : 16/4/3\n * 版权所有 : 东方证券股份有限公司\n **/\n(function (define) {\n\n    define(function (require) {\n\n        \"use strict\";\n\n        // Use the fastest means possible to execute a task in its own turn, with\n        // priority over other events including IO, animation, reflow, and redraw\n        // events in browsers.\n        //\n        // An exception thrown by a task will permanently interrupt the processing of\n        // subsequent tasks. The higher level `asap` function ensures that if an\n        // exception is thrown by a task, that the task queue will continue flushing as\n        // soon as possible, but if you use `rawAsap` directly, you are responsible to\n        // either ensure that no exceptions are thrown from your task, or to manually\n        // call `rawAsap.requestFlush` if an exception is thrown.\n        //module.exports = rawAsap;\n        function rawAsap(task) {\n            if (!queue.length) {\n                requestFlush();\n                flushing = true;\n            }\n            // Equivalent to push, but avoids a function call.\n            queue[queue.length] = task;\n        }\n\n        var queue = [];\n        // Once a flush has been requested, no further calls to `requestFlush` are\n        // necessary until the next `flush` completes.\n        var flushing = false;\n        // `requestFlush` is an implementation-specific method that attempts to kick\n        // off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n        // the event queue before yielding to the browser's own event loop.\n        var requestFlush;\n        // The position of the next task to execute in the task queue. This is\n        // preserved between calls to `flush` so that it can be resumed if\n        // a task throws an exception.\n        var index = 0;\n        // If a task schedules additional tasks recursively, the task queue can grow\n        // unbounded. To prevent memory exhaustion, the task queue will periodically\n        // truncate already-completed tasks.\n        var capacity = 1024;\n\n        // The flush function processes all tasks that have been scheduled with\n        // `rawAsap` unless and until one of those tasks throws an exception.\n        // If a task throws an exception, `flush` ensures that its state will remain\n        // consistent and will resume where it left off when called again.\n        // However, `flush` does not make any arrangements to be called again if an\n        // exception is thrown.\n        function flush() {\n            while (index < queue.length) {\n                var currentIndex = index;\n                // Advance the index before calling the task. This ensures that we will\n                // begin flushing on the next task the task throws an error.\n                index = index + 1;\n                queue[currentIndex].call();\n                // Prevent leaking memory for long chains of recursive calls to `asap`.\n                // If we call `asap` within tasks scheduled by `asap`, the queue will\n                // grow, but to avoid an O(n) walk for every task we execute, we don't\n                // shift tasks off the queue after they have been executed.\n                // Instead, we periodically shift 1024 tasks off the queue.\n                if (index > capacity) {\n                    // Manually shift all values starting at the index back to the\n                    // beginning of the queue.\n                    for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                        queue[scan] = queue[scan + index];\n                    }\n                    queue.length -= index;\n                    index = 0;\n                }\n            }\n            queue.length = 0;\n            index = 0;\n            flushing = false;\n        }\n\n        // `requestFlush` is implemented using a strategy based on data collected from\n        // every available SauceLabs Selenium web driver worker at time of writing.\n        // https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n        // Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n        // have WebKitMutationObserver but not un-prefixed MutationObserver.\n        // Must use `global` instead of `window` to work in both frames and web\n        // workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n        var global = typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {};\n        var BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\n        // MutationObservers are desirable because they have high priority and work\n        // reliably everywhere they are implemented.\n        // They are implemented in all modern browsers.\n        //\n        // - Android 4-4.3\n        // - Chrome 26-34\n        // - Firefox 14-29\n        // - Internet Explorer 11\n        // - iPad Safari 6-7.1\n        // - iPhone Safari 7-7.1\n        // - Safari 6-7\n        if (typeof BrowserMutationObserver === \"function\") {\n            requestFlush = makeRequestCallFromMutationObserver(flush);\n\n        // MessageChannels are desirable because they give direct access to the HTML\n        // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n        // 11-12, and in web workers in many engines.\n        // Although message channels yield to any queued rendering and IO tasks, they\n        // would be better than imposing the 4ms delay of timers.\n        // However, they do not work reliably in Internet Explorer or Safari.\n\n        // Internet Explorer 10 is the only browser that has setImmediate but does\n        // not have MutationObservers.\n        // Although setImmediate yields to the browser's renderer, it would be\n        // preferrable to falling back to setTimeout since it does not have\n        // the minimum 4ms penalty.\n        // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n        // Desktop to a lesser extent) that renders both setImmediate and\n        // MessageChannel useless for the purposes of ASAP.\n        // https://github.com/kriskowal/q/issues/396\n\n        // Timers are implemented universally.\n        // We fall back to timers in workers in most engines, and in foreground\n        // contexts in the following browsers.\n        // However, note that even this simple case requires nuances to operate in a\n        // broad spectrum of browsers.\n        //\n        // - Firefox 3-13\n        // - Internet Explorer 6-9\n        // - iPad Safari 4.3\n        // - Lynx 2.8.7\n        } else {\n            requestFlush = makeRequestCallFromTimer(flush);\n        }\n\n        // `requestFlush` requests that the high priority event queue be flushed as\n        // soon as possible.\n        // This is useful to prevent an error thrown in a task from stalling the event\n        // queue if the exception handled by Node.js’s\n        // `process.on(\"uncaughtException\")` or by a domain.\n        rawAsap.requestFlush = requestFlush;\n\n        // To request a high priority event, we induce a mutation observer by toggling\n        // the text of a text node between \"1\" and \"-1\".\n        function makeRequestCallFromMutationObserver(callback) {\n            var toggle = 1;\n            var observer = new BrowserMutationObserver(callback);\n            var node = document.createTextNode(\"\");\n            observer.observe(node, {characterData: true});\n            return function requestCall() {\n                toggle = -toggle;\n                node.data = toggle;\n            };\n        }\n\n        // The message channel technique was discovered by Malte Ubl and was the\n        // original foundation for this library.\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n\n        // Safari 6.0.5 (at least) intermittently fails to create message ports on a\n        // page's first load. Thankfully, this version of Safari supports\n        // MutationObservers, so we don't need to fall back in that case.\n\n        // function makeRequestCallFromMessageChannel(callback) {\n        //     var channel = new MessageChannel();\n        //     channel.port1.onmessage = callback;\n        //     return function requestCall() {\n        //         channel.port2.postMessage(0);\n        //     };\n        // }\n\n        // For reasons explained above, we are also unable to use `setImmediate`\n        // under any circumstances.\n        // Even if we were, there is another bug in Internet Explorer 10.\n        // It is not sufficient to assign `setImmediate` to `requestFlush` because\n        // `setImmediate` must be called *by name* and therefore must be wrapped in a\n        // closure.\n        // Never forget.\n\n        // function makeRequestCallFromSetImmediate(callback) {\n        //     return function requestCall() {\n        //         setImmediate(callback);\n        //     };\n        // }\n\n        // Safari 6.0 has a problem where timers will get lost while the user is\n        // scrolling. This problem does not impact ASAP because Safari 6.0 supports\n        // mutation observers, so that implementation is used instead.\n        // However, if we ever elect to use timers in Safari, the prevalent work-around\n        // is to add a scroll event listener that calls for a flush.\n\n        // `setTimeout` does not call the passed callback if the delay is less than\n        // approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n        // even then.\n\n        function makeRequestCallFromTimer(callback) {\n            return function requestCall() {\n                // We dispatch a timeout with a specified delay of 0 for engines that\n                // can reliably accommodate that request. This will usually be snapped\n                // to a 4 milisecond delay, but once we're flushing, there's no delay\n                // between events.\n                var timeoutHandle = setTimeout(handleTimer, 0);\n                // However, since this timer gets frequently dropped in Firefox\n                // workers, we enlist an interval handle that will try to fire\n                // an event 20 times per second until it succeeds.\n                var intervalHandle = setInterval(handleTimer, 50);\n\n                function handleTimer() {\n                    // Whichever timer succeeds will cancel both timers and\n                    // execute the callback.\n                    clearTimeout(timeoutHandle);\n                    clearInterval(intervalHandle);\n                    callback();\n                }\n            };\n        }\n\n        // This is for `asap.js` only.\n        // Its name will be periodically randomized to break any code that depends on\n        // its existence.\n        rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n        // ASAP was originally a nextTick shim included in Q. This was factored out\n        // into this ASAP package. It was later adapted to RSVP which made further\n        // amendments. These decisions, particularly to marginalize MessageChannel and\n        // to capture the MutationObserver implementation in a closure, were integrated\n        // back into ASAP proper.\n        // https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n        return rawAsap;\n\n    });\n\n}(\n    typeof define === 'function' && define.amd ? define : function (factory) {\n        module.exports = factory(require);\n    }\n    // Boilerplate for AMD and Node\n));\n\n\n// WEBPACK FOOTER //\n// ./src/when/raw.js","'use strict';\n/**\n * 文件用途说明 : promise-ES6 核心实现库\n *\n * 项目名称 : dfzq-obboot-mobi\n * 作者姓名 : crixusshen\n * 创建日期 : 16/4/3\n * 修改日期 : 16/4/3\n * 版权所有 : 东方证券股份有限公司\n **/\n(function (define) {\n\n    define(function (require) {\n\n        //This file contains the ES6 extensions to the core Promises/A+ API\n\n        var Promise = require('./core.js');\n\n        /* Static Functions */\n\n        var TRUE = valuePromise(true);\n        var FALSE = valuePromise(false);\n        var NULL = valuePromise(null);\n        var UNDEFINED = valuePromise(undefined);\n        var ZERO = valuePromise(0);\n        var EMPTYSTRING = valuePromise('');\n\n        function valuePromise(value) {\n            var p = new Promise(Promise._noop);\n            p._state = 1;\n            p._value = value;\n            return p;\n        }\n        Promise.resolve = function (value) {\n            if (value instanceof Promise) return value;\n\n            if (value === null) return NULL;\n            if (value === undefined) return UNDEFINED;\n            if (value === true) return TRUE;\n            if (value === false) return FALSE;\n            if (value === 0) return ZERO;\n            if (value === '') return EMPTYSTRING;\n\n            if (typeof value === 'object' || typeof value === 'function') {\n                try {\n                    var then = value.then;\n                    if (typeof then === 'function') {\n                        return new Promise(then.bind(value));\n                    }\n                } catch (ex) {\n                    return new Promise(function (resolve, reject) {\n                        reject(ex);\n                    });\n                }\n            }\n            return valuePromise(value);\n        };\n\n        Promise.all = function (arr) {\n            var args = Array.prototype.slice.call(arr);\n\n            return new Promise(function (resolve, reject) {\n                if (args.length === 0) return resolve([]);\n                var remaining = args.length;\n                function res(i, val) {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                        if (val instanceof Promise && val.then === Promise.prototype.then) {\n                            while (val._state === 3) {\n                                val = val._value;\n                            }\n                            if (val._state === 1) return res(i, val._value);\n                            if (val._state === 2) reject(val._value);\n                            val.then(function (val) {\n                                res(i, val);\n                            }, reject);\n                            return;\n                        } else {\n                            var then = val.then;\n                            if (typeof then === 'function') {\n                                var p = new Promise(then.bind(val));\n                                p.then(function (val) {\n                                    res(i, val);\n                                }, reject);\n                                return;\n                            }\n                        }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                        resolve(args);\n                    }\n                }\n                for (var i = 0; i < args.length; i++) {\n                    res(i, args[i]);\n                }\n            });\n        };\n\n        Promise.reject = function (value) {\n            return new Promise(function (resolve, reject) {\n                reject(value);\n            });\n        };\n\n        Promise.race = function (values) {\n            return new Promise(function (resolve, reject) {\n                values.forEach(function(value){\n                    Promise.resolve(value).then(resolve, reject);\n                });\n            });\n        };\n\n        Promise.promise = function (fn) {\n            return new Promise(fn);\n        };\n\n        Promise.attempt = function (fn) {\n            for(var i=0, l=arguments.length-1, args=new Array(l); i<l; ++i) {\n                args[i] = arguments[i+1];\n            }\n\n            try {\n                return this.resolve(fn.apply(this, args));\n            } catch(e) {\n                return this.reject(e);\n            }\n        };\n\n        /* Prototype Methods */\n\n        Promise.prototype['otherwise'] = function (onRejected) {\n            return this.then(null, onRejected);\n        };\n\n        return Promise;\n    });\n\n}(\n    typeof define === 'function' && define.amd ? define : function (factory) {\n        module.exports = factory(require);\n    }\n    // Boilerplate for AMD and Node\n));\n\n\n// WEBPACK FOOTER //\n// ./src/when/promise.js"],"sourceRoot":""}