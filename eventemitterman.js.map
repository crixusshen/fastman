{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6****************","webpack:///./src/plugins/eventEmitter/index.js"],"names":["EventEmitter","model","eventEmitter","events","onceEvents","actions","on","data","error","eventName","push","callback","once","emit","args","i","m","length","j","n","shift"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;;;;;;;;;;;;;ACVA;;;;;;AAMA,IAAMA,eAAe,SAAfA,YAAe,GAAY;AAC7B,WAAO;AACHC,eAAO;AACHC,0BAAc;AACV;AACAC,wBAAQ,EAFE;AAGV;AACAC,4BAAY;AAJF;AADX,SADJ;AASHC,iBAAS;AACLH,0BAAc;AACV;;;;;AAKAI,oBAAI,YAACL,KAAD,EAAQM,IAAR,EAAcF,OAAd,EAAuBG,KAAvB,EAAiC;AACjCP,0BAAMC,YAAN,CAAmBC,MAAnB,CAA0BI,KAAKE,SAA/B,IAA4CR,MAAMC,YAAN,CAAmBC,MAAnB,CAA0BI,KAAKE,SAA/B,KAA6C,EAAzF;AACAR,0BAAMC,YAAN,CAAmBC,MAAnB,CAA0BI,KAAKE,SAA/B,EAA0CC,IAA1C,CAA+CH,KAAKI,QAApD;AACH,iBATS;;AAWV;;;;;AAKAC,sBAAM,cAACX,KAAD,EAAQM,IAAR,EAAcF,OAAd,EAAuBG,KAAvB,EAAiC;AACnCP,0BAAMC,YAAN,CAAmBE,UAAnB,CAA8BG,KAAKE,SAAnC,IAAgDR,MAAMC,YAAN,CAAmBE,UAAnB,CAA8BG,KAAKE,SAAnC,KAAiD,EAAjG;AACAR,0BAAMC,YAAN,CAAmBE,UAAnB,CAA8BG,KAAKE,SAAnC,EAA8CC,IAA9C,CAAmDH,KAAKI,QAAxD;AACH,iBAnBS;;AAqBV;;;;;AAKAE,sBAAM,cAACZ,KAAD,EAAQM,IAAR,EAAcF,OAAd,EAAuBG,KAAvB,EAAiC;AACnC;AADmC,wBAE9BC,SAF8B,GAERF,IAFQ,CAE9BE,SAF8B;AAAA,wBAEhBK,IAFgB,4BAERP,IAFQ;;AAInC,wBAAIJ,SAASF,MAAMC,YAAN,CAAmBC,MAAnB,CAA0BM,SAA1B,CAAb;AAAA,wBACIM,CADJ;AAAA,wBACOC,CADP;;AAGA,wBAAIb,MAAJ,EAAY;AACR,6BAAKY,IAAI,CAAJ,EAAOC,IAAIb,OAAOc,MAAvB,EAA+BF,IAAIC,CAAnC,EAAsCD,GAAtC,EAA2C;AACvCZ,mCAAOY,CAAP,EAAUD,IAAV;AACH;AACJ;;AAED,wBAAIV,aAAaH,MAAMC,YAAN,CAAmBE,UAAnB,CAA8BK,SAA9B,CAAjB;AAAA,wBACIS,CADJ;AAAA,wBACOC,CADP;;AAGA,wBAAIf,UAAJ,EAAgB;AACZ,6BAAKc,IAAI,CAAJ,EAAOC,IAAIf,WAAWa,MAA3B,EAAmCC,IAAIC,CAAvC,EAA0CD,GAA1C,EAA+C;AAC3Cd,uCAAWgB,KAAX,GAAmBN,IAAnB;AACH;AACJ;AAEJ;;AAhDS;AADT;AATN,KAAP;AA+DH,CAhED;;kBAkEed,Y","file":"eventemitterman.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fastman\"] = factory();\n\telse\n\t\troot[\"fastman\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","/*\n    事件处理器插件\n    1. 该插件必须是一个单列，防止重复实例化派生出新的实例\n    2. 该插件内的事件将会注册在自身作用域内，通过一个对象数组的形式进行存储\n    3. 该插件不存在任何依赖\n */\nconst EventEmitter = function () {\n    return {\n        model: {\n            eventEmitter: {\n                // 收集所有的注册事件，该事件收集器可循环调用\n                events: [],\n                // 收集所有的注册事件，该事件收集器只可调用一次\n                onceEvents: [],\n            }\n        },\n        actions: {\n            eventEmitter: {\n                /**\n                 * 订阅事件(可循环调用)\n                 * @param data.eventName 事件名称\n                 * @param data.callback  事件回调处理的函数\n                 */\n                on: (model, data, actions, error) => {\n                    model.eventEmitter.events[data.eventName] = model.eventEmitter.events[data.eventName] || []\n                    model.eventEmitter.events[data.eventName].push(data.callback)\n                },\n\n                /**\n                 * 订阅事件(一次性调用)\n                 * @param data.eventName 事件名称\n                 * @param data.callback  事件回调处理的函数\n                 */\n                once: (model, data, actions, error) => {\n                    model.eventEmitter.onceEvents[data.eventName] = model.eventEmitter.onceEvents[data.eventName] || []\n                    model.eventEmitter.onceEvents[data.eventName].push(data.callback)\n                },\n\n                /**\n                 * 通知/发射事件\n                 * @param data.eventName 事件名称\n                 * @param data ...args 除了事件名称参数外的arguments\n                 */\n                emit: (model, data, actions, error) => {\n                    // 进行对象展开\n                    let {eventName, ...args} = data\n\n                    var events = model.eventEmitter.events[eventName],\n                        i, m;\n\n                    if (events) {\n                        for (i = 0, m = events.length; i < m; i++) {\n                            events[i](args)\n                        }\n                    }\n\n                    var onceEvents = model.eventEmitter.onceEvents[eventName],\n                        j, n;\n\n                    if (onceEvents) {\n                        for (j = 0, n = onceEvents.length; j < n; j++) {\n                            onceEvents.shift()(args)\n                        }\n                    }\n\n                },\n\n            }\n        }\n    }\n}\n\nexport default EventEmitter\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/eventEmitter/index.js"],"sourceRoot":""}